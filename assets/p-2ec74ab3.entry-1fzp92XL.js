import{N as f,O as m}from"./preview-Cp9OdNlu.js";import{M as h}from"./p-abea0bd2-55DIQVI1.js";import{m as c}from"./p-107c3d7f-lK1Nx8Nb.js";import{n}from"./p-ade4f913-CaQ8GiUG.js";import{e as d}from"./p-849728b4-DXyKjzoT.js";import"./p-f5723aee-KeNxIJx_.js";import"./iframe-vvwA9ouH.js";import"../sb-preview/runtime.js";import"./chunk-GKNNPQCW-BkHQSocK.js";import"./p-1580513b-3LX64KEr.js";import"./p-529fdce5-C1bBLtu6.js";import"./p-e9c4f463-BPmi-3c5.js";var u=function(t,e,o,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,o):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(l=t[a])&&(r=(s<3?l(r):s>3?l(e,o,r):l(e,o))||r);return s>3&&r&&Object.defineProperty(e,o,r),r};const p=class{constructor(t){f(this,t),this.formatter=n,this.valueToDisplay=null,this.error=void 0,this.field=void 0,this.formatter=n,this.valueToDisplay=null}setFormat(t){t.preventDefault(),t.stopPropagation(),this.formatter=t.detail}parseValue(){const t=h.getResultProperty(this.result,this.field);if(t===null)return null;const e=parseFloat(`${t}`);return Number.isNaN(e)?(this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`),null):e}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(e){return this.error=e,t.toString()}}updateValueToDisplay(){const t=this.parseValue();t!==null&&(this.valueToDisplay=this.formatValue(t))}componentWillRender(){this.updateValueToDisplay()}render(){if(this.valueToDisplay===null){this.host.remove();return}return this.valueToDisplay}get host(){return m(this)}};u([c()],p.prototype,"bindings",void 0);u([d()],p.prototype,"result",void 0);export{p as atomic_result_number};
