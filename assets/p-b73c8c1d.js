import{h as e}from"./p-00525453.js";import{H as t}from"./p-16bd4264.js";import{H as s}from"./p-107c3d7f.js";import{B as r}from"./p-c58ca89b.js";import{R as i}from"./p-14a6f1cd.js";const n=`<svg fill="none" width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><circle cx="7" cy="7" r="6.5" stroke="currentColor" stroke-linecap="round"/><path d="M4 7.07692L6 9L10 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/></svg>`;const o=`<svg fill="none" width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><circle cx="7" cy="7" r="6.5" stroke="currentColor" stroke-linecap="round"/><path d="M5 9L9 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 9L5 5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/></svg>`;const a=t=>{const s="feedback-inquiry-"+t.id;const a="feedback-thank-you-"+t.id;const l="feedback-options-"+t.id;const c=()=>e("span",{id:s,part:"feedback-inquiry",class:"shrink-0"},t.i18n.t("smart-snippet-feedback-inquiry"));const d=()=>e("div",{part:"feedback-buttons",class:"flex gap-x-4"},e("label",{part:"feedback-like-button",class:"flex items-center gap-x-1.5 "+(t.liked?"text-success":"cursor-pointer hover:underline")},e("atomic-icon",{icon:n,class:"w-3.5"}),e(i,{groupName:l,text:t.i18n.t("yes"),checked:t.liked,onChecked:()=>t.onLike(),class:"text-inherit cursor-inherit"})),e("label",{part:"feedback-dislike-button",class:"flex items-center gap-x-1.5 "+(t.disliked?"text-error":"cursor-pointer hover:underline")},e("atomic-icon",{icon:o,class:"w-3.5"}),e(i,{groupName:l,text:t.i18n.t("no"),checked:t.disliked,onChecked:()=>t.onDislike(),class:"text-inherit cursor-inherit"})));const p=()=>e("span",{id:a,part:"feedback-thank-you",class:"inline-flex"},t.i18n.t("smart-snippet-feedback-thanks"));const h=()=>e(r,{part:"feedback-explain-why-button",style:"text-primary",onClick:()=>t.onPressExplainWhy(),ref:e=>{var s;return(s=t.explainWhyRef)===null||s===void 0?void 0:s.call(t,e)}},t.i18n.t("smart-snippet-feedback-explain-why"));const u=({visible:s})=>s?e("div",{part:"feedback-thank-you-wrapper",class:"flex flex-wrap gap-1"},e(p,null),t.disliked&&!t.feedbackSent?e(h,null):[]):[];return e("div",{part:"feedback-banner",class:"flex flex-wrap items-center gap-4 text-sm leading-4"},e("div",{part:"feedback-inquiry-and-buttons",role:"radiogroup","aria-labelledby":s,class:"inline-flex flex-wrap gap-4"},e(c,null),e(d,null)),e(u,{visible:t.liked||t.disliked}))};class l{constructor(e){this.props=e}get style(){var e;const t=(e=this.props.getHost().querySelector("template"))===null||e===void 0?void 0:e.content.querySelector("style");if(!t){return this.props.getSnippetStyle()}return t.innerHTML}loadModal(){if(this.props.getModalRef()){return}const e=document.createElement(this.props.modalTagName);e.addEventListener("feedbackSent",(()=>{this.props.setFeedbackSent(true)}));this.props.setModalRef(e);this.props.getHost().insertAdjacentElement("beforebegin",e)}renderQuestion(){const s=this.props.getHeadingLevel();return e(t,{level:s?s+1:0,class:"text-xl font-bold",part:"question"},this.props.getSmartSnippetState().question)}canSnippetCollapse(){var e,t;return((t=(e=this.props).getSnippetMaximumHeight)===null||t===void 0?void 0:t.call(e))!==undefined}renderContent(){const t=this.props.getSmartSnippetState();if(this.canSnippetCollapse()){return e("div",{part:"truncated-answer"},e("atomic-smart-snippet-answer",{exportparts:"answer",part:"body",htmlContent:t.answer,innerStyle:this.style}))}return e("atomic-smart-snippet-expandable-answer",{exportparts:"answer,show-more-button,show-less-button,truncated-answer",part:"body",htmlContent:t.answer,expanded:t.expanded,maximumHeight:this.props.getMaximumHeight(),collapsedHeight:this.props.getCollapsedHeight(),snippetStyle:this.style,onExpand:()=>this.props.getSmartSnippet().expand(),onCollapse:()=>this.props.getSmartSnippet().collapse()})}renderFeedbackBanner(){const t=this.props.getSmartSnippetState();return e(a,{i18n:this.props.getBindings().i18n,id:this.props.id,liked:t.liked,disliked:t.disliked,feedbackSent:this.props.getFeedbackSent(),onLike:()=>this.props.getSmartSnippet().like(),onDislike:()=>{this.loadModal();this.props.getSmartSnippet().dislike()},onPressExplainWhy:()=>this.props.getModalRef().isOpen=true,explainWhyRef:e=>{if(this.props.getModalRef()){this.props.getModalRef().source=e}}})}hideDuringRender(e){const t=this.props.getHost();t.style.visibility=e?"hidden":"";t.style.position=e?"absolute":""}render(){var r,i,n,o,a,l,c;if(!this.props.getSmartSnippetState().answerFound){return e(s,null)}if(this.props.getHost().classList.contains("atomic-hidden")){this.hideDuringRender(true)}const d=this.props.getSmartSnippetState().source;return e("aside",null,e(t,{level:(r=this.props.getHeadingLevel())!==null&&r!==void 0?r:0,class:"accessibility-only"},this.props.getBindings().i18n.t("smart-snippet")),e("article",{class:"bg-background border border-neutral rounded-lg p-6 pb-4 text-on-background",part:"smart-snippet"},e("atomic-smart-snippet-collapse-wrapper",{maximumHeight:(n=(i=this.props).getSnippetMaximumHeight)===null||n===void 0?void 0:n.call(i),collapsedHeight:(a=(o=this.props).getSnippetCollapsedHeight)===null||a===void 0?void 0:a.call(o)},this.renderQuestion(),this.renderContent(),e("footer",{part:"footer","aria-label":this.props.getBindings().i18n.t("smart-snippet-source")},d&&e("atomic-smart-snippet-source",{anchorAttributes:(c=(l=this.props).getSourceAnchorAttributes)===null||c===void 0?void 0:c.call(l),source:d,onSelectSource:this.props.getSmartSnippet().selectSource,onBeginDelayedSelectSource:this.props.getSmartSnippet().beginDelayedSelectSource,onCancelPendingSelectSource:this.props.getSmartSnippet().cancelPendingSelectSource}),this.renderFeedbackBanner()))))}}export{l as S};
//# sourceMappingURL=p-b73c8c1d.js.map