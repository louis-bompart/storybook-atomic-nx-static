import{N as u,g as h,O as c}from"./preview-C4e5QyPH.js";import{t as m,n as l}from"./p-ade4f913-CaQ8GiUG.js";import{p as d}from"./p-b9bd83ee-BMwo3ZL5.js";import{m as y}from"./p-107c3d7f-C4HwDtxk.js";import{r as g}from"./p-81146180-Xi_BR-V0.js";import"./p-f5723aee-BNyovPuY.js";import"./iframe-DZOcfrC1.js";import"../sb-preview/runtime.js";import"./chunk-GKNNPQCW-BkHQSocK.js";import"./p-1580513b-3LX64KEr.js";import"./p-529fdce5-CfCZs-Ro.js";import"./p-e9c4f463-BPmi-3c5.js";const w=class{constructor(t){u(this,t),this.format=(r,o)=>r.toLocaleString(o,{style:"currency",currency:this.currency}),this.error=void 0,this.currency=void 0}componentWillLoad(){try{m((t,r)=>this.format(t,r),this.host)}catch(t){this.error=t}}render(){if(this.error)return h("atomic-component-error",{key:"9d4c752b783c295e668ce3f6506e22c5fb571dbf",element:this.host,error:this.error})}get host(){return c(this)}};var p=function(t,r,o,i){var s=arguments.length,e=s<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,o):i,n;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(t,r,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(e=(s<3?n(e):s>3?n(r,o,e):n(r,o))||e);return s>3&&e&&Object.defineProperty(r,o,e),e};const f=class{constructor(t){u(this,t),this.formatter=l,this.valueToDisplay=null,this.error=void 0,this.field=void 0,this.formatter=l,this.valueToDisplay=null}setFormat(t){t.preventDefault(),t.stopPropagation(),this.formatter=t.detail}parseValue(){const t=d.getProductProperty(this.product,this.field);if(t===null)return null;const r=parseFloat(`${t}`);return Number.isNaN(r)?(this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`),null):r}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(r){return this.error=r,t.toString()}}updateValueToDisplay(){const t=this.parseValue();t!==null&&(this.valueToDisplay=this.formatValue(t))}componentWillRender(){this.updateValueToDisplay()}render(){if(this.valueToDisplay===null){this.host.remove();return}return this.valueToDisplay}get host(){return c(this)}};p([y()],f.prototype,"bindings",void 0);p([g()],f.prototype,"product",void 0);export{w as atomic_format_currency,f as atomic_product_numeric_field_value};
