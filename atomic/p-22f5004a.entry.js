import{r as t,d as e,h as i}from"./p-00525453.js";import{l as s}from"./p-e12016d2.js";import{p as a}from"./p-395a891a.js";import{B as n}from"./p-c58ca89b.js";import"./p-97890486.js";import"./p-e9c4f463.js";import"./p-4dcb66f1.js";import"./p-1580513b.js";import"./p-b0ede3ce.js";const r=class{constructor(i){t(this,i);this.applyInput=e(this,"atomic/dateInputApply",7);this.start=undefined;this.end=undefined;this.bindings=undefined;this.filter=undefined;this.filterState=undefined;this.label=undefined;this.min=undefined;this.max=undefined}connectedCallback(){this.start=this.filterState.range?a(this.filterState.range.start).toDate():undefined;this.end=this.filterState.range?a(this.filterState.range.end).toDate():undefined}apply(){if(!this.startRef.validity.valid||!this.endRef.validity.valid){return}this.applyInput.emit();this.filter.setRange(s({start:this.start,end:this.end.setHours(23,59,59,999)}))}formattedDateValue(t){if(!t){return""}return a(t).format("YYYY-MM-DD")}render(){var t,e;const s=this.bindings.i18n.t(this.label);const r=this.bindings.i18n.t("start");const d=this.bindings.i18n.t("end");const p=this.bindings.i18n.t("date-input-start",{label:s});const h=this.bindings.i18n.t("date-input-end",{label:s});const c=this.bindings.i18n.t("apply");const l=this.bindings.i18n.t("date-input-apply",{label:s});const o="input-primary p-2.5";const u="text-neutral-dark self-center";const f="yyyy-mm-dd";const b="^(1[4-9]\\d{2}|2\\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$";return i("form",{key:"7c7b17bbc53e206e8f7e0eb7330f6c4f76f28fef",class:"grid gap-2 grid-cols-min-1fr mt-4 px-2",onSubmit:t=>{t.preventDefault();this.apply();return false}},i("label",{key:"a7e301d6830024e43a500100b08c82b77e4cb3c3",part:"input-label",class:u,htmlFor:`${this.filterState.facetId}_start`},r,":"),i("input",{key:"ebdeefed8f8ce7b1a70a7a4c1a1dfa6653a2b593",id:`${this.filterState.facetId}_start`,part:"input-start",type:"date",ref:t=>this.startRef=t,class:o,"aria-label":p,placeholder:f,pattern:b,required:true,min:this.min||this.formattedDateValue("1401-01-01"),max:this.end?this.formattedDateValue(this.end):this.max,value:this.formattedDateValue((t=this.filterState.range)===null||t===void 0?void 0:t.start),onInput:t=>this.start=a(t.target.value).toDate()}),i("label",{key:"ffb4ec407a4a48b89744b3eeb20f693329fdf1a5",part:"input-label",class:u,htmlFor:`${this.filterState.facetId}_end`},d,":"),i("input",{key:"ddb91628e28644acc14683c67b01ce9c7db132d0",id:`${this.filterState.facetId}_end`,part:"input-end",type:"date",ref:t=>this.endRef=t,class:o,"aria-label":h,placeholder:f,pattern:b,required:true,min:this.min||this.formattedDateValue(this.start),max:this.max,value:this.formattedDateValue((e=this.filterState.range)===null||e===void 0?void 0:e.end),onInput:t=>this.end=a(t.target.value).toDate()}),i(n,{key:"63e9393cc2cd249f37badf7ae4a30b347e47391d",style:"outline-primary",type:"submit",part:"input-apply-button",class:"p-2.5 col-span-2 truncate",ariaLabel:l,text:c}))}};export{r as atomic_facet_date_input};
//# sourceMappingURL=p-22f5004a.entry.js.map