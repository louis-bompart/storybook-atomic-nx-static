{"version":3,"names":["getDisplayClass","display","getDensityClass","density","getImageClass","image","getItemListDisplayClasses","isLoading","isAppLoading","classes","getItemDisplayClasses","push","join","ItemLayout","constructor","children","imageSize","this","getImageSizeFromSections","_a","getSection","getAttribute","undefined","section","Array","from","find","element","tagName","toLowerCase","getClasses","HTMLContent","containsSections"],"sources":["src/components/common/layout/display-options.ts"],"sourcesContent":["import {containsSections, ItemSectionTagName} from './sections';\r\n\r\nexport type ItemDisplayBasicLayout = 'list' | 'grid';\r\nexport type ItemDisplayLayout = ItemDisplayBasicLayout | 'table';\r\nexport type ItemDisplayDensity = 'comfortable' | 'normal' | 'compact';\r\nexport type ItemDisplayImageSize = 'large' | 'small' | 'icon' | 'none';\r\nexport type ItemTarget = '_self' | '_blank' | '_parent' | '_top';\r\n\r\nfunction getDisplayClass(display: ItemDisplayLayout) {\r\n  switch (display) {\r\n    case 'grid':\r\n      return 'display-grid';\r\n    case 'list':\r\n    default:\r\n      return 'display-list';\r\n    case 'table':\r\n      return 'display-table';\r\n  }\r\n}\r\n\r\nfunction getDensityClass(density: ItemDisplayDensity) {\r\n  switch (density) {\r\n    case 'comfortable':\r\n      return 'density-comfortable';\r\n    case 'normal':\r\n    default:\r\n      return 'density-normal';\r\n    case 'compact':\r\n      return 'density-compact';\r\n  }\r\n}\r\n\r\nfunction getImageClass(image: ItemDisplayImageSize) {\r\n  switch (image) {\r\n    case 'large':\r\n      return 'image-large';\r\n    case 'small':\r\n      return 'image-small';\r\n    case 'icon':\r\n    default:\r\n      return 'image-icon';\r\n    case 'none':\r\n      return 'image-none';\r\n  }\r\n}\r\n\r\nexport function getItemListDisplayClasses(\r\n  display: ItemDisplayLayout,\r\n  density: ItemDisplayDensity,\r\n  image: ItemDisplayImageSize,\r\n  isLoading: boolean,\r\n  isAppLoading: boolean\r\n) {\r\n  const classes = getItemDisplayClasses(display, density, image);\r\n\r\n  if (isLoading) {\r\n    classes.push('loading');\r\n  }\r\n\r\n  if (isAppLoading) {\r\n    classes.push('placeholder');\r\n  }\r\n  return classes.join(' ');\r\n}\r\n\r\nexport function getItemDisplayClasses(\r\n  display: ItemDisplayLayout,\r\n  density: ItemDisplayDensity,\r\n  image: ItemDisplayImageSize\r\n) {\r\n  const classes = [\r\n    getDisplayClass(display),\r\n    getDensityClass(density),\r\n    getImageClass(image),\r\n  ];\r\n  return classes;\r\n}\r\n\r\nexport class ItemLayout {\r\n  private children: HTMLCollection;\r\n  private density: ItemDisplayDensity;\r\n  private imageSize: ItemDisplayImageSize;\r\n  private display: ItemDisplayLayout;\r\n\r\n  constructor(\r\n    children: HTMLCollection,\r\n    display: ItemDisplayLayout,\r\n    density: ItemDisplayDensity,\r\n    imageSize: ItemDisplayImageSize\r\n  ) {\r\n    this.children = children;\r\n    this.display = display;\r\n    this.density = density;\r\n    this.imageSize = imageSize;\r\n  }\r\n\r\n  private getImageSizeFromSections() {\r\n    const imageSize = this.getSection(\r\n      'atomic-result-section-visual'\r\n    )?.getAttribute('image-size');\r\n    if (!imageSize) {\r\n      return undefined;\r\n    }\r\n    return imageSize as ItemDisplayImageSize;\r\n  }\r\n\r\n  private getSection(section: ItemSectionTagName) {\r\n    return Array.from(this.children).find(\r\n      (element) => element.tagName.toLowerCase() === section\r\n    );\r\n  }\r\n\r\n  public getClasses(HTMLContent?: string) {\r\n    const classes = getItemDisplayClasses(\r\n      this.display,\r\n      this.density,\r\n      this.getImageSizeFromSections() ?? this.imageSize\r\n    );\r\n    if (\r\n      HTMLContent\r\n        ? containsSections(HTMLContent)\r\n        : containsSections(this.children)\r\n    ) {\r\n      classes.push('with-sections');\r\n    }\r\n    return classes;\r\n  }\r\n}\r\n"],"mappings":"oCAQA,SAASA,EAAgBC,GACvB,OAAQA,GACN,IAAK,OACH,MAAO,eACT,IAAK,OACL,QACE,MAAO,eACT,IAAK,QACH,MAAO,gBAEb,CAEA,SAASC,EAAgBC,GACvB,OAAQA,GACN,IAAK,cACH,MAAO,sBACT,IAAK,SACL,QACE,MAAO,iBACT,IAAK,UACH,MAAO,kBAEb,CAEA,SAASC,EAAcC,GACrB,OAAQA,GACN,IAAK,QACH,MAAO,cACT,IAAK,QACH,MAAO,cACT,IAAK,OACL,QACE,MAAO,aACT,IAAK,OACH,MAAO,aAEb,C,SAEgBC,EACdL,EACAE,EACAE,EACAE,EACAC,GAEA,MAAMC,EAAUC,EAAsBT,EAASE,EAASE,GAExD,GAAIE,EAAW,CACbE,EAAQE,KAAK,U,CAGf,GAAIH,EAAc,CAChBC,EAAQE,KAAK,c,CAEf,OAAOF,EAAQG,KAAK,IACtB,C,SAEgBF,EACdT,EACAE,EACAE,GAEA,MAAMI,EAAU,CACdT,EAAgBC,GAChBC,EAAgBC,GAChBC,EAAcC,IAEhB,OAAOI,CACT,C,MAEaI,EAMX,WAAAC,CACEC,EACAd,EACAE,EACAa,GAEAC,KAAKF,SAAWA,EAChBE,KAAKhB,QAAUA,EACfgB,KAAKd,QAAUA,EACfc,KAAKD,UAAYA,C,CAGX,wBAAAE,G,MACN,MAAMF,GAAYG,EAAAF,KAAKG,WACrB,mCACD,MAAAD,SAAA,SAAAA,EAAEE,aAAa,cAChB,IAAKL,EAAW,CACd,OAAOM,S,CAET,OAAON,C,CAGD,UAAAI,CAAWG,GACjB,OAAOC,MAAMC,KAAKR,KAAKF,UAAUW,MAC9BC,GAAYA,EAAQC,QAAQC,gBAAkBN,G,CAI5C,UAAAO,CAAWC,G,MAChB,MAAMtB,EAAUC,EACdO,KAAKhB,QACLgB,KAAKd,SACLgB,EAAAF,KAAKC,8BAA0B,MAAAC,SAAA,EAAAA,EAAIF,KAAKD,WAE1C,GACEe,EACIC,EAAiBD,GACjBC,EAAiBf,KAAKF,UAC1B,CACAN,EAAQE,KAAK,gB,CAEf,OAAOF,C"}