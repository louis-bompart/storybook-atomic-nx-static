{"file":"recent-queries-627208b4.js","mappings":";;;;;;MAMa,4BAA4B,GAAG,CAC1C,KAAa,EACb,IAAU;IAEV,OAAO;QACL,IAAI,EAAE,mBAAmB;QACzB,KAAK,EAAE,KAAK;QACZ,GAAG,EAAE,UAAUA,iCAAqB,CAAC,KAAK,CAAC,EAAE;QAC7C,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,+BAA+B,EAAE;YACjD,KAAK,EAAE,KAAK;YACZ,aAAa,EAAE,EAAC,WAAW,EAAE,KAAK,EAAC;SACpC,CAAC;KACH,CAAC;AACJ,EAAE;MAEW,iCAAiC,GAAG,CAC/C,IAAU;IAKV,OAAO;QACL,GAAG,EAAE,oBAAoB;QACzB,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC,uBAAuB,EAAE;YACzC,aAAa,EAAE,EAAC,WAAW,EAAE,KAAK,EAAC;SACpC,CAAC;QACF,IAAI,EAAE,4CAA4C;QAClD,UAAU,EAAE,IAAI;KACjB,CAAC;AACJ,EAAE;MAEW,sBAAsB,GAAwB,CAAC,CAAC,EAAE,QAAQ;IACrE,QACEC,iBACE,IAAI,EAAC,sBAAsB,EAC3B,KAAK,EAAC,uCAAuC,IAE5C,QAAQ,CACL,EACN;AACJ,EAAE;MAMW,eAAe,GAA8C,CAAC,EACzE,IAAI,GACL;IACC,QACEA,yBACE,IAAI,EAAC,mBAAmB,EACxB,IAAI,EAAE,IAAI,EACV,KAAK,EAAC,uBAAuB,GAChB,EACf;AACJ,EAAE;MAOW,eAAe,GAA8C,CAAC,EACzE,KAAK,EACL,KAAK,GACN;IACC,IAAI,KAAK,KAAK,EAAE,EAAE;QAChB,QACEA,kBAAM,IAAI,EAAC,mBAAmB,EAAC,KAAK,EAAC,wBAAwB,IAC1D,KAAK,CACD,EACP;KACH;IACD,QACEA,kBACE,IAAI,EAAC,mBAAmB,EACxB,KAAK,EAAC,wBAAwB,EAC9B,SAAS,EAAEC,eAAc,CAAC,eAAe,CAAC;YACxC,OAAO,EAAE,KAAK;YACd,gBAAgB,EACd,6DAA6D;YAC/D,gBAAgB,EAAE,SAAS;YAC3B,UAAU,EAAE;gBACV;oBACE,MAAM,EAAE,KAAK,CAAC,MAAM;oBACpB,MAAM,EAAE,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM;iBACpC;aACF;SACF,CAAC,GACI,EACR;AACJ,EAAE;MAMW,gBAAgB,GAA+C,CAAC,EAC3E,IAAI,GACL;IACC,QACED,iBAAK,IAAI,EAAC,4BAA4B,EAAC,KAAK,EAAC,6BAA6B;QACxEA,kBAAM,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,oBAAoB,IAC9C,IAAI,CAAC,CAAC,CAAC,iBAAiB,CAAC,CACrB;QACPA,kBAAM,IAAI,EAAC,oBAAoB,IAAE,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,CAAQ,CACpD,EACN;AACJ;;;;;;;;;","names":["encodeForDomAttribute","h","HighlightUtils"],"sources":["src/components/common/suggestions/recent-queries.tsx"],"sourcesContent":["import {HighlightUtils} from '@coveo/headless';\r\nimport {FunctionalComponent, h} from '@stencil/core';\r\nimport {i18n} from 'i18next';\r\nimport {encodeForDomAttribute} from '../../../utils/string-utils';\r\nimport {SearchBoxSuggestionElement} from './suggestions-common';\r\n\r\nexport const getPartialRecentQueryElement = (\r\n  value: string,\r\n  i18n: i18n\r\n): Pick<SearchBoxSuggestionElement, 'ariaLabel' | 'key' | 'query' | 'part'> => {\r\n  return {\r\n    part: 'recent-query-item',\r\n    query: value,\r\n    key: `recent-${encodeForDomAttribute(value)}`,\r\n    ariaLabel: i18n.t('recent-query-suggestion-label', {\r\n      query: value,\r\n      interpolation: {escapeValue: false},\r\n    }),\r\n  };\r\n};\r\n\r\nexport const getPartialRecentQueryClearElement = (\r\n  i18n: i18n\r\n): Pick<\r\n  SearchBoxSuggestionElement,\r\n  'ariaLabel' | 'key' | 'part' | 'hideIfLast'\r\n> => {\r\n  return {\r\n    key: 'recent-query-clear',\r\n    ariaLabel: i18n.t('clear-recent-searches', {\r\n      interpolation: {escapeValue: false},\r\n    }),\r\n    part: 'recent-query-title-item suggestion-divider',\r\n    hideIfLast: true,\r\n  };\r\n};\r\n\r\nexport const RecentQueriesContainer: FunctionalComponent = (_, children) => {\r\n  return (\r\n    <div\r\n      part=\"recent-query-content\"\r\n      class=\"flex items-center break-all text-left\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface RecentQueryIconProps {\r\n  icon: string;\r\n}\r\n\r\nexport const RecentQueryIcon: FunctionalComponent<RecentQueryIconProps> = ({\r\n  icon,\r\n}) => {\r\n  return (\r\n    <atomic-icon\r\n      part=\"recent-query-icon\"\r\n      icon={icon}\r\n      class=\"w-4 h-4 mr-2 shrink-0\"\r\n    ></atomic-icon>\r\n  );\r\n};\r\n\r\ninterface RecentQueryTextProps {\r\n  query: string;\r\n  value: string;\r\n}\r\n\r\nexport const RecentQueryText: FunctionalComponent<RecentQueryTextProps> = ({\r\n  query,\r\n  value,\r\n}) => {\r\n  if (query === '') {\r\n    return (\r\n      <span part=\"recent-query-text\" class=\"break-all line-clamp-2\">\r\n        {value}\r\n      </span>\r\n    );\r\n  }\r\n  return (\r\n    <span\r\n      part=\"recent-query-text\"\r\n      class=\"break-all line-clamp-2\"\r\n      innerHTML={HighlightUtils.highlightString({\r\n        content: value,\r\n        openingDelimiter:\r\n          '<span part=\"recent-query-text-highlight\" class=\"font-bold\">',\r\n        closingDelimiter: '</span>',\r\n        highlights: [\r\n          {\r\n            offset: query.length,\r\n            length: value.length - query.length,\r\n          },\r\n        ],\r\n      })}\r\n    ></span>\r\n  );\r\n};\r\n\r\ninterface RecentQueryClearProps {\r\n  i18n: i18n;\r\n}\r\n\r\nexport const RecentQueryClear: FunctionalComponent<RecentQueryClearProps> = ({\r\n  i18n,\r\n}) => {\r\n  return (\r\n    <div part=\"recent-query-title-content\" class=\"flex justify-between w-full\">\r\n      <span class=\"font-bold\" part=\"recent-query-title\">\r\n        {i18n.t('recent-searches')}\r\n      </span>\r\n      <span part=\"recent-query-clear\">{i18n.t('clear')}</span>\r\n    </div>\r\n  );\r\n};\r\n"],"version":3}