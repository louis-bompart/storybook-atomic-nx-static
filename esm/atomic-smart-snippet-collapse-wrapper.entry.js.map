{"file":"atomic-smart-snippet-collapse-wrapper.entry.js","mappings":";;;;;;;AAAA,MAAM,oCAAoC,GAAG,sowCAAsowC,CAAC;AACprwC,gDAAe,oCAAoC;;;;;;;;;;;;MCYtC,iCAAiC;;;QAS5B,eAAU,GAAG,IAAI,CAAC;QAElB,eAAU,GAAG,IAAI,CAAC;QAI1B,uBAAkB,GAAG,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC;;;0BANrB,IAAI;0BAEJ,IAAI;;;IAMzB,aAAa;QACnB,IACE,IAAI,CAAC,aAAa;aACjB,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,eAAe,CAAC,EACpE;YACA,MAAM,IAAI,KAAK,CACb,2EAA2E,CAC5E,CAAC;SACH;KACF;IAEM,UAAU;QACf,IAAI,CAAC,aAAa,EAAE,CAAC;KACtB;IAEM,kBAAkB;QACvB,IAAI,IAAI,CAAC,UAAU,KAAK,SAAS,IAAI,IAAI,CAAC,kBAAkB,EAAE;YAC5D,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;KACF;IAEO,oBAAoB;QAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,CAAC,MAAM,CAAC;QAC3D,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAW,GAAG,IAAI,CAAC,aAAc,CAAC;QACzD,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;QACnC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CACzB,kBAAkB,EAClB,IAAI,CAAC,eAAe,GAAG,IAAI,CAC5B,CAAC;KACH;IAEO,YAAY;QAClB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YACpB,OAAO;SACR;QACD,QACE,cACE,OAAO,EAAE,OAAO,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,EACnD,KAAK,EAAC,mCAAmC,EACzC,IAAI,EAAE,IAAI,CAAC,UAAU,GAAG,kBAAkB,GAAG,kBAAkB,IAE9D,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,WAAW,GAAG,WAAW,CAAC,EAClE,mBACE,IAAI,EAAE,SAAS,EACf,KAAK,EAAC,yBAAyB,GAClB,CACR,EACT;KACH;IAED,MAAM;QACJ,QACE,EAAC,IAAI,qDACH,KAAK,EACH,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,kBAAkB;kBACvC,IAAI,CAAC,UAAU;sBACb,UAAU;sBACV,EAAE;kBACJ,WAAW,IAGjB,4DACE,IAAI,EAAC,gCAAgC,EACrC,KAAK,EAAC,uBAAuB,IAE7B,8DAAa,CACT,EACL,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,YAAY,EAAE,CAC1C,EACP;KACH;;;AAtF4B;IAA5B,kBAAkB,EAAE;mEAA+B;;;;;","names":[],"sources":["src/components/common/smart-snippets/atomic-smart-snippet-collapse-wrapper/atomic-smart-snippet-collapse-wrapper.pcss?tag=atomic-smart-snippet-collapse-wrapper&encapsulation=shadow","src/components/common/smart-snippets/atomic-smart-snippet-collapse-wrapper/atomic-smart-snippet-collapse-wrapper.tsx"],"sourcesContent":["@import '../../../../global/global.pcss';\r\n@import '../../../../global/mixins.pcss';\r\n\r\n/**\r\n * @prop --atomic-smart-snippet-gradient-start: At which height to start fading out a truncated answer.\r\n */\r\n:host {\r\n  &::part(smart-snippet-collapse-wrapper) {\r\n    @mixin set-font-size var(--atomic-text-lg);\r\n\r\n    height: auto;\r\n    max-height: var(--collapsed-size);\r\n\r\n    --gradient-start: var(\r\n      --atomic-smart-snippet-gradient-start,\r\n      calc(max(var(--collapsed-size) - (var(--line-height) * 1.5), var(--collapsed-size) * 0.5))\r\n    );\r\n    color: var(--atomic-on-background);\r\n    mask-image: linear-gradient(black, black var(--gradient-start), transparent 100%);\r\n\r\n    transition: max-height 2s cubic-bezier(0, 1, 0.16, 1) -1.82s;\r\n  }\r\n\r\n  button atomic-icon {\r\n    @apply relative top-0.5;\r\n  }\r\n}\r\n\r\n:host(.expanded) {\r\n  &::part(smart-snippet-collapse-wrapper) {\r\n    height: auto;\r\n    max-height: 9999999px;\r\n    transition: max-height 2s cubic-bezier(1, 0, 1, 0) 0s;\r\n    mask-image: none;\r\n  }\r\n\r\n  button atomic-icon {\r\n    @apply -scale-y-100 top-0;\r\n  }\r\n}\r\n","import {Component, h, Element, State, Prop, Host} from '@stencil/core';\r\nimport ArrowDown from '../../../../images/arrow-down.svg';\r\nimport {InitializeBindings} from '../../../../utils/initialization-utils';\r\nimport {AnyBindings} from '../../interface/bindings';\r\n\r\n/**\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'atomic-smart-snippet-collapse-wrapper',\r\n  styleUrl: 'atomic-smart-snippet-collapse-wrapper.pcss',\r\n  shadow: true,\r\n})\r\nexport class AtomicSmartSnippetCollapseWrapper {\r\n  @InitializeBindings() public bindings!: AnyBindings;\r\n  public error!: Error;\r\n  @Element() public host!: HTMLElement;\r\n\r\n  @Prop({reflect: true}) public maximumHeight?: number;\r\n\r\n  @Prop({reflect: true}) public collapsedHeight?: number;\r\n\r\n  @State() public isExpanded = true;\r\n\r\n  @State() public showButton = true;\r\n\r\n  @State() private fullHeight?: number;\r\n\r\n  private shouldRenderButton = !!this.maximumHeight;\r\n\r\n  private validateProps() {\r\n    if (\r\n      this.maximumHeight &&\r\n      (!this.collapsedHeight || this.maximumHeight < this.collapsedHeight)\r\n    ) {\r\n      throw new Error(\r\n        'snippetMaximumHeight must be equal or greater than snippetCollapsedHeight'\r\n      );\r\n    }\r\n  }\r\n\r\n  public initialize() {\r\n    this.validateProps();\r\n  }\r\n\r\n  public componentDidRender() {\r\n    if (this.fullHeight === undefined && this.shouldRenderButton) {\r\n      this.initializeFullHeight();\r\n    }\r\n  }\r\n\r\n  private initializeFullHeight() {\r\n    this.fullHeight = this.host.getBoundingClientRect().height;\r\n    this.showButton = this.fullHeight! > this.maximumHeight!;\r\n    this.isExpanded = !this.showButton;\r\n    this.host.style.setProperty(\r\n      '--collapsed-size',\r\n      this.collapsedHeight + 'px'\r\n    );\r\n  }\r\n\r\n  private renderButton() {\r\n    if (!this.showButton) {\r\n      return;\r\n    }\r\n    return (\r\n      <button\r\n        onClick={() => (this.isExpanded = !this.isExpanded)}\r\n        class=\"text-primary hover:underline mb-4\"\r\n        part={this.isExpanded ? 'show-less-button' : 'show-more-button'}\r\n      >\r\n        {this.bindings.i18n.t(this.isExpanded ? 'show-less' : 'show-more')}\r\n        <atomic-icon\r\n          icon={ArrowDown}\r\n          class=\"w-3 ml-2 align-baseline\"\r\n        ></atomic-icon>\r\n      </button>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        class={\r\n          this.fullHeight || !this.shouldRenderButton\r\n            ? this.isExpanded\r\n              ? 'expanded'\r\n              : ''\r\n            : 'invisible'\r\n        }\r\n      >\r\n        <div\r\n          part=\"smart-snippet-collapse-wrapper\"\r\n          class=\"block overflow-hidden\"\r\n        >\r\n          <slot></slot>\r\n        </div>\r\n        {this.shouldRenderButton && this.renderButton()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"version":3}