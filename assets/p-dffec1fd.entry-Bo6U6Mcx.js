import{N as b,T as y,g as a}from"./atomic-breadbox.new.stories-CUAu_TQj.js";import{H as g}from"./p-e12016d2-bJLTunAq.js";import{s as i}from"./p-10d8f0d4-SiqZ7CcQ.js";import{e as v}from"./p-c58ca89b-Ds5ZgLyE.js";import"./p-3d32d423-CBVTidVS.js";import"./index-Bqoxw6Vv.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-DuucGJVn.js";import"../sb-preview/runtime.js";import"./p-e9c4f463-BPmi-3c5.js";import"./p-4dcb66f1-BK_B2d2p.js";import"./p-1580513b-3LX64KEr.js";import"./p-b0ede3ce-D6gWHOV3.js";const M=class{constructor(e){b(this,e),this.applyInput=y(this,"atomic/dateInputApply",7),this.start=void 0,this.end=void 0,this.bindings=void 0,this.filter=void 0,this.filterState=void 0,this.label=void 0,this.min=void 0,this.max=void 0}connectedCallback(){this.start=this.filterState.range?i(this.filterState.range.start).toDate():void 0,this.end=this.filterState.range?i(this.filterState.range.end).toDate():void 0}apply(){!this.startRef.validity.valid||!this.endRef.validity.valid||(this.applyInput.emit(),this.filter.setRange(g({start:this.start,end:this.end.setHours(23,59,59,999)})))}formattedDateValue(e){return e?i(e).format("YYYY-MM-DD"):""}render(){var e,n;const s=this.bindings.i18n.t(this.label),p=this.bindings.i18n.t("start"),o=this.bindings.i18n.t("end"),h=this.bindings.i18n.t("date-input-start",{label:s}),u=this.bindings.i18n.t("date-input-end",{label:s}),c=this.bindings.i18n.t("apply"),m=this.bindings.i18n.t("date-input-apply",{label:s}),r="input-primary p-2.5",d="text-neutral-dark self-center",l="yyyy-mm-dd",f="^(1[4-9]\\d{2}|2\\d{3})-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$";return a("form",{key:"42ac63adc85892719bc13350a9ccf6dcff31ffe0",class:"grid gap-2 grid-cols-min-1fr mt-4 px-2",onSubmit:t=>(t.preventDefault(),this.apply(),!1)},a("label",{key:"b0099ece4ffb6db01a056ebef83def2f79b6c387",part:"input-label",class:d,htmlFor:`${this.filterState.facetId}_start`},p,":"),a("input",{key:"518c7585498a6ca2d892b1be4ea3c19a8fba0bb9",id:`${this.filterState.facetId}_start`,part:"input-start",type:"date",ref:t=>this.startRef=t,class:r,"aria-label":h,placeholder:l,pattern:f,required:!0,min:this.min||this.formattedDateValue("1401-01-01"),max:this.end?this.formattedDateValue(this.end):this.max,value:this.formattedDateValue((e=this.filterState.range)===null||e===void 0?void 0:e.start),onInput:t=>this.start=i(t.target.value).toDate()}),a("label",{key:"6a3dff24e6b37b27770eb2144d461e54506dbfd1",part:"input-label",class:d,htmlFor:`${this.filterState.facetId}_end`},o,":"),a("input",{key:"a6ab0d6374e8fce5a58ee2f7a421d688a4ec578a",id:`${this.filterState.facetId}_end`,part:"input-end",type:"date",ref:t=>this.endRef=t,class:r,"aria-label":u,placeholder:l,pattern:f,required:!0,min:this.min||this.formattedDateValue(this.start),max:this.max,value:this.formattedDateValue((n=this.filterState.range)===null||n===void 0?void 0:n.end),onInput:t=>this.end=i(t.target.value).toDate()}),a(v,{key:"e1e0ce9c56f3614a02b0a65e32648b68b808dbf8",style:"outline-primary",type:"submit",part:"input-apply-button",class:"p-2.5 col-span-2 truncate",ariaLabel:m,text:c}))}};export{M as atomic_facet_date_input};
