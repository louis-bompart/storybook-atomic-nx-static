import{N as r,T as i,g as n,k as s,O as l}from"./preview-C4e5QyPH.js";import{x as a,n as o}from"./p-f5723aee-BNyovPuY.js";import{t as h}from"./p-0c7c191e-B_VKU8wm.js";import"./iframe-DZOcfrC1.js";import"../sb-preview/runtime.js";import"./chunk-GKNNPQCW-BkHQSocK.js";import"./p-e9c4f463-BPmi-3c5.js";import"./p-659d3ea8-bIeC0PRq.js";const c=":host{color:var(--atomic-on-background);font-size:var(--atomic-text-lg);line-height:calc(var(--atomic-text-lg) * var(--atomic-line-height-ratio))}:host .wrapper{display:flow-root}:host .wrapper .margin{margin:1rem 0}",d=c,m=class{constructor(e){r(this,e),this.answerSizeUpdated=i(this,"answerSizeUpdated",3),this.selectInlineLink=i(this,"selectInlineLink",3),this.beginDelayedSelectInlineLink=i(this,"beginDelayedSelectInlineLink",3),this.cancelPendingSelectInlineLink=i(this,"cancelPendingSelectInlineLink",3),this.isRendering=!0,this.htmlContent=void 0,this.innerStyle=void 0}componentWillRender(){this.isRendering=!0}componentDidRender(){this.isRendering=!1,this.emitCurrentHeight()}componentDidLoad(){setTimeout(()=>{this.host.classList.add("loaded")},0)}connectedCallback(){this.wrapperElement&&this.resizeObserver&&this.resizeObserver.observe(this.wrapperElement)}disconnectedCallback(){var e;(e=this.resizeObserver)===null||e===void 0||e.disconnect()}setWrapperElement(e){this.wrapperElement=e,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=new ResizeObserver(()=>this.emitCurrentHeight()),this.resizeObserver.observe(e)}get sanitizedStyle(){if(this.innerStyle)return a(this.innerStyle)}emitCurrentHeight(){this.isRendering||this.answerSizeUpdated.emit({height:this.wrapperElement.scrollHeight})}bindAnalyticsToLink(e){const t={linkText:e.innerText,linkURL:e.href};h(e,{stopPropagation:!1,onSelect:()=>this.selectInlineLink.emit(t),onBeginDelayedSelect:()=>this.beginDelayedSelectInlineLink.emit(t),onCancelPendingSelect:()=>this.cancelPendingSelectInlineLink.emit(t)})}bindAnalyticsToLinks(e){Array.from(e.querySelectorAll("a")).forEach(t=>this.bindAnalyticsToLink(t))}renderStyle(){const e=this.sanitizedStyle;if(e)return n("style",{innerHTML:e})}renderContent(){return n("div",{class:"wrapper",ref:e=>e&&this.setWrapperElement(e)},n("div",{innerHTML:o.exports.sanitize(this.htmlContent,{USE_PROFILES:{html:!0}}),ref:e=>e&&this.bindAnalyticsToLinks(e),part:"answer",class:"margin"}))}render(){return n(s,{key:"db55d53373516c80057f897402c6916d7815873a"},this.renderStyle(),this.renderContent())}get host(){return l(this)}};m.style=d;export{m as atomic_smart_snippet_answer};
