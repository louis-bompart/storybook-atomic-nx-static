{"file":"atomic-facet-number-input.entry.cjs.js","mappings":"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","names":["h","Button"],"sources":["src/components/common/facets/facet-number-input/atomic-facet-number-input.pcss?tag=atomic-facet-number-input","src/components/common/facets/facet-number-input/facet-number-input.tsx"],"sourcesContent":["[part='input-form'] {\r\n  display: grid;\r\n  grid-template-areas:\r\n    'label-start label-end .'\r\n    'input-start input-end apply-button';\r\n  grid-template-columns: 1fr 1fr auto;\r\n}\r\n\r\n[part='label-start'] {\r\n  grid-area: label-start;\r\n}\r\n[part='label-end'] {\r\n  grid-area: label-end;\r\n}\r\n[part='input-start'] {\r\n  grid-area: input-start;\r\n}\r\n[part='input-end'] {\r\n  grid-area: input-end;\r\n}\r\n\r\n[part='input-apply-button'] {\r\n  grid-area: apply-button;\r\n}\r\n","import {Component, h, State, Prop, Event, EventEmitter} from '@stencil/core';\r\nimport {Button} from '../../button';\r\nimport {AnyBindings} from '../../interface/bindings';\r\nimport {NumericFilter, NumericFilterState} from '../../types';\r\nimport {NumberInputType} from './number-input-type';\r\n\r\n/**\r\n * Internal component made to be integrated in a NumericFacet.\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'atomic-facet-number-input',\r\n  styleUrl: 'atomic-facet-number-input.pcss',\r\n  shadow: false,\r\n})\r\nexport class FacetNumberInput {\r\n  @State() private start?: number;\r\n  @State() private end?: number;\r\n  private startRef!: HTMLInputElement;\r\n  private endRef!: HTMLInputElement;\r\n\r\n  @Prop() public bindings!: AnyBindings;\r\n  @Prop() public type!: NumberInputType;\r\n  @Prop() public filter!: NumericFilter;\r\n  @Prop() public filterState!: NumericFilterState;\r\n  @Prop() public label!: string;\r\n\r\n  @Event({\r\n    eventName: 'atomic/numberInputApply',\r\n  })\r\n  private applyInput!: EventEmitter;\r\n\r\n  public connectedCallback() {\r\n    this.start = this.filterState.range?.start;\r\n    this.end = this.filterState.range?.end;\r\n  }\r\n\r\n  private apply() {\r\n    if (!this.startRef.validity.valid || !this.endRef.validity.valid) {\r\n      return;\r\n    }\r\n\r\n    this.applyInput.emit();\r\n    this.filter.setRange({\r\n      start: this.start!,\r\n      end: this.end!,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const label = this.bindings.i18n.t(this.label);\r\n    const minText = this.bindings.i18n.t('min');\r\n    const maxText = this.bindings.i18n.t('max');\r\n    const minAria = this.bindings.i18n.t('number-input-minimum', {label});\r\n    const maxAria = this.bindings.i18n.t('number-input-maximum', {label});\r\n    const apply = this.bindings.i18n.t('apply');\r\n    const applyAria = this.bindings.i18n.t('number-input-apply', {label});\r\n\r\n    const inputClasses =\r\n      'p-2.5 input-primary placeholder-neutral-dark min-w-0 mr-1';\r\n    const labelClasses = 'text-neutral-dark text-sm';\r\n\r\n    const step = this.type === 'integer' ? '1' : 'any';\r\n\r\n    return (\r\n      <form\r\n        class=\"mt-4 px-2 gap-y-0.5\"\r\n        part=\"input-form\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          this.apply();\r\n          return false;\r\n        }}\r\n      >\r\n        <label\r\n          part=\"label-start\"\r\n          class={labelClasses}\r\n          htmlFor={`${this.filterState.facetId}_start`}\r\n        >\r\n          {minText}\r\n        </label>\r\n        <input\r\n          part=\"input-start\"\r\n          id={`${this.filterState.facetId}_start`}\r\n          type=\"number\"\r\n          step={step}\r\n          ref={(ref) => (this.startRef = ref!)}\r\n          class={inputClasses}\r\n          aria-label={minAria}\r\n          required\r\n          min={Number.MIN_SAFE_INTEGER}\r\n          max={this.end}\r\n          value={this.filterState.range?.start}\r\n          onInput={(e) =>\r\n            (this.start = (e.target as HTMLInputElement).valueAsNumber)\r\n          }\r\n        />\r\n        <label\r\n          part=\"label-end\"\r\n          class={labelClasses}\r\n          htmlFor={`${this.filterState.facetId}_end`}\r\n        >\r\n          {maxText}\r\n        </label>\r\n        <input\r\n          part=\"input-end\"\r\n          id={`${this.filterState.facetId}_end`}\r\n          type=\"number\"\r\n          step={step}\r\n          ref={(ref) => (this.endRef = ref!)}\r\n          class={inputClasses}\r\n          aria-label={maxAria}\r\n          required\r\n          min={this.start}\r\n          max={Number.MAX_SAFE_INTEGER}\r\n          value={this.filterState.range?.end}\r\n          onInput={(e) =>\r\n            (this.end = (e.target as HTMLInputElement).valueAsNumber)\r\n          }\r\n        />\r\n        <Button\r\n          style=\"outline-primary\"\r\n          type=\"submit\"\r\n          part=\"input-apply-button\"\r\n          class=\"p-2.5 flex-none truncate\"\r\n          ariaLabel={applyAria}\r\n          text={apply}\r\n        ></Button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n"],"version":3}