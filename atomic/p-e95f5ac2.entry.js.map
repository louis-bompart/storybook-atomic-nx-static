{"version":3,"names":["AtomicSmartSnippetSource","resolveResult","event","preventDefault","stopPropagation","this","source","detail","render","h","Host","key","LinkWithItemAnalytics","title","clickUri","href","className","part","attributes","anchorAttributes","onSelect","selectSource","emit","onBeginDelayedSelect","beginDelayedSelectSource","onCancelPendingSelect","cancelPendingSelectSource","field","default","uniqueId","__decorate","InitializeBindings"],"sources":["src/components/common/smart-snippets/atomic-smart-snippet-source.tsx"],"sourcesContent":["import {Result} from '@coveo/headless';\r\nimport {\r\n  Component,\r\n  Prop,\r\n  h,\r\n  Listen,\r\n  State,\r\n  EventEmitter,\r\n  Event,\r\n  Host,\r\n} from '@stencil/core';\r\nimport {\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n} from '../../../utils/initialization-utils';\r\nimport {ResultContextEvent} from '../../search/result-template-components/result-template-decorators';\r\nimport {AnyBindings} from '../interface/bindings';\r\nimport {LinkWithItemAnalytics} from '../item-link/item-link';\r\n\r\n/**\r\n * @part source-url\r\n * @part source-title\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'atomic-smart-snippet-source',\r\n  shadow: false,\r\n})\r\nexport class AtomicSmartSnippetSource\r\n  implements InitializableComponent<AnyBindings>\r\n{\r\n  @InitializeBindings() public bindings!: AnyBindings;\r\n  @Prop({reflect: true, mutable: true}) source!: Result;\r\n  @Prop() anchorAttributes?: Attr[];\r\n\r\n  @Event() selectSource!: EventEmitter;\r\n  @Event() beginDelayedSelectSource!: EventEmitter;\r\n  @Event() cancelPendingSelectSource!: EventEmitter;\r\n\r\n  @State() public error!: Error;\r\n\r\n  @Listen('atomic/resolveResult')\r\n  public resolveResult(event: ResultContextEvent<Result>) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (this.source) {\r\n      event.detail(this.source);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <LinkWithItemAnalytics\r\n          title={this.source.clickUri}\r\n          href={this.source.clickUri}\r\n          className=\"block truncate\"\r\n          part=\"source-url\"\r\n          attributes={this.anchorAttributes}\r\n          onSelect={() => this.selectSource.emit()}\r\n          onBeginDelayedSelect={() => this.beginDelayedSelectSource.emit()}\r\n          onCancelPendingSelect={() => this.cancelPendingSelectSource.emit()}\r\n        >\r\n          {this.source.clickUri}\r\n        </LinkWithItemAnalytics>\r\n        <LinkWithItemAnalytics\r\n          title={this.source.title}\r\n          href={this.source.clickUri}\r\n          attributes={this.anchorAttributes}\r\n          className=\"block\"\r\n          part=\"source-title\"\r\n          onSelect={() => this.selectSource.emit()}\r\n          onBeginDelayedSelect={() => this.beginDelayedSelectSource.emit()}\r\n          onCancelPendingSelect={() => this.cancelPendingSelectSource.emit()}\r\n        >\r\n          <atomic-result-text\r\n            field=\"title\"\r\n            default=\"no-title\"\r\n            key={this.source.uniqueId}\r\n          ></atomic-result-text>\r\n        </LinkWithItemAnalytics>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"klBA4BaA,EAAwB,M,uRAc5B,aAAAC,CAAcC,GACnBA,EAAMC,iBACND,EAAME,kBACN,GAAIC,KAAKC,OAAQ,CACfJ,EAAMK,OAAOF,KAAKC,O,EAItB,MAAAE,GACE,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAACG,EAAqB,CAAAD,IAAA,2CACpBE,MAAOR,KAAKC,OAAOQ,SACnBC,KAAMV,KAAKC,OAAOQ,SAClBE,UAAU,iBACVC,KAAK,aACLC,WAAYb,KAAKc,iBACjBC,SAAU,IAAMf,KAAKgB,aAAaC,OAClCC,qBAAsB,IAAMlB,KAAKmB,yBAAyBF,OAC1DG,sBAAuB,IAAMpB,KAAKqB,0BAA0BJ,QAE3DjB,KAAKC,OAAOQ,UAEfL,EAACG,EAAqB,CAAAD,IAAA,2CACpBE,MAAOR,KAAKC,OAAOO,MACnBE,KAAMV,KAAKC,OAAOQ,SAClBI,WAAYb,KAAKc,iBACjBH,UAAU,QACVC,KAAK,eACLG,SAAU,IAAMf,KAAKgB,aAAaC,OAClCC,qBAAsB,IAAMlB,KAAKmB,yBAAyBF,OAC1DG,sBAAuB,IAAMpB,KAAKqB,0BAA0BJ,QAE5Db,EAAA,sBACEkB,MAAM,QACNC,QAAQ,WACRjB,IAAKN,KAAKC,OAAOuB,Y,GA/CEC,EAAA,CAA5BC,K"}