{"version":3,"names":["makeDesktopQuery","mobileBreakpoint","buildSearchLayoutCommon","element","layoutWebComponentTagName","containerWebComponentTagName","id","layoutSelector","cleanStatusSelector","mediaQuerySelector","display","search","sectionSelector","facets","facetsSection","findSection","mainSection","facetsMin","minWidth","facetsMax","maxWidth","mainMin","mainMax","refine","statusSection","refineToggle","querySelector","statusSelector","horizontalFacets","filter","declaration","join"],"sources":["src/components/common/atomic-layout-section/search-layout.ts"],"sourcesContent":["import {\r\n  findSection,\r\n  sectionSelector,\r\n} from '../../common/atomic-layout-section/sections';\r\n\r\nexport function makeDesktopQuery(mobileBreakpoint: string) {\r\n  return `only screen and (min-width: ${mobileBreakpoint})`;\r\n}\r\nexport function buildSearchLayoutCommon(\r\n  element: HTMLElement,\r\n  mobileBreakpoint: string,\r\n  layoutWebComponentTagName: string,\r\n  containerWebComponentTagName: string\r\n) {\r\n  const id = element.id;\r\n  const layoutSelector = `${layoutWebComponentTagName}#${id}`;\r\n  const cleanStatusSelector = `${containerWebComponentTagName}:not(.${containerWebComponentTagName}-no-results, .${containerWebComponentTagName}-error)`;\r\n  const mediaQuerySelector = `@media ${makeDesktopQuery(mobileBreakpoint)}`;\r\n\r\n  const display = `${layoutSelector} { display: grid }`;\r\n  const search = `${mediaQuerySelector} {\r\n    ${layoutSelector} ${sectionSelector('search')} {\r\n      justify-self: start;\r\n      width: 80%;\r\n    }\r\n  }`;\r\n\r\n  const facets = () => {\r\n    const facetsSection = findSection(element, 'facets');\r\n    const mainSection = findSection(element, 'main');\r\n    if (!facetsSection || !mainSection) {\r\n      return '';\r\n    }\r\n\r\n    const facetsMin = facetsSection.minWidth || '17rem';\r\n    const facetsMax = facetsSection.maxWidth || '22rem';\r\n    const mainMin = mainSection.minWidth || '50%';\r\n    const mainMax = mainSection.maxWidth || '70rem';\r\n\r\n    return `${mediaQuerySelector} {\r\n      ${layoutSelector} {\r\n        grid-template-areas:\r\n        '. .                     atomic-section-search .'\r\n        '. atomic-section-main   atomic-section-main   .';\r\n        grid-template-columns:\r\n          1fr minmax(${facetsMin}, ${facetsMax}) minmax(${mainMin}, ${mainMax}) 1fr;\r\n        column-gap: var(--atomic-layout-spacing-x);\r\n      }\r\n\r\n      ${cleanStatusSelector} ${layoutSelector} {\r\n        grid-template-areas:\r\n          '. .                     atomic-section-search .'\r\n          '. atomic-section-facets atomic-section-main   .'\r\n          '. atomic-section-facets .                     .';\r\n      }\r\n\r\n      ${cleanStatusSelector} ${layoutSelector} ${sectionSelector('facets')} {\r\n        display: block;\r\n      }\r\n    }`;\r\n  };\r\n\r\n  const refine = () => {\r\n    const statusSection = findSection(element, 'status');\r\n    if (!statusSection) {\r\n      return '';\r\n    }\r\n\r\n    const refineToggle = statusSection.querySelector('atomic-refine-toggle');\r\n    if (!refineToggle) {\r\n      return '';\r\n    }\r\n\r\n    const statusSelector = `${layoutSelector} ${sectionSelector('status')}`;\r\n    return `${statusSelector} atomic-sort-dropdown {\r\n      display: none;\r\n    }\r\n\r\n    ${mediaQuerySelector} {\r\n     ${statusSelector} atomic-sort-dropdown {\r\n       display: block;\r\n      }\r\n\r\n      ${statusSelector} atomic-refine-toggle {\r\n        display: none;\r\n       }\r\n    }`;\r\n  };\r\n\r\n  const horizontalFacets = () => {\r\n    return `${mediaQuerySelector} {\r\n      ${layoutSelector} ${sectionSelector(\r\n        'horizontal-facets'\r\n      )} > atomic-popover:not(.atomic-hidden) {\r\n        display: block;\r\n      }\r\n    }`;\r\n  };\r\n\r\n  return [display, search, facets(), refine(), horizontalFacets()]\r\n    .filter((declaration) => declaration !== '')\r\n    .join('\\n\\n');\r\n}\r\n"],"mappings":"oDAKgBA,EAAiBC,GAC/B,MAAO,+BAA+BA,IACxC,C,SACgBC,EACdC,EACAF,EACAG,EACAC,GAEA,MAAMC,EAAKH,EAAQG,GACnB,MAAMC,EAAiB,GAAGH,KAA6BE,IACvD,MAAME,EAAsB,GAAGH,UAAqCA,kBAA6CA,WACjH,MAAMI,EAAqB,UAAUT,EAAiBC,KAEtD,MAAMS,EAAU,GAAGH,sBACnB,MAAMI,EAAS,GAAGF,YACdF,KAAkBK,EAAgB,yEAMtC,MAAMC,EAAS,KACb,MAAMC,EAAgBC,EAAYZ,EAAS,UAC3C,MAAMa,EAAcD,EAAYZ,EAAS,QACzC,IAAKW,IAAkBE,EAAa,CAClC,MAAO,E,CAGT,MAAMC,EAAYH,EAAcI,UAAY,QAC5C,MAAMC,EAAYL,EAAcM,UAAY,QAC5C,MAAMC,EAAUL,EAAYE,UAAY,MACxC,MAAMI,EAAUN,EAAYI,UAAY,QAExC,MAAO,GAAGX,cACNF,kNAKeU,MAAcE,aAAqBE,MAAYC,kFAI9Dd,KAAuBD,+OAOvBC,KAAuBD,KAAkBK,EAAgB,sDAG3D,EAGJ,MAAMW,EAAS,KACb,MAAMC,EAAgBT,EAAYZ,EAAS,UAC3C,IAAKqB,EAAe,CAClB,MAAO,E,CAGT,MAAMC,EAAeD,EAAcE,cAAc,wBACjD,IAAKD,EAAc,CACjB,MAAO,E,CAGT,MAAME,EAAiB,GAAGpB,KAAkBK,EAAgB,YAC5D,MAAO,GAAGe,gEAIRlB,aACCkB,sEAICA,mEAGF,EAGJ,MAAMC,EAAmB,IAChB,GAAGnB,cACNF,KAAkBK,EAClB,uGAON,MAAO,CAACF,EAASC,EAAQE,IAAUU,IAAUK,KAC1CC,QAAQC,GAAgBA,IAAgB,KACxCC,KAAK,OACV,Q"}