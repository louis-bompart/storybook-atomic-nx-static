{"version":3,"names":["foldedItemListContextEventName","FoldedItemListContext","component","foldedList","componentWillRender","element","getElement","this","event","buildCustomEvent","foldedItemList","canceled","dispatchEvent","call","foldedItemListStateContextEventName","FoldedItemListStateContext","foldedListState","subscribe","state"],"sources":["src/components/common/item-list/item-list-decorators.tsx"],"sourcesContent":["import {ComponentInterface, getElement} from '@stencil/core';\r\nimport {buildCustomEvent} from '../../../utils/event-utils';\r\n\r\ntype FoldedItemListContextEventHandler = (foldedItemList: unknown) => void;\r\nexport type FoldedItemListContextEvent =\r\n  CustomEvent<FoldedItemListContextEventHandler>;\r\nconst foldedItemListContextEventName = 'atomic/resolveFoldedResultList';\r\n\r\n/**\r\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\r\n * This allows the Stencil component to modify the folded item list rendered levels.\r\n */\r\nexport function FoldedItemListContext() {\r\n  return (component: ComponentInterface, foldedList: string) => {\r\n    const {componentWillRender} = component;\r\n    component.componentWillRender = function () {\r\n      const element = getElement(this);\r\n      const event = buildCustomEvent(\r\n        foldedItemListContextEventName,\r\n        (foldedItemList: unknown) => {\r\n          this[foldedList] = foldedItemList;\r\n        }\r\n      );\r\n\r\n      const canceled = element.dispatchEvent(event);\r\n      if (canceled) {\r\n        return;\r\n      }\r\n      return componentWillRender && componentWillRender.call(this);\r\n    };\r\n  };\r\n}\r\n\r\ntype FoldedItemListStateContextEventHandler = (foldedItemList: unknown) => void;\r\nexport type FoldedItemListStateContextEvent =\r\n  CustomEvent<FoldedItemListStateContextEventHandler>;\r\nconst foldedItemListStateContextEventName = 'atomic/resolveFoldedResultList';\r\n\r\n/**\r\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\r\n * This allows the Stencil component to modify the folded item list rendered levels.\r\n */\r\nexport function FoldedItemListStateContext() {\r\n  return (component: ComponentInterface, foldedListState: string) => {\r\n    const {componentWillRender} = component;\r\n    component.componentWillRender = function () {\r\n      const element = getElement(this);\r\n      const event = buildCustomEvent(\r\n        foldedItemListStateContextEventName,\r\n        (foldedItemList: {\r\n          subscribe: (callback: () => void) => unknown;\r\n          state: unknown;\r\n        }) => {\r\n          foldedItemList?.subscribe(() => {\r\n            this[foldedListState] = foldedItemList.state;\r\n          });\r\n        }\r\n      );\r\n\r\n      const canceled = element.dispatchEvent(event);\r\n      if (canceled) {\r\n        return;\r\n      }\r\n      return componentWillRender && componentWillRender.call(this);\r\n    };\r\n  };\r\n}\r\n"],"mappings":"wEAMA,MAAMA,EAAiC,iC,SAMvBC,IACd,MAAO,CAACC,EAA+BC,KACrC,MAAMC,oBAACA,GAAuBF,EAC9BA,EAAUE,oBAAsB,WAC9B,MAAMC,EAAUC,EAAWC,MAC3B,MAAMC,EAAQC,EACZT,GACCU,IACCH,KAAKJ,GAAcO,CAAc,IAIrC,MAAMC,EAAWN,EAAQO,cAAcJ,GACvC,GAAIG,EAAU,CACZ,M,CAEF,OAAOP,GAAuBA,EAAoBS,KAAKN,K,CACxD,CAEL,CAKA,MAAMO,EAAsC,iC,SAM5BC,IACd,MAAO,CAACb,EAA+Bc,KACrC,MAAMZ,oBAACA,GAAuBF,EAC9BA,EAAUE,oBAAsB,WAC9B,MAAMC,EAAUC,EAAWC,MAC3B,MAAMC,EAAQC,EACZK,GACCJ,IAICA,IAAc,MAAdA,SAAc,SAAdA,EAAgBO,WAAU,KACxBV,KAAKS,GAAmBN,EAAeQ,KAAK,GAC5C,IAIN,MAAMP,EAAWN,EAAQO,cAAcJ,GACvC,GAAIG,EAAU,CACZ,M,CAEF,OAAOP,GAAuBA,EAAoBS,KAAKN,K,CACxD,CAEL,Q"}