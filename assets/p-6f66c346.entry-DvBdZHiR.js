import{N as a,g as r,k as n,O as o}from"./preview-Cp9OdNlu.js";import{e as h}from"./p-e48090a7-An2ObuCc.js";import{c}from"./p-f5723aee-KeNxIJx_.js";import"./iframe-vvwA9ouH.js";import"../sb-preview/runtime.js";import"./chunk-GKNNPQCW-BkHQSocK.js";import"./p-e9c4f463-BPmi-3c5.js";const v=class{constructor(e){a(this,e),this.regions={},this.messagesQueue=h({delay:500}),this.id=c("aria-live-"),this.regions={}}onFindAriaLive({detail:e}){(!e.element||!this.isInSearchInterface)&&(e.element=this.host)}get isInSearchInterface(){let e=this.host;for(;e;){if(e.tagName==="ATOMIC-SEARCH-INTERFACE")return!0;e=e.parentElement}return!1}async updateMessage(e,s,i){const t=()=>this.regions={...this.regions,[e]:{assertive:i,message:s}};s?this.messagesQueue.enqueue(t,e):(this.messagesQueue.cancelActionIfQueued(e),t())}async registerRegion(e,s){e in this.regions||(this.regions={...this.regions,[e]:{assertive:s,message:""}})}disconnectedCallback(){this.messagesQueue.clear()}render(){return r(n,{key:"42d601dc9b6a2a7b819d2cbc7ed631eaa7092407",style:{position:"absolute",display:"block",height:"0",overflow:"hidden",margin:"0"}},Object.entries(this.regions).map(([e,{assertive:s,message:i}])=>r("div",{key:e,id:`${this.id}-${e}`,"aria-live":s?"assertive":"polite",role:"status"},i)))}get host(){return o(this)}};export{v as atomic_aria_live};
