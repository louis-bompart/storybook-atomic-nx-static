import{h as t,H as r}from"./p-00525453.js";import{a as s}from"./p-7e69c7c8.js";import{B as e}from"./p-c58ca89b.js";class i{constructor(t){this.props=t}get foldedResult(){return this.collection||this.props.getResult()}get numberOfChildren(){return this.foldedResult.children.length}get hasChildren(){return!!this.numberOfChildren}get collection(){return this.props.getFoldedResultListState().results.find((t=>t.result.uniqueId===this.props.getResult().result.uniqueId))}renderPlaceholder(){return t(s,{numberOfPlaceholders:this.numberOfChildren||2,density:this.props.getDisplayConfig().density,display:"list",imageSize:this.props.getImageSize()||this.props.getDisplayConfig().imageSize})}renderNoResult(){return t("p",{part:"no-result-root",class:"no-result-root my-3"},this.props.getBindings().i18n.t(this.props.getNoResultText()))}renderCollapseButton(){const r=this.collection;if(!!r.children.length&&!r.moreResultsAvailable){return t(e,{part:"show-hide-button",class:"show-hide-button",style:"text-primary",onClick:()=>{if(this.props.getShowInitialChildren()){this.props.getFoldedResultList().logShowMoreFoldedResults(this.foldedResult.result)}else{this.props.getFoldedResultList().logShowLessFoldedResults()}this.props.toggleShowInitialChildren()}},this.props.getBindings().i18n.t(this.props.getShowInitialChildren()?"load-all-results":"collapse-results"))}return}renderChildrenWrapper(r){return t("div",{part:"children-root"},this.hasChildren&&t("slot",{name:"before-children"}),r,this.hasChildren&&t("slot",{name:"after-children"}))}renderChildren(t){return this.renderChildrenWrapper(t.map(((r,s)=>this.props.renderChild(r,s===t.length-1))))}renderCollection(){var s;const e=this.collection;if(e.isLoadingMoreResults){return this.renderChildrenWrapper(this.renderPlaceholder())}if(!e.moreResultsAvailable&&!this.hasChildren){return((s=this.props.getNoResultText())===null||s===void 0?void 0:s.trim().length)?this.renderNoResult():null}if(!this.hasChildren){return}const i=this.props.getShowInitialChildren()?this.props.getInitialChildren():e.children;return t(r,null,this.renderCollapseButton(),this.renderChildren(i))}renderFoldedResult(){if(!this.hasChildren){return}return this.renderChildren(this.foldedResult.children)}componentWillRender(){const t=this.collection;if(this.props.getInitialChildren()||!t){return}this.props.setInitialChildren(t.children)}render(){if(!this.props.getInheritTemplates()&&!this.props.getResultTemplateRegistered()){return}if(!this.props.getInheritTemplates()&&this.props.getTemplateHasError()){return t("slot",null)}return this.collection?this.renderCollection():this.renderFoldedResult()}}export{i as R};
//# sourceMappingURL=p-710f5050.js.map