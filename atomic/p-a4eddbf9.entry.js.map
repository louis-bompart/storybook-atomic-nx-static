{"version":3,"names":["atomicRecsListCss","AtomicRecsListStyle0","AtomicRecsList","this","loadingFlag","randomID","resultTemplateRegistered","templateHasError","currentPage","recommendation","display","gridCellLinkTarget","density","imageSize","numberOfRecommendations","headingLevel","watchNumberOfRecommendationsPerPage","setRenderFunction","resultRenderingFunction","itemRenderingFunction","previousPage","numberOfPages","nextPage","initialize","validateNumberOfRecommendationsPerPage","validateRecommendationIdentifier","updateOriginLevel2","recommendationList","buildRecommendationList","bindings","engine","options","id","itemTemplateProvider","ItemTemplateProvider","includeDefaultTemplate","templateElements","Array","from","host","querySelectorAll","getResultTemplateRegistered","getTemplateHasError","setResultTemplateRegistered","value","setTemplateHasError","itemListCommon","ItemListCommon","engineSubscribe","subscribe","getCurrentNumberOfItems","recommendationListState","recommendations","length","getIsLoading","isLoading","nextNewItemTarget","focusTarget","store","nextNewResultTarget","FocusTargetController","recommendationListStateWithAugment","firstRequestExecuted","searchResponseId","hasError","error","hasItems","results","subsetRecommendations","msg","NumberValue","min","max","validate","numberOfRecommendationsPerPage","Error","recListWithRecommendation","document","logger","warn","label","action","loadConfigurationActions","setOriginLevel2","originLevel2","dispatch","renderHeading","h","Heading","level","part","class","i18n","t","currentIndex","Math","abs","slice","ceil","hasPagination","shouldRenderPagination","getPropsForAtomicRecsResult","interactiveResult","buildRecsInteractiveResult","result","renderingFunction","key","getResultId","uniqueId","content","getTemplateContent","computeListDisplayClasses","displayPlaceholders","isAppLoaded","getItemListDisplayClasses","renderAsGrid","i","propsForAtomicRecsResult","DisplayGrid","item","setRef","element","setNewResultRef","renderListOfRecommendations","updateBreakpoints","listClasses","DisplayWrapper","ResultsPlaceholdersGuard","numberOfPlaceholders","_a","ItemDisplayGuard","map","render","Fragment","Carousel","__decorate","InitializeBindings","BindStateToController"],"sources":["src/components/recommendations/atomic-recs-list/atomic-recs-list.pcss?tag=atomic-recs-list&encapsulation=shadow","src/components/recommendations/atomic-recs-list/atomic-recs-list.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\r\n@import '../../common/item-list/styles/mixins.pcss';\r\n@import '../../common/item-list/styles/placeholders.pcss';\r\n\r\n@mixin atomic-grid-clickable-elements;\r\n@mixin atomic-grid-display-common;\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n/**\r\n * @prop --atomic-recs-number-of-columns: Number of columns for the recommendation list.\r\n */\r\n.list-root {\r\n  @mixin atomic-grid-with-cards;\r\n  grid-template-columns: repeat(var(--atomic-recs-number-of-columns, 1), minmax(0, 1fr));\r\n}\r\n\r\n[part='label'] {\r\n  font-family: var(--atomic-font-family);\r\n  font-size: var(--atomic-text-2xl);\r\n  font-weight: var(--atomic-font-bold);\r\n}\r\n","import {NumberValue} from '@coveo/bueno';\r\nimport {\r\n  buildRecommendationList,\r\n  RecommendationList,\r\n  RecommendationListState,\r\n  loadConfigurationActions,\r\n} from '@coveo/headless/recommendation';\r\nimport {\r\n  Component,\r\n  State,\r\n  Element,\r\n  Prop,\r\n  Method,\r\n  h,\r\n  Fragment,\r\n  Watch,\r\n} from '@stencil/core';\r\nimport {buildRecsInteractiveResult, RecsResult} from '..';\r\nimport {FocusTargetController} from '../../../utils/accessibility-utils';\r\nimport {\r\n  BindStateToController,\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n} from '../../../utils/initialization-utils';\r\nimport {randomID} from '../../../utils/utils';\r\nimport {ResultsPlaceholdersGuard} from '../../common/atomic-result-placeholder/placeholders';\r\nimport {Carousel} from '../../common/carousel';\r\nimport {Heading} from '../../common/heading';\r\nimport {DisplayGrid} from '../../common/item-list/display-grid';\r\nimport {DisplayWrapper} from '../../common/item-list/display-wrapper';\r\nimport {ItemDisplayGuard} from '../../common/item-list/item-display-guard';\r\nimport {\r\n  ItemListCommon,\r\n  ItemRenderingFunction,\r\n} from '../../common/item-list/item-list-common';\r\nimport {ItemTemplateProvider} from '../../common/item-list/item-template-provider';\r\nimport {\r\n  ItemDisplayDensity,\r\n  ItemDisplayImageSize,\r\n  ItemDisplayBasicLayout,\r\n  ItemTarget,\r\n  getItemListDisplayClasses,\r\n} from '../../common/layout/display-options';\r\nimport {RecsBindings} from '../atomic-recs-interface/atomic-recs-interface';\r\n\r\n/**\r\n * The `atomic-recs-list` component displays recommendations by applying one or more result templates.\r\n *\r\n * @part result-list - The element containing the list of results.\r\n * @part result-list-grid-clickable-container - The parent of the result & the clickable link encompassing it.\r\n * @part result-list-grid-clickable - The clickable link encompassing the result.\r\n * @part label - The label of the result list.\r\n * @part previous-button - The previous button.\r\n * @part next-button - The next button.\r\n * @part indicators - The list of indicators.\r\n * @part indicator - A single indicator.\r\n * @part active-indicator - The active indicator.\r\n */\r\n@Component({\r\n  tag: 'atomic-recs-list',\r\n  styleUrl: 'atomic-recs-list.pcss',\r\n  shadow: true,\r\n})\r\nexport class AtomicRecsList implements InitializableComponent<RecsBindings> {\r\n  @InitializeBindings() public bindings!: RecsBindings;\r\n  public recommendationList!: RecommendationList;\r\n  private loadingFlag = randomID('firstRecommendationLoaded-');\r\n  private itemRenderingFunction: ItemRenderingFunction;\r\n  private itemTemplateProvider!: ItemTemplateProvider;\r\n  private nextNewResultTarget?: FocusTargetController;\r\n  private itemListCommon!: ItemListCommon;\r\n\r\n  @Element() public host!: HTMLDivElement;\r\n\r\n  @State() public error!: Error;\r\n  @State() private resultTemplateRegistered = false;\r\n  @State() private templateHasError = false;\r\n  @State() private currentPage = 0;\r\n  @BindStateToController('recommendationList')\r\n  @State()\r\n  public recommendationListState!: RecommendationListState;\r\n\r\n  /**\r\n   * The Recommendation identifier used by the Coveo platform to retrieve recommended documents.\r\n   * Make sure to set a different value for each atomic-recs-list in your page.\r\n   */\r\n  @Prop({reflect: true}) public recommendation = 'Recommendation';\r\n\r\n  /**\r\n   * The layout to apply when displaying results themselves. This does not affect the display of the surrounding list itself.\r\n   * To modify the number of recommendations per column, modify the --atomic-recs-number-of-columns CSS variable.\r\n   */\r\n  @Prop({reflect: true}) public display: ItemDisplayBasicLayout = 'list';\r\n  /**\r\n   * The target location to open the result link (see [target](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#target)).\r\n   * This property is only leveraged when `display` is `grid`.\r\n   * @defaultValue `_self`\r\n   */\r\n  @Prop() gridCellLinkTarget: ItemTarget = '_self';\r\n  /**\r\n   * The spacing of various elements in the result list, including the gap between results, the gap between parts of a result, and the font sizes of different parts in a result.\r\n   */\r\n  @Prop({reflect: true}) public density: ItemDisplayDensity = 'normal';\r\n  /**\r\n   * The expected size of the image displayed in the results.\r\n   */\r\n  @Prop({reflect: true})\r\n  public imageSize: ItemDisplayImageSize = 'small';\r\n\r\n  /**\r\n   * The total number of recommendations to display.\r\n   * This does not modify the number of recommendations per column. To do so, modify the --atomic-recs-number-of-columns CSS variable.\r\n   */\r\n  @Prop({reflect: true}) public numberOfRecommendations = 10;\r\n\r\n  /**\r\n   * The number of recommendations to display, per page.\r\n   * Setting a value greater than and lower than the numberOfRecommendations value activates the carousel.\r\n   * This does not affect the display of the list itself, only the number of recommendation pages.\r\n   */\r\n  @Prop({reflect: true}) public numberOfRecommendationsPerPage?: number;\r\n\r\n  /**\r\n   * The non-localized label for the list of recommendations.\r\n   */\r\n  @Prop({reflect: true}) public label?: string;\r\n\r\n  /**\r\n   * The [heading level](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements) to use for the heading label, from 1 to 6.\r\n   */\r\n  @Prop({reflect: true}) public headingLevel = 0;\r\n\r\n  @Watch('numberOfRecommendationsPerPage')\r\n  public async watchNumberOfRecommendationsPerPage() {\r\n    this.currentPage = 0;\r\n  }\r\n\r\n  /**\r\n   * Sets a rendering function to bypass the standard HTML template mechanism for rendering results.\r\n   * You can use this function while working with web frameworks that don't use plain HTML syntax, e.g., React, Angular or Vue.\r\n   *\r\n   * Do not use this method if you integrate Atomic in a plain HTML deployment.\r\n   *\r\n   * @param resultRenderingFunction\r\n   */\r\n  @Method() public async setRenderFunction(\r\n    resultRenderingFunction: ItemRenderingFunction\r\n  ) {\r\n    this.itemRenderingFunction = resultRenderingFunction;\r\n  }\r\n\r\n  /**\r\n   * Moves to the previous page, when the carousel is activated.\r\n   */\r\n  @Method() public async previousPage() {\r\n    this.currentPage =\r\n      this.currentPage - 1 < 0 ? this.numberOfPages - 1 : this.currentPage - 1;\r\n  }\r\n\r\n  /**\r\n   * Moves to the next page, when the carousel is activated.\r\n   */\r\n  @Method() public async nextPage() {\r\n    this.currentPage = (this.currentPage + 1) % this.numberOfPages;\r\n  }\r\n\r\n  public initialize() {\r\n    this.validateNumberOfRecommendationsPerPage();\r\n    this.validateRecommendationIdentifier();\r\n    this.updateOriginLevel2();\r\n    this.recommendationList = buildRecommendationList(this.bindings.engine, {\r\n      options: {\r\n        id: this.recommendation,\r\n        numberOfRecommendations: this.numberOfRecommendations,\r\n      },\r\n    });\r\n\r\n    this.itemTemplateProvider = new ItemTemplateProvider({\r\n      includeDefaultTemplate: true,\r\n      templateElements: Array.from(\r\n        this.host.querySelectorAll('atomic-recs-result-template')\r\n      ),\r\n      getResultTemplateRegistered: () => this.resultTemplateRegistered,\r\n      getTemplateHasError: () => this.templateHasError,\r\n      setResultTemplateRegistered: (value: boolean) => {\r\n        this.resultTemplateRegistered = value;\r\n      },\r\n      setTemplateHasError: (value: boolean) => {\r\n        this.templateHasError = value;\r\n      },\r\n      bindings: this.bindings,\r\n    });\r\n\r\n    this.itemListCommon = new ItemListCommon({\r\n      engineSubscribe: this.bindings.engine.subscribe,\r\n      getCurrentNumberOfItems: () =>\r\n        this.recommendationListState.recommendations.length,\r\n      getIsLoading: () => this.recommendationListState.isLoading,\r\n      host: this.host,\r\n      loadingFlag: this.loadingFlag,\r\n      nextNewItemTarget: this.focusTarget,\r\n      store: this.bindings.store,\r\n    });\r\n  }\r\n\r\n  public get focusTarget() {\r\n    if (!this.nextNewResultTarget) {\r\n      this.nextNewResultTarget = new FocusTargetController(this);\r\n    }\r\n    return this.nextNewResultTarget;\r\n  }\r\n\r\n  private get recommendationListStateWithAugment() {\r\n    return {\r\n      ...this.recommendationListState,\r\n      firstRequestExecuted:\r\n        this.recommendationListState.searchResponseId !== '',\r\n      hasError: this.recommendationListState.error !== null,\r\n      hasItems: this.recommendationListState.recommendations.length !== 0,\r\n      results: this.subsetRecommendations,\r\n    };\r\n  }\r\n\r\n  private validateNumberOfRecommendationsPerPage() {\r\n    const msg = new NumberValue({\r\n      min: 1,\r\n      max: this.numberOfRecommendations - 1,\r\n    }).validate(this.numberOfRecommendationsPerPage!);\r\n\r\n    if (msg) {\r\n      this.error = new Error(\r\n        `The \"numberOfRecommendationsPerPage\" is invalid: ${msg}`\r\n      );\r\n    }\r\n  }\r\n\r\n  private validateRecommendationIdentifier() {\r\n    const recListWithRecommendation = document.querySelectorAll(\r\n      `atomic-recs-list[recommendation=\"${this.recommendation}\"]`\r\n    );\r\n\r\n    if (recListWithRecommendation.length > 1) {\r\n      this.bindings.engine.logger.warn(\r\n        `There are multiple atomic-recs-list in this page with the same recommendation property \"${this.recommendation}\". Make sure to set a different recommendation property for each.`\r\n      );\r\n    }\r\n  }\r\n\r\n  private updateOriginLevel2() {\r\n    if (this.label) {\r\n      const action = loadConfigurationActions(\r\n        this.bindings.engine\r\n      ).setOriginLevel2({\r\n        originLevel2: this.label,\r\n      });\r\n\r\n      this.bindings.engine.dispatch(action);\r\n    }\r\n  }\r\n\r\n  private renderHeading() {\r\n    if (!this.label) {\r\n      return;\r\n    }\r\n\r\n    if (this.recommendationListStateWithAugment.hasError) {\r\n      return;\r\n    }\r\n\r\n    if (\r\n      this.recommendationListStateWithAugment.firstRequestExecuted &&\r\n      !this.recommendationListStateWithAugment.hasItems\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <Heading level={this.headingLevel} part=\"label\" class=\"m-0 mb-2\">\r\n        {this.bindings.i18n.t(this.label)}\r\n      </Heading>\r\n    );\r\n  }\r\n\r\n  private get currentIndex() {\r\n    return Math.abs(\r\n      (this.currentPage * this.numberOfRecommendationsPerPage!) %\r\n        this.recommendationListState.recommendations.length\r\n    );\r\n  }\r\n\r\n  private get subsetRecommendations() {\r\n    if (!this.numberOfRecommendationsPerPage) {\r\n      return this.recommendationListState.recommendations;\r\n    }\r\n\r\n    return this.recommendationListState.recommendations.slice(\r\n      this.currentIndex,\r\n      this.currentIndex + this.numberOfRecommendationsPerPage\r\n    );\r\n  }\r\n\r\n  private get numberOfPages() {\r\n    return Math.ceil(\r\n      this.recommendationListState.recommendations.length /\r\n        this.numberOfRecommendationsPerPage!\r\n    );\r\n  }\r\n\r\n  private get hasPagination() {\r\n    return !!this.numberOfRecommendationsPerPage;\r\n  }\r\n\r\n  private get shouldRenderPagination() {\r\n    return (\r\n      this.hasPagination && this.recommendationListStateWithAugment.hasItems\r\n    );\r\n  }\r\n\r\n  private getPropsForAtomicRecsResult(recommendation: RecsResult) {\r\n    return {\r\n      interactiveResult: buildRecsInteractiveResult(this.bindings.engine, {\r\n        options: {result: recommendation},\r\n      }),\r\n      result: recommendation,\r\n      renderingFunction: this.itemRenderingFunction,\r\n      loadingFlag: this.loadingFlag,\r\n      key: this.itemListCommon.getResultId(\r\n        recommendation.uniqueId,\r\n        this.recommendationListState.searchResponseId,\r\n        this.density,\r\n        this.imageSize\r\n      ),\r\n      content: this.itemTemplateProvider.getTemplateContent(recommendation),\r\n      store: this.bindings.store,\r\n      density: this.density,\r\n      display: this.display,\r\n      imageSize: this.imageSize,\r\n    };\r\n  }\r\n\r\n  private computeListDisplayClasses() {\r\n    const displayPlaceholders = !this.bindings.store.isAppLoaded();\r\n\r\n    return getItemListDisplayClasses(\r\n      'grid',\r\n      this.density,\r\n      this.imageSize,\r\n      this.recommendationListState.isLoading,\r\n      displayPlaceholders\r\n    );\r\n  }\r\n\r\n  private renderAsGrid(recommendation: RecsResult, i: number) {\r\n    const propsForAtomicRecsResult =\r\n      this.getPropsForAtomicRecsResult(recommendation);\r\n    return (\r\n      <DisplayGrid\r\n        item={recommendation}\r\n        {...propsForAtomicRecsResult.interactiveResult}\r\n        setRef={(element) =>\r\n          element && this.itemListCommon.setNewResultRef(element, i)\r\n        }\r\n      >\r\n        <atomic-recs-result {...propsForAtomicRecsResult}></atomic-recs-result>\r\n      </DisplayGrid>\r\n    );\r\n  }\r\n\r\n  private renderListOfRecommendations() {\r\n    this.itemListCommon.updateBreakpoints();\r\n    const listClasses = this.computeListDisplayClasses();\r\n\r\n    if (\r\n      !this.resultTemplateRegistered ||\r\n      this.itemTemplateProvider.hasError ||\r\n      this.error\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    return (\r\n      <DisplayWrapper listClasses={listClasses} display=\"grid\">\r\n        <ResultsPlaceholdersGuard\r\n          density={this.density}\r\n          display={this.display}\r\n          imageSize={this.imageSize}\r\n          displayPlaceholders={!this.bindings.store.isAppLoaded()}\r\n          numberOfPlaceholders={\r\n            this.numberOfRecommendationsPerPage ?? this.numberOfRecommendations\r\n          }\r\n        ></ResultsPlaceholdersGuard>\r\n        <ItemDisplayGuard {...this.recommendationListStateWithAugment}>\r\n          {this.subsetRecommendations.map((recommendation, i) => {\r\n            return this.renderAsGrid(recommendation, i);\r\n          })}\r\n        </ItemDisplayGuard>\r\n      </DisplayWrapper>\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <Fragment>\r\n        {this.renderHeading()}\r\n        {this.shouldRenderPagination ? (\r\n          <Carousel\r\n            bindings={this.bindings}\r\n            currentPage={this.currentPage}\r\n            nextPage={() => this.nextPage()}\r\n            previousPage={() => this.previousPage()}\r\n            numberOfPages={this.numberOfPages}\r\n          >\r\n            {this.renderListOfRecommendations()}\r\n          </Carousel>\r\n        ) : (\r\n          this.renderListOfRecommendations()\r\n        )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}