import{N as a,g as r,k as n,O as o}from"./atomic-breadbox.new.stories-D5_t4T0B.js";import{e as h}from"./p-e48090a7-An2ObuCc.js";import{c}from"./p-f5723aee-D-iZ1npx.js";import"./index-Bqoxw6Vv.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-0V_eukm8.js";import"../sb-preview/runtime.js";import"./p-e9c4f463-BPmi-3c5.js";const y=class{constructor(e){a(this,e),this.regions={},this.messagesQueue=h({delay:500}),this.id=c("aria-live-"),this.regions={}}onFindAriaLive({detail:e}){(!e.element||!this.isInSearchInterface)&&(e.element=this.host)}get isInSearchInterface(){let e=this.host;for(;e;){if(e.tagName==="ATOMIC-SEARCH-INTERFACE")return!0;e=e.parentElement}return!1}async updateMessage(e,s,i){const t=()=>this.regions={...this.regions,[e]:{assertive:i,message:s}};s?this.messagesQueue.enqueue(t,e):(this.messagesQueue.cancelActionIfQueued(e),t())}async registerRegion(e,s){e in this.regions||(this.regions={...this.regions,[e]:{assertive:s,message:""}})}disconnectedCallback(){this.messagesQueue.clear()}render(){return r(n,{key:"23956133a83eabc70062eda40fc758b79ca95ef5",style:{position:"absolute",display:"block",height:"0",overflow:"hidden",margin:"0"}},Object.entries(this.regions).map(([e,{assertive:s,message:i}])=>r("div",{key:e,id:`${this.id}-${e}`,"aria-live":s?"assertive":"polite",role:"status"},i)))}get host(){return o(this)}};export{y as atomic_aria_live};
