{"file":"atomic-focus-detector.entry.cjs.js","mappings":";;;;;;;;MAkBa,mBAAmB;IAJhC;;;;QAUU,sBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;KA+BhD;IA7BC,IAAY,aAAa;QACvB,MAAM,cAAc,GAAGA,uBAAiB,EAAE,CAAC;QAE3C,OAAO,CAAC,CAAC,cAAc,IAAIC,kBAAY,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;KACpE;IAGD,SAAS;QACP,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAGD,UAAU;QACR,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAEO,cAAc;QACpB,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACzC,IAAI,aAAa,KAAK,IAAI,CAAC,iBAAiB,EAAE;YAC5C,OAAO;SACR;QAED,IAAI,CAAC,iBAAiB,GAAG,aAAa,CAAC;QACvC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KAChE;IAED,MAAM;QACJ,OAAOC,QAACC,UAAI,qDAAC,KAAK,EAAE,EAAC,OAAO,EAAE,UAAU,EAAC,GAAS,CAAC;KACpD;;;;;;","names":["getFocusedElement","isAncestorOf","h","Host"],"sources":["src/components/common/atomic-focus-detector.tsx"],"sourcesContent":["import {\n  h,\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  Listen,\n  Host,\n} from '@stencil/core';\nimport {getFocusedElement, isAncestorOf} from '../../utils/utils';\n\n/**\n * @internal\n */\n@Component({\n  tag: 'atomic-focus-detector',\n  shadow: false,\n})\nexport class AtomicFocusDetector {\n  @Element() private host!: HTMLElement;\n\n  @Event() focusEnter!: EventEmitter;\n  @Event() focusExit!: EventEmitter;\n\n  private focusWasContained = this.containsFocus;\n\n  private get containsFocus() {\n    const focusedElement = getFocusedElement();\n\n    return !!focusedElement && isAncestorOf(this.host, focusedElement);\n  }\n\n  @Listen('focusin', {target: 'document'})\n  onFocusIn() {\n    this.onFocusChanged();\n  }\n\n  @Listen('focusout', {target: 'document'})\n  onFocusOut() {\n    this.onFocusChanged();\n  }\n\n  private onFocusChanged() {\n    const containsFocus = this.containsFocus;\n    if (containsFocus === this.focusWasContained) {\n      return;\n    }\n\n    this.focusWasContained = containsFocus;\n    containsFocus ? this.focusEnter.emit() : this.focusExit.emit();\n  }\n\n  render() {\n    return <Host style={{display: 'contents'}}></Host>;\n  }\n}\n"],"version":3}