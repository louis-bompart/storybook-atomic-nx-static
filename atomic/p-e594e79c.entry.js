import{r as t,h as r,g as e}from"./p-00525453.js";import{d as s,a as i}from"./p-ade4f913.js";import{V as n}from"./p-794b93a9.js";import{I as o}from"./p-6fadd170.js";import{P as a}from"./p-09db0816.js";import"./p-1580513b.js";import"./p-9935af75.js";import"./p-e9c4f463.js";import"./p-231defbf.js";const u=class{constructor(r){t(this,r);this.format=(t,r)=>t.toLocaleString(r,{style:"currency",currency:this.currency});this.error=undefined;this.currency=undefined}componentWillLoad(){try{s(((t,r)=>this.format(t,r)),this.host)}catch(t){this.error=t}}render(){if(this.error){return r("atomic-component-error",{key:"1c0133dafb59dae6c21d26d83df28dd36f11a150",element:this.host,error:this.error})}}get host(){return e(this)}};var c=undefined&&undefined.__decorate||function(t,r,e,s){var i=arguments.length,n=i<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,e):s,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,r,e,s);else for(var a=t.length-1;a>=0;a--)if(o=t[a])n=(i<3?o(n):i>3?o(r,e,n):o(r,e))||n;return i>3&&n&&Object.defineProperty(r,e,n),n};const f=class{constructor(r){t(this,r);this.formatter=i;this.valueToDisplay=null;this.error=undefined;this.field=undefined;this.formatter=i;this.valueToDisplay=null}setFormat(t){t.preventDefault();t.stopPropagation();this.formatter=t.detail}parseValue(){const t=n.getProductProperty(this.product,this.field);if(t===null){return null}const r=parseFloat(`${t}`);if(Number.isNaN(r)){this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`);return null}return r}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(r){this.error=r;return t.toString()}}updateValueToDisplay(){const t=this.parseValue();if(t!==null){this.valueToDisplay=this.formatValue(t)}}componentWillRender(){this.updateValueToDisplay()}render(){if(this.valueToDisplay===null){this.host.remove();return}return this.valueToDisplay}get host(){return e(this)}};c([o()],f.prototype,"bindings",void 0);c([a()],f.prototype,"product",void 0);export{u as atomic_format_currency,f as atomic_product_numeric_field_value};
//# sourceMappingURL=p-e594e79c.entry.js.map