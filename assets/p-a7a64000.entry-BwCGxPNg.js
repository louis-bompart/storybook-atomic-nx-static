import{N as A}from"./preview-C4e5QyPH.js";import{n as I,l as W}from"./p-7e7b1a62-C6-3oFSh.js";import{M as q}from"./p-abea0bd2-55DIQVI1.js";import{n as N}from"./p-3d32d423-CBVTidVS.js";import{e as J}from"./p-e9c4f463-BPmi-3c5.js";import{m as V}from"./p-107c3d7f-C4HwDtxk.js";import{e as Z}from"./p-849728b4-BFbNO7U7.js";import"./p-f5723aee-BNyovPuY.js";import"./iframe-DZOcfrC1.js";import"../sb-preview/runtime.js";import"./chunk-GKNNPQCW-BkHQSocK.js";import"./p-1580513b-3LX64KEr.js";import"./p-529fdce5-CfCZs-Ro.js";var P={exports:{}};(function(u,$){(function(c,o){u.exports=o()})(J,function(){var c,o,m=1e3,d=6e4,l=36e5,p=864e5,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w=31536e6,S=2628e6,E=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:w,months:S,days:p,hours:l,minutes:d,seconds:m,milliseconds:1,weeks:6048e5},Y=function(i){return i instanceof O},M=function(i,s,t){return new O(i,t,s.$l)},b=function(i){return o.p(i)+"s"},H=function(i){return i<0},y=function(i){return H(i)?Math.ceil(i):Math.floor(i)},F=function(i){return Math.abs(i)},v=function(i,s){return i?H(i)?{negative:!0,format:""+F(i)+s}:{negative:!1,format:""+i+s}:{negative:!1,format:""}},O=function(){function i(t,n,r){var e=this;if(this.$d={},this.$l=r,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),n)return M(t*g[b(n)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(f){e.$d[b(f)]=t[f]}),this.calMilliseconds(),this;if(typeof t=="string"){var a=t.match(E);if(a){var h=a.slice(2).map(function(f){return f!=null?Number(f):0});return this.$d.years=h[0],this.$d.months=h[1],this.$d.weeks=h[2],this.$d.days=h[3],this.$d.hours=h[4],this.$d.minutes=h[5],this.$d.seconds=h[6],this.calMilliseconds(),this}}return this}var s=i.prototype;return s.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(n,r){return n+(t.$d[r]||0)*g[r]},0)},s.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=y(t/w),t%=w,this.$d.months=y(t/S),t%=S,this.$d.days=y(t/p),t%=p,this.$d.hours=y(t/l),t%=l,this.$d.minutes=y(t/d),t%=d,this.$d.seconds=y(t/m),t%=m,this.$d.milliseconds=t},s.toISOString=function(){var t=v(this.$d.years,"Y"),n=v(this.$d.months,"M"),r=+this.$d.days||0;this.$d.weeks&&(r+=7*this.$d.weeks);var e=v(r,"D"),a=v(this.$d.hours,"H"),h=v(this.$d.minutes,"M"),f=this.$d.seconds||0;this.$d.milliseconds&&(f+=this.$d.milliseconds/1e3,f=Math.round(1e3*f)/1e3);var D=v(f,"S"),T=t.negative||n.negative||e.negative||a.negative||h.negative||D.negative,z=a.format||h.format||D.format?"T":"",k=(T?"-":"")+"P"+t.format+n.format+e.format+z+a.format+h.format+D.format;return k==="P"||k==="-P"?"P0D":k},s.toJSON=function(){return this.toISOString()},s.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return n.replace(R,function(e,a){return a||String(r[e])})},s.as=function(t){return this.$ms/g[b(t)]},s.get=function(t){var n=this.$ms,r=b(t);return r==="milliseconds"?n%=1e3:n=r==="weeks"?y(n/g[r]):this.$d[r],n||0},s.add=function(t,n,r){var e;return e=n?t*g[b(n)]:Y(t)?t.$ms:M(t,this).$ms,M(this.$ms+e*(r?-1:1),this)},s.subtract=function(t,n){return this.add(t,n,!0)},s.locale=function(t){var n=this.clone();return n.$l=t,n},s.clone=function(){return M(this.$ms,this)},s.humanize=function(t){return c().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},s.valueOf=function(){return this.asMilliseconds()},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},i}(),x=function(i,s,t){return i.add(s.years()*t,"y").add(s.months()*t,"M").add(s.days()*t,"d").add(s.hours()*t,"h").add(s.minutes()*t,"m").add(s.seconds()*t,"s").add(s.milliseconds()*t,"ms")};return function(i,s,t){c=t,o=t().$utils(),t.duration=function(e,a){var h=t.locale();return M(e,{$l:h},a)},t.isDuration=Y;var n=s.prototype.add,r=s.prototype.subtract;s.prototype.add=function(e,a){return Y(e)?x(this,e,1):n.bind(this)(e,a)},s.prototype.subtract=function(e,a){return Y(e)?x(this,e,-1):r.bind(this)(e,a)}}})})(P);const B=P.exports;var j=function(u,$,c,o){var m=arguments.length,d=m<3?$:o===null?o=Object.getOwnPropertyDescriptor($,c):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")d=Reflect.decorate(u,$,c,o);else for(var p=u.length-1;p>=0;p--)(l=u[p])&&(d=(m<3?l(d):m>3?l($,c,d):l($,c))||d);return m>3&&d&&Object.defineProperty($,c,d),d};N.extend(B);const _=class{constructor(u){A(this,u),this.unit="ms",this.error=void 0,this.field=void 0,this.unit="ms",this.format=void 0}initialize(){if(new I({field:new W({required:!0,emptyAllowed:!1})}).validate({field:this.field}),!this.value){this.error=new Error(`No value found for field ${this.field}`);return}isNaN(this.value)&&(this.error=new Error(`Value ${this.value} for field ${this.field} is not a number`))}render(){const u=N.duration(this.value,this.unit);return this.format?u.format(this.format):u.asYears()>=1?this.bindings.i18n.t("approx_year",{count:Math.round(u.asYears())}):u.asMonths()>=1?this.bindings.i18n.t("approx_month",{count:Math.round(u.asMonths())}):u.asDays()>=1?this.bindings.i18n.t("approx_day",{count:Math.round(u.asDays())}):u.format("HH:mm:ss")}get value(){return q.getResultProperty(this.result,this.field)}};j([V()],_.prototype,"bindings",void 0);j([Z()],_.prototype,"result",void 0);export{_ as atomic_result_timespan};
