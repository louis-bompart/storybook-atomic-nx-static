import{r as t,h as e,g as r}from"./p-00525453.js";import{d as s,a as i}from"./p-ade4f913.js";import{V as n}from"./p-794b93a9.js";import{I as o}from"./p-107c3d7f.js";import{P as a}from"./p-a422cb9e.js";import"./p-1580513b.js";import"./p-f5723aee.js";import"./p-e9c4f463.js";import"./p-529fdce5.js";const c=class{constructor(e){t(this,e);this.format=(t,e)=>t.toLocaleString(e,{style:"currency",currency:this.currency});this.error=undefined;this.currency=undefined}componentWillLoad(){try{s(((t,e)=>this.format(t,e)),this.host)}catch(t){this.error=t}}render(){if(this.error){return e("atomic-component-error",{key:"eaa8f36e17d6c352522a3720e21d48e3cab8e9db",element:this.host,error:this.error})}}get host(){return r(this)}};var u=undefined&&undefined.__decorate||function(t,e,r,s){var i=arguments.length,n=i<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect==="object"&&typeof Reflect.decorate==="function")n=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)if(o=t[a])n=(i<3?o(n):i>3?o(e,r,n):o(e,r))||n;return i>3&&n&&Object.defineProperty(e,r,n),n};const h=class{constructor(e){t(this,e);this.formatter=i;this.valueToDisplay=null;this.error=undefined;this.field=undefined;this.formatter=i;this.valueToDisplay=null}setFormat(t){t.preventDefault();t.stopPropagation();this.formatter=t.detail}parseValue(){const t=n.getProductProperty(this.product,this.field);if(t===null){return null}const e=parseFloat(`${t}`);if(Number.isNaN(e)){this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`);return null}return e}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(e){this.error=e;return t.toString()}}updateValueToDisplay(){const t=this.parseValue();if(t!==null){this.valueToDisplay=this.formatValue(t)}}componentWillRender(){this.updateValueToDisplay()}render(){if(this.valueToDisplay===null){this.host.remove();return}return this.valueToDisplay}get host(){return r(this)}};u([o()],h.prototype,"bindings",void 0);u([a()],h.prototype,"product",void 0);export{c as atomic_format_currency,h as atomic_product_numeric_field_value};
//# sourceMappingURL=p-f66d5192.entry.js.map