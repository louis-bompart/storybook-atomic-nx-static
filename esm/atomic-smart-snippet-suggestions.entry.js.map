{"file":"atomic-smart-snippet-suggestions.entry.js","mappings":";;;;;;;;;;;;;;;AAAA,MAAM,gCAAgC,GAAG,85wCAA85wC,CAAC;AACx8wC,4CAAe,gCAAgC;;;;;;;;;;;;MCyDlC,6BAA6B;;;;;;QAcV,iBAAY,GAAG,CAAC,CAAC;QAgBvC,OAAE,GAAG,QAAQ,CAAC,mCAAmC,CAAC,CAAC;;4BAhBd,CAAC;;;IAkBvC,UAAU;QACf,IAAI,CAAC,yBAAyB,GAAGA,EAA8B,CAC7D,IAAI,CAAC,QAAQ,CAAC,MAAM,CACrB,CAAC;QAEF,IAAI,CAAC,gCAAgC,GAAG,IAAI,4BAA4B,CAAC;YACvE,EAAE,EAAE,IAAI,CAAC,EAAE;YACX,yBAAyB,EAAE,MACzB,yBAAyB,CAAC,IAAI,CAAC,IAAI,EAAE,0BAA0B,CAAC;YAClE,OAAO,EAAE,MAAM,IAAI,CAAC,IAAI;YACxB,WAAW,EAAE,MAAM,IAAI,CAAC,QAAQ;YAChC,eAAe,EAAE,MAAM,IAAI,CAAC,YAAY;YACxC,QAAQ,EAAE,MAAM,IAAI,CAAC,8BAA8B;YACnD,gBAAgB,EAAE,MAAM,IAAI,CAAC,yBAAyB;YACtD,eAAe,EAAE,MAAM,IAAI,CAAC,YAAY;SACzC,CAAC,CAAC;QAEH,IAAI,CAAC,gCAAgC,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,kBAAkB,CAAC;YACrC,IAAI,CAAC,gCAAgC,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;SAC/D,CAAC,CAAC;KACJ;IAEM,qBAAqB,CAC1B,eAA4C,EAC5C,KAAa;QAEb,OAAO,IAAI,CAAC,gCAAgC,CAAC,qBAAqB,CAChE,eAAe,EACf,KAAK,CACN,CAAC;KACH;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,gCAAgC,CAAC,MAAM,EAAE,CAAC;KACvD;;;AAlE4B;IAA5B,kBAAkB,EAAE;+DAA4B;AAI1C;IAFN,qBAAqB,CAAC,2BAA2B,CAAC;qFAEoB;;;;;","names":["buildSmartSnippetQuestionsList"],"sources":["src/components/search/smart-snippets/atomic-smart-snippet-suggestions/atomic-smart-snippet-suggestions.pcss?tag=atomic-smart-snippet-suggestions&encapsulation=shadow","src/components/search/smart-snippets/atomic-smart-snippet-suggestions/atomic-smart-snippet-suggestions.tsx"],"sourcesContent":["@import '../../../common/smart-snippets/atomic-smart-snippet-suggestions/atomic-smart-snippet-suggestions.pcss';\r\n","import {\r\n  buildSmartSnippetQuestionsList,\r\n  SmartSnippetQuestionsList,\r\n  SmartSnippetQuestionsListState,\r\n  SmartSnippetRelatedQuestion,\r\n} from '@coveo/headless';\r\nimport {Component, Prop, State, Element} from '@stencil/core';\r\nimport {\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n  BindStateToController,\r\n} from '../../../../utils/initialization-utils';\r\nimport {randomID} from '../../../../utils/utils';\r\nimport {getAttributesFromLinkSlot} from '../../../common/item-link/attributes-slot';\r\nimport {SmartSnippetSuggestionCommon} from '../../../common/smart-snippets/atomic-smart-snippet-suggestions/smart-snippet-suggestions-common';\r\nimport {Bindings} from '../../atomic-search-interface/atomic-search-interface';\r\n\r\n/**\r\n * The `atomic-smart-snippet-suggestions-suggestions` component displays an accordion of questions related to the query with their corresponding answers.\r\n *\r\n * You can style the snippets by inserting a template element like this:\r\n * ```html\r\n * <atomic-smart-snippet-suggestions>\r\n *   <template>\r\n *     <style>\r\n *       b {\r\n *         color: blue;\r\n *       }\r\n *     </style>\r\n *   </template>\r\n * </atomic-smart-snippet-suggestions>\r\n * ```\r\n *\r\n * @slot source-anchor-attributes - Lets you pass [attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attributes) down to anchor elements, overriding other attributes.\r\n * To be used exclusively in anchor elements, such as: `<a slot=\"source-anchor-attributes\" target=\"_blank\"></a>`.\r\n *\r\n * @part container - The wrapper with a border around the entire component.\r\n * @part heading - The heading above the list of related questions.\r\n * @part questions - The list of related questions.\r\n * @part question-answer-expanded - An expanded related question.\r\n * @part question-answer-collapsed - A collapsed related question.\r\n * @part question-button-expanded - The button to collapse a related question.\r\n * @part question-button-collapsed - The button to expand a related question.\r\n * @part question-icon-expanded - The caret of an expanded related question.\r\n * @part question-icon-collapsed - The caret of a collapsed related question.\r\n * @part question-text-expanded - The title of an expanded related question.\r\n * @part question-text-collapsed - The title of a collapsed related question.\r\n * @part answer-and-source - The wrapper around the answer and source of a related question.\r\n * @part answer - The container displaying the full document excerpt of a related question's answer.\r\n * @part footer - The wrapper around the source of a related question's answer.\r\n * @part source-url - The URL to the document a related question's answer is extracted from.\r\n * @part source-title - The title of the document a related question's answer is extracted from.\r\n */\r\n@Component({\r\n  tag: 'atomic-smart-snippet-suggestions',\r\n  styleUrl: 'atomic-smart-snippet-suggestions.pcss',\r\n  shadow: true,\r\n})\r\nexport class AtomicSmartSnippetSuggestions implements InitializableComponent {\r\n  @InitializeBindings() public bindings!: Bindings;\r\n  public smartSnippetQuestionsList!: SmartSnippetQuestionsList;\r\n  @BindStateToController('smartSnippetQuestionsList')\r\n  @State()\r\n  public smartSnippetQuestionsListState!: SmartSnippetQuestionsListState;\r\n  public error!: Error;\r\n  @Element() public host!: HTMLElement;\r\n\r\n  private smartSnippetSuggestionListCommon!: SmartSnippetSuggestionCommon;\r\n\r\n  /**\r\n   * The [heading level](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Heading_Elements) to use for the \"People also ask\" heading over the snippets, from 1 to 5.\r\n   */\r\n  @Prop({reflect: true}) public headingLevel = 0;\r\n\r\n  /**\r\n   * Sets the style of the snippets.\r\n   *\r\n   * Example:\r\n   * ```ts\r\n   * smartSnippet.snippetStyle = `\r\n   *   b {\r\n   *     color: blue;\r\n   *   }\r\n   * `;\r\n   * ```\r\n   */\r\n  @Prop() snippetStyle?: string;\r\n\r\n  private id = randomID('atomic-smart-snippet-suggestions-');\r\n\r\n  public initialize() {\r\n    this.smartSnippetQuestionsList = buildSmartSnippetQuestionsList(\r\n      this.bindings.engine\r\n    );\r\n\r\n    this.smartSnippetSuggestionListCommon = new SmartSnippetSuggestionCommon({\r\n      id: this.id,\r\n      getSourceAnchorAttributes: () =>\r\n        getAttributesFromLinkSlot(this.host, 'source-anchor-attributes'),\r\n      getHost: () => this.host,\r\n      getBindings: () => this.bindings,\r\n      getHeadingLevel: () => this.headingLevel,\r\n      getState: () => this.smartSnippetQuestionsListState,\r\n      getQuestionsList: () => this.smartSnippetQuestionsList,\r\n      getSnippetStyle: () => this.snippetStyle,\r\n    });\r\n\r\n    this.smartSnippetSuggestionListCommon.hideDuringRender(true);\r\n    this.bindings.store.waitUntilAppLoaded(() => {\r\n      this.smartSnippetSuggestionListCommon.hideDuringRender(false);\r\n    });\r\n  }\r\n\r\n  public renderRelatedQuestion(\r\n    relatedQuestion: SmartSnippetRelatedQuestion,\r\n    index: number\r\n  ) {\r\n    return this.smartSnippetSuggestionListCommon.renderRelatedQuestion(\r\n      relatedQuestion,\r\n      index\r\n    );\r\n  }\r\n\r\n  public render() {\r\n    return this.smartSnippetSuggestionListCommon.render();\r\n  }\r\n}\r\n"],"version":3}