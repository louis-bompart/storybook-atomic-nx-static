{"version":3,"names":["Rating","props","width","numberOfActiveIcons","numberOfTotalIcons","toString","iconSize","_a","renderIcon","active","h","icon","class","style","height","emptyIconDisplay","i","push","filledIconDisplay","part","role","i18n","t","count","max","computeNumberOfStars","value","field","valueAsNumber","parseFloat","Number","isNaN","Error"],"sources":["src/components/common/atomic-rating/atomic-rating.tsx"],"sourcesContent":["import {FunctionalComponent, h, VNode} from '@stencil/core';\r\nimport {i18n} from 'i18next';\r\n\r\ninterface RatingProps {\r\n  i18n: i18n;\r\n  numberOfTotalIcons: number;\r\n  numberOfActiveIcons: number;\r\n  icon: string;\r\n  iconSize?: number;\r\n}\r\n\r\nexport const Rating: FunctionalComponent<RatingProps> = (props) => {\r\n  const width =\r\n    ((props.numberOfActiveIcons / props.numberOfTotalIcons) * 100).toString() +\r\n    '%';\r\n  const iconSize = `${props.iconSize ?? 0.75}rem`;\r\n\r\n  const renderIcon = (active: boolean) => {\r\n    return (\r\n      <atomic-icon\r\n        icon={props.icon}\r\n        class={`shrink-0 ${active ? 'icon-active' : 'icon-inactive'}`}\r\n        style={{width: iconSize, height: iconSize}}\r\n      ></atomic-icon>\r\n    );\r\n  };\r\n\r\n  const emptyIconDisplay = () => {\r\n    const emptyIconDisplay: VNode[] = [];\r\n    for (let i = 0; i < props.numberOfTotalIcons; i++) {\r\n      emptyIconDisplay.push(renderIcon(false));\r\n    }\r\n    return emptyIconDisplay;\r\n  };\r\n\r\n  const filledIconDisplay = () => {\r\n    const filledIconDisplay: VNode[] = [];\r\n    for (let i = 0; i < props.numberOfTotalIcons; i++) {\r\n      filledIconDisplay.push(renderIcon(true));\r\n    }\r\n    return filledIconDisplay;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      class=\"relative w-max\"\r\n      part=\"value-rating\"\r\n      role=\"img\"\r\n      aria-label={props.i18n.t('stars', {\r\n        count: props.numberOfActiveIcons,\r\n        max: props.numberOfTotalIcons,\r\n      })}\r\n    >\r\n      <div class=\"z-0 flex gap-0.5\">{emptyIconDisplay()}</div>\r\n      <div\r\n        class=\"absolute left-0 top-0 z-1 flex gap-0.5 overflow-hidden\"\r\n        style={{width}}\r\n      >\r\n        {filledIconDisplay()}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const computeNumberOfStars = (\r\n  value: unknown,\r\n  field: string\r\n): number | null => {\r\n  if (value === null) {\r\n    return null;\r\n  }\r\n  const valueAsNumber = parseFloat(`${value}`);\r\n  if (Number.isNaN(valueAsNumber)) {\r\n    throw new Error(\r\n      `Could not parse \"${value}\" from field \"${field}\" as a number.`\r\n    );\r\n  }\r\n  return valueAsNumber;\r\n};\r\n"],"mappings":"65BAWaA,EAA4CC,I,MACvD,MAAMC,GACFD,EAAME,oBAAsBF,EAAMG,mBAAsB,KAAKC,WAC/D,IACF,MAAMC,EAAW,IAAGC,EAAAN,EAAMK,YAAQ,MAAAC,SAAA,EAAAA,EAAI,SAEtC,MAAMC,EAAcC,GAEhBC,EAAA,eACEC,KAAMV,EAAMU,KACZC,MAAO,YAAYH,EAAS,cAAgB,kBAC5CI,MAAO,CAACX,MAAOI,EAAUQ,OAAQR,KAKvC,MAAMS,EAAmB,KACvB,MAAMA,EAA4B,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIf,EAAMG,mBAAoBY,IAAK,CACjDD,EAAiBE,KAAKT,EAAW,O,CAEnC,OAAOO,CAAgB,EAGzB,MAAMG,EAAoB,KACxB,MAAMA,EAA6B,GACnC,IAAK,IAAIF,EAAI,EAAGA,EAAIf,EAAMG,mBAAoBY,IAAK,CACjDE,EAAkBD,KAAKT,EAAW,M,CAEpC,OAAOU,CAAiB,EAG1B,OACER,EAAA,OACEE,MAAM,iBACNO,KAAK,eACLC,KAAK,MAAK,aACEnB,EAAMoB,KAAKC,EAAE,QAAS,CAChCC,MAAOtB,EAAME,oBACbqB,IAAKvB,EAAMG,sBAGbM,EAAA,OAAKE,MAAM,oBAAoBG,KAC/BL,EAAA,OACEE,MAAM,yDACNC,MAAO,CAACX,UAEPgB,KAEC,E,MAIGO,EAAuB,CAClCC,EACAC,KAEA,GAAID,IAAU,KAAM,CAClB,OAAO,I,CAET,MAAME,EAAgBC,WAAW,GAAGH,KACpC,GAAII,OAAOC,MAAMH,GAAgB,CAC/B,MAAM,IAAII,MACR,oBAAoBN,kBAAsBC,kB,CAG9C,OAAOC,CAAa,S"}