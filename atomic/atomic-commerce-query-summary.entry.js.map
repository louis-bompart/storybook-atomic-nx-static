{"file":"atomic-commerce-query-summary.entry.esm.js","mappings":";;;;;;;;;;AAAA,MAAM,6BAA6B,GAAG,6/tCAA6/tC;;;;;;;;;;;;MCuCthuC,kBAAkB;;;;;;IAkBtB,UAAU;QACf,IAAI,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,IAAI,KAAK,iBAAiB,EAAE;YAC7D,IAAI,CAAC,sBAAsB,GAAG,mBAAmB,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACzE;aAAM;YACL,IAAI,CAAC,sBAAsB,GAAG,kBAAkB,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;SACxE;KACF;IAEM,MAAM;QACX,MAAM,EACJ,YAAY,EACZ,mBAAmB,EACnB,WAAW,EACX,qBAAqB,EACrB,WAAW,EACX,QAAQ,GACT,GAAG,IAAI,CAAC,2BAA2B,CAAC;QAErC,MAAM,EAAC,OAAO,EAAE,UAAU,EAAE,eAAe,EAAC,GAC1C,6BAA6B,CAAC;YAC5B,KAAK,EAAE,YAAY;YACnB,IAAI,EAAE,WAAW;YACjB,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,2BAA2B,CAAC;kBAClD,IAAI,CAAC,2BAA2B,CAAC,KAAK;kBACtC,EAAE;YACN,KAAK,EAAE,qBAAqB;YAC5B,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;YACxB,SAAS,EAAE,KAAK;SACjB,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,GAAG,eAAe,CAAC;QAEnC,QACE,EAAC,iBAAiB,qDAChB,mBAAmB,EAAE,mBAAmB,EACxC,UAAU,EAAE,WAAW,EACvB,QAAQ,EAAE,QAAQ,IAElB,EAAC,qBAAqB,uDACpB,EAAC,eAAe,IACd,GAAG,EAAE,OAAO,EACZ,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,MAAM,EAAE,UAAU,EAClB,KAAK,EAAE,WAAW,GAClB,CACoB,CACN,EACpB;KACH;IAEO,QAAQ,CACd,KAA+C;QAE/C,OAAO,OAAO,IAAI,KAAK,CAAC;KACzB;;AArE4B;IAA5B,kBAAkB,EAAE;oDAAoC;AAMjD;IAFP,qBAAqB,CAAC,wBAAwB,CAAC;uEAIxB;AAKd;IADT,cAAc,CAAC,eAAe,CAAC;uDACD;;;;;","names":[],"sources":["src/components/commerce/atomic-commerce-query-summary/atomic-commerce-query-summary.pcss?tag=atomic-commerce-query-summary&encapsulation=shadow","src/components/commerce/atomic-commerce-query-summary/atomic-commerce-query-summary.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\r\n\r\n:host {\r\n  overflow: hidden;\r\n}\r\n","import {\r\n  ListingSummary,\r\n  ListingSummaryState,\r\n  Pagination,\r\n  SearchSummary,\r\n  SearchSummaryState,\r\n  buildListingSummary,\r\n  buildSearchSummary,\r\n} from '@coveo/headless/commerce';\r\nimport {Component, h, State} from '@stencil/core';\r\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\r\nimport {\r\n  BindStateToController,\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n} from '../../../utils/initialization-utils';\r\nimport {LocalizedString} from '../../../utils/jsx-utils';\r\nimport {QuerySummaryContainer} from '../../common/query-summary/container';\r\nimport {QuerySummaryGuard} from '../../common/query-summary/guard';\r\nimport {getQuerySummaryI18nParameters} from '../../common/query-summary/utils';\r\nimport {CommerceBindings} from '../atomic-commerce-interface/atomic-commerce-interface';\r\n\r\n/**\r\n * The `atomic-commerce-query-summary` component displays information about the current range of results and the request duration (e.g., \"Results 1-10 of 123 in 0.47 seconds\").\r\n *\r\n * @part container - The container for the whole summary.\r\n * @part results - The container for the results.\r\n * @part duration - The container for the duration.\r\n * @part highlight - The summary highlights.\r\n * @part query - The summary highlighted query.\r\n * @part placeholder - The query summary placeholder used while the search interface is initializing.\r\n *\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'atomic-commerce-query-summary',\r\n  styleUrl: 'atomic-commerce-query-summary.pcss',\r\n  shadow: true,\r\n})\r\nexport class AtomicQuerySummary\r\n  implements InitializableComponent<CommerceBindings>\r\n{\r\n  @InitializeBindings() public bindings!: CommerceBindings;\r\n  public listingOrSearchSummary!: SearchSummary | ListingSummary;\r\n  public pagination!: Pagination;\r\n\r\n  @BindStateToController('listingOrSearchSummary')\r\n  @State()\r\n  private listingOrSearchSummaryState!:\r\n    | SearchSummaryState\r\n    | ListingSummaryState;\r\n\r\n  @State() public error!: Error;\r\n\r\n  @AriaLiveRegion('query-summary')\r\n  protected ariaMessage!: string;\r\n\r\n  public initialize() {\r\n    if (this.bindings.interfaceElement.type === 'product-listing') {\r\n      this.listingOrSearchSummary = buildListingSummary(this.bindings.engine);\r\n    } else {\r\n      this.listingOrSearchSummary = buildSearchSummary(this.bindings.engine);\r\n    }\r\n  }\r\n\r\n  public render() {\r\n    const {\r\n      firstProduct,\r\n      firstSearchExecuted,\r\n      lastProduct,\r\n      totalNumberOfProducts,\r\n      hasProducts,\r\n      hasError,\r\n    } = this.listingOrSearchSummaryState;\r\n\r\n    const {i18nKey, highlights, ariaLiveMessage} =\r\n      getQuerySummaryI18nParameters({\r\n        first: firstProduct,\r\n        last: lastProduct,\r\n        query: this.isSearch(this.listingOrSearchSummaryState)\r\n          ? this.listingOrSearchSummaryState.query\r\n          : '',\r\n        total: totalNumberOfProducts,\r\n        i18n: this.bindings.i18n,\r\n        isLoading: false,\r\n      });\r\n\r\n    this.ariaMessage = ariaLiveMessage;\r\n\r\n    return (\r\n      <QuerySummaryGuard\r\n        firstSearchExecuted={firstSearchExecuted}\r\n        hasResults={hasProducts}\r\n        hasError={hasError}\r\n      >\r\n        <QuerySummaryContainer>\r\n          <LocalizedString\r\n            key={i18nKey}\r\n            bindings={this.bindings}\r\n            params={highlights}\r\n            count={lastProduct}\r\n          />\r\n        </QuerySummaryContainer>\r\n      </QuerySummaryGuard>\r\n    );\r\n  }\r\n\r\n  private isSearch(\r\n    state: ListingSummaryState | SearchSummaryState\r\n  ): state is SearchSummaryState {\r\n    return 'query' in state;\r\n  }\r\n}\r\n"],"version":3}