import{g as s}from"./preview-C4e5QyPH.js";import{n as o}from"./p-751ba4ab-Dmnypdqi.js";import{n as l}from"./p-7a01eaa3-CZOSf1yh.js";import{e as a}from"./p-c58ca89b-DK00LRHh.js";import{r as i}from"./p-16bd4264-DQLJ64gQ.js";import{r as p}from"./p-107c3d7f-C4HwDtxk.js";class x{constructor(e){this.props=e}get style(){var e;const t=(e=this.props.getHost().querySelector("template"))===null||e===void 0?void 0:e.content.querySelector("style");return t?t.innerHTML:this.props.getSnippetStyle()}getRelatedQuestionId(e){return`${this.props.id}-${e}`}getQuestionPart(e,t){return e+(t.expanded?"-expanded":"-collapsed")}toggleQuestion(e){e.expanded?this.props.getQuestionsList().collapse(e.questionAnswerId):this.props.getQuestionsList().expand(e.questionAnswerId)}renderQuestion(e,t){const n=this.props.getHeadingLevel();return s(a,{style:"text-neutral",part:this.getQuestionPart("question-button",e),onClick:()=>this.toggleQuestion(e),class:"flex items-center px-4",ariaExpanded:`${e.expanded}`,ariaControls:this.getRelatedQuestionId(t)},s("atomic-icon",{icon:e.expanded?o:l,part:this.getQuestionPart("question-icon",e),class:"w-2.5 mr-3 stroke-[1.25]"}),s(i,{level:n&&n+1,class:"text-left text-xl font-bold py-4",part:this.getQuestionPart("question-text",e)},e.question))}renderContent(e){return s("atomic-smart-snippet-answer",{exportparts:"answer",htmlContent:e.answer,innerStyle:this.style,onSelectInlineLink:t=>this.props.getQuestionsList().selectInlineLink(e.questionAnswerId,t.detail),onBeginDelayedSelectInlineLink:t=>this.props.getQuestionsList().beginDelayedSelectInlineLink(e.questionAnswerId,t.detail),onCancelPendingSelectInlineLink:t=>this.props.getQuestionsList().cancelPendingSelectInlineLink(e.questionAnswerId,t.detail)})}renderSource(e){var t,n;const{source:r}=e;return r?s("footer",{part:"footer","aria-label":this.props.getBindings().i18n.t("smart-snippet-source")},s("atomic-smart-snippet-source",{source:r,anchorAttributes:(n=(t=this.props).getSourceAnchorAttributes)===null||n===void 0?void 0:n.call(t),onSelectSource:()=>this.props.getQuestionsList().selectSource(e.questionAnswerId),onBeginDelayedSelectSource:()=>this.props.getQuestionsList().beginDelayedSelectSource(e.questionAnswerId),onCancelPendingSelectSource:()=>this.props.getQuestionsList().cancelPendingSelectSource(e.questionAnswerId)})):[]}hideDuringRender(e){const t=this.props.getHost();t.style.visibility=e?"hidden":"",t.style.position=e?"absolute":""}renderRelatedQuestion(e,t){return s("li",{key:e.questionAnswerId,part:this.getQuestionPart("question-answer",e),class:"flex flex-col"},s("article",{class:"contents"},this.renderQuestion(e,t),e.expanded&&s("div",{part:"answer-and-source",class:"pl-10 pr-6 pb-6",id:this.getRelatedQuestionId(t)},this.renderContent(e),this.renderSource(e))))}render(){return this.props.getState().questions.length?s("aside",{part:"container",class:"bg-background border border-neutral rounded-lg text-on-background overflow-hidden"},s(i,{level:this.props.getHeadingLevel(),part:"heading",class:"px-6 py-4 text-xl leading-8 border-b border-neutral"},this.props.getBindings().i18n.t("smart-snippet-people-also-ask")),s("ul",{part:"questions",class:"divide-neutral divide-y"},this.props.getState().questions.map((e,t)=>this.renderRelatedQuestion(e,t)))):s(p,null)}}export{x as o};
