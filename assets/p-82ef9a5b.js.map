{"version":3,"names":["getPartialRecentQueryElement","value","i18n","part","query","key","encodeForDomAttribute","ariaLabel","t","interpolation","escapeValue","getPartialRecentQueryClearElement","hideIfLast","RecentQueriesContainer","_","children","h","class","RecentQueryIcon","icon","RecentQueryText","innerHTML","HighlightUtils","highlightString","content","openingDelimiter","closingDelimiter","highlights","offset","length","RecentQueryClear"],"sources":["src/components/common/suggestions/recent-queries.tsx"],"sourcesContent":["import {HighlightUtils} from '@coveo/headless';\r\nimport {FunctionalComponent, h} from '@stencil/core';\r\nimport {i18n} from 'i18next';\r\nimport {encodeForDomAttribute} from '../../../utils/string-utils';\r\nimport {SearchBoxSuggestionElement} from './suggestions-common';\r\n\r\nexport const getPartialRecentQueryElement = (\r\n  value: string,\r\n  i18n: i18n\r\n): Pick<SearchBoxSuggestionElement, 'ariaLabel' | 'key' | 'query' | 'part'> => {\r\n  return {\r\n    part: 'recent-query-item',\r\n    query: value,\r\n    key: `recent-${encodeForDomAttribute(value)}`,\r\n    ariaLabel: i18n.t('recent-query-suggestion-label', {\r\n      query: value,\r\n      interpolation: {escapeValue: false},\r\n    }),\r\n  };\r\n};\r\n\r\nexport const getPartialRecentQueryClearElement = (\r\n  i18n: i18n\r\n): Pick<\r\n  SearchBoxSuggestionElement,\r\n  'ariaLabel' | 'key' | 'part' | 'hideIfLast'\r\n> => {\r\n  return {\r\n    key: 'recent-query-clear',\r\n    ariaLabel: i18n.t('clear-recent-searches', {\r\n      interpolation: {escapeValue: false},\r\n    }),\r\n    part: 'recent-query-title-item suggestion-divider',\r\n    hideIfLast: true,\r\n  };\r\n};\r\n\r\nexport const RecentQueriesContainer: FunctionalComponent = (_, children) => {\r\n  return (\r\n    <div\r\n      part=\"recent-query-content\"\r\n      class=\"flex items-center break-all text-left\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface RecentQueryIconProps {\r\n  icon: string;\r\n}\r\n\r\nexport const RecentQueryIcon: FunctionalComponent<RecentQueryIconProps> = ({\r\n  icon,\r\n}) => {\r\n  return (\r\n    <atomic-icon\r\n      part=\"recent-query-icon\"\r\n      icon={icon}\r\n      class=\"w-4 h-4 mr-2 shrink-0\"\r\n    ></atomic-icon>\r\n  );\r\n};\r\n\r\ninterface RecentQueryTextProps {\r\n  query: string;\r\n  value: string;\r\n}\r\n\r\nexport const RecentQueryText: FunctionalComponent<RecentQueryTextProps> = ({\r\n  query,\r\n  value,\r\n}) => {\r\n  if (query === '') {\r\n    return (\r\n      <span part=\"recent-query-text\" class=\"break-all line-clamp-2\">\r\n        {value}\r\n      </span>\r\n    );\r\n  }\r\n  return (\r\n    <span\r\n      part=\"recent-query-text\"\r\n      class=\"break-all line-clamp-2\"\r\n      innerHTML={HighlightUtils.highlightString({\r\n        content: value,\r\n        openingDelimiter:\r\n          '<span part=\"recent-query-text-highlight\" class=\"font-bold\">',\r\n        closingDelimiter: '</span>',\r\n        highlights: [\r\n          {\r\n            offset: query.length,\r\n            length: value.length - query.length,\r\n          },\r\n        ],\r\n      })}\r\n    ></span>\r\n  );\r\n};\r\n\r\ninterface RecentQueryClearProps {\r\n  i18n: i18n;\r\n}\r\n\r\nexport const RecentQueryClear: FunctionalComponent<RecentQueryClearProps> = ({\r\n  i18n,\r\n}) => {\r\n  return (\r\n    <div part=\"recent-query-title-content\" class=\"flex justify-between w-full\">\r\n      <span class=\"font-bold\" part=\"recent-query-title\">\r\n        {i18n.t('recent-searches')}\r\n      </span>\r\n      <span part=\"recent-query-clear\">{i18n.t('clear')}</span>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"kHAMaA,EAA+B,CAC1CC,EACAC,KAEO,CACLC,KAAM,oBACNC,MAAOH,EACPI,IAAK,UAAUC,EAAsBL,KACrCM,UAAWL,EAAKM,EAAE,gCAAiC,CACjDJ,MAAOH,EACPQ,cAAe,CAACC,YAAa,W,MAKtBC,EACXT,IAKO,CACLG,IAAK,qBACLE,UAAWL,EAAKM,EAAE,wBAAyB,CACzCC,cAAe,CAACC,YAAa,SAE/BP,KAAM,6CACNS,WAAY,O,MAIHC,EAA8C,CAACC,EAAGC,IAE3DC,EAAA,OACEb,KAAK,uBACLc,MAAM,yCAELF,G,MASMG,EAA6D,EACxEC,UAGEH,EAAA,eACEb,KAAK,oBACLgB,KAAMA,EACNF,MAAM,0B,MAUCG,EAA6D,EACxEhB,QACAH,YAEA,GAAIG,IAAU,GAAI,CAChB,OACEY,EAAA,QAAMb,KAAK,oBAAoBc,MAAM,0BAClChB,E,CAIP,OACEe,EAAA,QACEb,KAAK,oBACLc,MAAM,yBACNI,UAAWC,EAAeC,gBAAgB,CACxCC,QAASvB,EACTwB,iBACE,8DACFC,iBAAkB,UAClBC,WAAY,CACV,CACEC,OAAQxB,EAAMyB,OACdA,OAAQ5B,EAAM4B,OAASzB,EAAMyB,YAI7B,E,MAQCC,EAA+D,EAC1E5B,UAGEc,EAAA,OAAKb,KAAK,6BAA6Bc,MAAM,+BAC3CD,EAAA,QAAMC,MAAM,YAAYd,KAAK,sBAC1BD,EAAKM,EAAE,oBAEVQ,EAAA,QAAMb,KAAK,sBAAsBD,EAAKM,EAAE,kB"}