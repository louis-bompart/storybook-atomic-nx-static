{"version":3,"names":["AtomicProductPrice","this","currency","render","hasPromotionalPrice","_a","product","ec_promo_price","undefined","_b","ec_price","_c","_d","h","key","class","field","__decorate","InitializeBindings","ProductContext"],"sources":["src/components/commerce/product-template-components/atomic-product-price/atomic-product-price.tsx"],"sourcesContent":["import {Product} from '@coveo/headless/commerce';\r\nimport {Component, h, Prop} from '@stencil/core';\r\nimport {\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n} from '../../../../utils/initialization-utils';\r\nimport {CommerceBindings} from '../../atomic-commerce-interface/atomic-commerce-interface';\r\nimport {ProductContext} from '../product-template-decorators';\r\n\r\n/**\r\n * @internal\r\n * The `atomic-product-price` component renders the price of a product.\r\n */\r\n@Component({\r\n  tag: 'atomic-product-price',\r\n  shadow: false,\r\n})\r\nexport class AtomicProductPrice\r\n  implements InitializableComponent<CommerceBindings>\r\n{\r\n  @InitializeBindings() public bindings!: CommerceBindings;\r\n  public error!: Error;\r\n\r\n  @ProductContext() private product!: Product;\r\n\r\n  /**\r\n   * The currency to use in currency formatting. Allowed values are the [ISO 4217 currency codes](https://www.six-group.com/en/products-services/financial-information/data-standards.html#scrollTo=maintenance-agency), such as \"USD\" for the US dollar, \"EUR\" for the euro, or \"CNY\" for the Chinese RMB.\r\n   */\r\n  @Prop({reflect: true}) public currency: string = 'USD';\r\n\r\n  public render() {\r\n    const hasPromotionalPrice =\r\n      this.product?.ec_promo_price !== undefined &&\r\n      this.product?.ec_price !== undefined &&\r\n      this.product?.ec_promo_price < this.product?.ec_price;\r\n\r\n    return (\r\n      <div>\r\n        <atomic-product-numeric-field-value\r\n          class={`mx-1 ${hasPromotionalPrice && 'text-error'}`}\r\n          field={hasPromotionalPrice ? 'ec_promo_price' : 'ec_price'}\r\n        >\r\n          <atomic-format-currency\r\n            currency={this.currency}\r\n          ></atomic-format-currency>\r\n        </atomic-product-numeric-field-value>\r\n        {hasPromotionalPrice && (\r\n          <atomic-product-numeric-field-value\r\n            class=\"mx-1 text-xl line-through\"\r\n            field=\"ec_price\"\r\n          >\r\n            <atomic-format-currency\r\n              currency={this.currency}\r\n            ></atomic-format-currency>\r\n          </atomic-product-numeric-field-value>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"okBAiBaA,EAAkB,M,yBAWCC,KAAAC,SAAmB,M,cAAA,K,CAE1C,MAAAC,G,YACL,MAAMC,IACJC,EAAAJ,KAAKK,WAAO,MAAAD,SAAA,SAAAA,EAAEE,kBAAmBC,aACjCC,EAAAR,KAAKK,WAAO,MAAAG,SAAA,SAAAA,EAAEC,YAAaF,aAC3BG,EAAAV,KAAKK,WAAO,MAAAK,SAAA,SAAAA,EAAEJ,kBAAiBK,EAAAX,KAAKK,WAAO,MAAAM,SAAA,SAAAA,EAAEF,UAE/C,OACEG,EAAA,OAAAC,IAAA,4CACED,EAAA,sCAAAC,IAAA,2CACEC,MAAO,QAAQX,GAAuB,eACtCY,MAAOZ,EAAsB,iBAAmB,YAEhDS,EAAA,0BAAAC,IAAA,2CACEZ,SAAUD,KAAKC,YAGlBE,GACCS,EAAA,sCAAAC,IAAA,2CACEC,MAAM,4BACNC,MAAM,YAENH,EAAA,0BAAAC,IAAA,2CACEZ,SAAUD,KAAKC,Y,GAhCEe,EAAA,CAA5BC,K,+BAGyBD,EAAA,CAAzBE,K"}