import{N as f,O as m}from"./atomic-breadbox.new.stories-D5_t4T0B.js";import{M as h}from"./p-e12016d2-bJLTunAq.js";import{m as c}from"./p-107c3d7f-DmNnGT81.js";import{n}from"./p-ade4f913-CaQ8GiUG.js";import{e as d}from"./p-f88eced6-CQRna4eO.js";import"./p-f5723aee-D-iZ1npx.js";import"./index-Bqoxw6Vv.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-0V_eukm8.js";import"../sb-preview/runtime.js";import"./p-1580513b-3LX64KEr.js";import"./p-529fdce5-BbBbPjoU.js";import"./p-e9c4f463-BPmi-3c5.js";var u=function(t,r,o,i){var s=arguments.length,e=s<3?r:i===null?i=Object.getOwnPropertyDescriptor(r,o):i,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")e=Reflect.decorate(t,r,o,i);else for(var a=t.length-1;a>=0;a--)(l=t[a])&&(e=(s<3?l(e):s>3?l(r,o,e):l(r,o))||e);return s>3&&e&&Object.defineProperty(r,o,e),e};const p=class{constructor(t){f(this,t),this.formatter=n,this.valueToDisplay=null,this.error=void 0,this.field=void 0,this.formatter=n,this.valueToDisplay=null}setFormat(t){t.preventDefault(),t.stopPropagation(),this.formatter=t.detail}parseValue(){const t=h.getResultProperty(this.result,this.field);if(t===null)return null;const r=parseFloat(`${t}`);return Number.isNaN(r)?(this.error=new Error(`Could not parse "${t}" from field "${this.field}" as a number.`),null):r}formatValue(t){try{return this.formatter(t,this.bindings.i18n.languages)}catch(r){return this.error=r,t.toString()}}updateValueToDisplay(){const t=this.parseValue();t!==null&&(this.valueToDisplay=this.formatValue(t))}componentWillRender(){this.updateValueToDisplay()}render(){if(this.valueToDisplay===null){this.host.remove();return}return this.valueToDisplay}get host(){return m(this)}};u([c()],p.prototype,"bindings",void 0);u([d()],p.prototype,"result",void 0);export{p as atomic_result_number};
