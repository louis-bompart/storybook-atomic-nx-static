{"version":3,"names":["Rating","props","width","numberOfActiveIcons","numberOfTotalIcons","toString","iconSize","_a","renderIcon","active","h","icon","class","style","height","emptyIconDisplay","i","push","filledIconDisplay","part","role","i18n","t","count","max","computeNumberOfStars","value","field","valueAsNumber","parseFloat","Number","isNaN","Error"],"sources":["src/components/common/atomic-rating/atomic-rating.tsx"],"sourcesContent":["import {FunctionalComponent, h, VNode} from '@stencil/core';\nimport {i18n} from 'i18next';\n\ninterface RatingProps {\n  i18n: i18n;\n  numberOfTotalIcons: number;\n  numberOfActiveIcons: number;\n  icon: string;\n  iconSize?: number;\n}\n\nexport const Rating: FunctionalComponent<RatingProps> = (props) => {\n  const width =\n    ((props.numberOfActiveIcons / props.numberOfTotalIcons) * 100).toString() +\n    '%';\n  const iconSize = `${props.iconSize ?? 0.75}rem`;\n\n  const renderIcon = (active: boolean) => {\n    return (\n      <atomic-icon\n        icon={props.icon}\n        class={`shrink-0 ${active ? 'icon-active' : 'icon-inactive'}`}\n        style={{width: iconSize, height: iconSize}}\n      ></atomic-icon>\n    );\n  };\n\n  const emptyIconDisplay = () => {\n    const emptyIconDisplay: VNode[] = [];\n    for (let i = 0; i < props.numberOfTotalIcons; i++) {\n      emptyIconDisplay.push(renderIcon(false));\n    }\n    return emptyIconDisplay;\n  };\n\n  const filledIconDisplay = () => {\n    const filledIconDisplay: VNode[] = [];\n    for (let i = 0; i < props.numberOfTotalIcons; i++) {\n      filledIconDisplay.push(renderIcon(true));\n    }\n    return filledIconDisplay;\n  };\n\n  return (\n    <div\n      class=\"relative w-max\"\n      part=\"value-rating\"\n      role=\"img\"\n      aria-label={props.i18n.t('stars', {\n        count: props.numberOfActiveIcons,\n        max: props.numberOfTotalIcons,\n      })}\n    >\n      <div class=\"z-0 flex gap-0.5\">{emptyIconDisplay()}</div>\n      <div\n        class=\"absolute left-0 top-0 z-1 flex gap-0.5 overflow-hidden\"\n        style={{width}}\n      >\n        {filledIconDisplay()}\n      </div>\n    </div>\n  );\n};\n\nexport const computeNumberOfStars = (\n  value: unknown,\n  field: string\n): number | null => {\n  if (value === null) {\n    return null;\n  }\n  const valueAsNumber = parseFloat(`${value}`);\n  if (Number.isNaN(valueAsNumber)) {\n    throw new Error(\n      `Could not parse \"${value}\" from field \"${field}\" as a number.`\n    );\n  }\n  return valueAsNumber;\n};\n"],"mappings":"65BAWaA,EAA4CC,I,MACvD,MAAMC,GACFD,EAAME,oBAAsBF,EAAMG,mBAAsB,KAAKC,WAC/D,IACF,MAAMC,EAAW,IAAGC,EAAAN,EAAMK,YAAQ,MAAAC,SAAA,EAAAA,EAAI,SAEtC,MAAMC,EAAcC,GAEhBC,EAAA,eACEC,KAAMV,EAAMU,KACZC,MAAO,YAAYH,EAAS,cAAgB,kBAC5CI,MAAO,CAACX,MAAOI,EAAUQ,OAAQR,KAKvC,MAAMS,EAAmB,KACvB,MAAMA,EAA4B,GAClC,IAAK,IAAIC,EAAI,EAAGA,EAAIf,EAAMG,mBAAoBY,IAAK,CACjDD,EAAiBE,KAAKT,EAAW,O,CAEnC,OAAOO,CAAgB,EAGzB,MAAMG,EAAoB,KACxB,MAAMA,EAA6B,GACnC,IAAK,IAAIF,EAAI,EAAGA,EAAIf,EAAMG,mBAAoBY,IAAK,CACjDE,EAAkBD,KAAKT,EAAW,M,CAEpC,OAAOU,CAAiB,EAG1B,OACER,EAAA,OACEE,MAAM,iBACNO,KAAK,eACLC,KAAK,MAAK,aACEnB,EAAMoB,KAAKC,EAAE,QAAS,CAChCC,MAAOtB,EAAME,oBACbqB,IAAKvB,EAAMG,sBAGbM,EAAA,OAAKE,MAAM,oBAAoBG,KAC/BL,EAAA,OACEE,MAAM,yDACNC,MAAO,CAACX,UAEPgB,KAEC,E,MAIGO,EAAuB,CAClCC,EACAC,KAEA,GAAID,IAAU,KAAM,CAClB,OAAO,I,CAET,MAAME,EAAgBC,WAAW,GAAGH,KACpC,GAAII,OAAOC,MAAMH,GAAgB,CAC/B,MAAM,IAAII,MACR,oBAAoBN,kBAAsBC,kB,CAG9C,OAAOC,CAAa,S"}