{"file":"debounce-utils-a2be2932.js","mappings":"SAegB,mBAAmB,CACjC,OAA8B;IAE9B,IAAI,OAAO,GAAmB,EAAE,CAAC;IACjC,IAAI,UAAU,GAA0C,IAAI,CAAC;IAE7D,SAAS,aAAa;QACpB,MAAM,MAAM,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;QAC/B,IAAI,MAAM,EAAE;YACV,MAAM,CAAC,OAAO,EAAE,CAAC;SAClB;aAAM;YACL,aAAa,CAAC,UAAW,CAAC,CAAC;YAC3B,UAAU,GAAG,IAAI,CAAC;SACnB;KACF;IAED,SAAS,oBAAoB,CAAC,EAAU;QACtC,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,KAAK,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;KACxD;IAED,OAAO;QACL,OAAO,CAAC,OAAmB,EAAE,QAAiB;YAC5C,IAAI,QAAQ,EAAE;gBACZ,oBAAoB,CAAC,QAAQ,CAAC,CAAC;aAChC;YACD,OAAO,CAAC,IAAI,CAAC,EAAC,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAC,CAAC,CAAC;YACtC,IAAI,UAAU,KAAK,IAAI,EAAE;gBACvB,aAAa,EAAE,CAAC;gBAChB,UAAU,GAAG,WAAW,CAAC,aAAa,EAAE,OAAO,CAAC,KAAK,CAAC,CAAC;aACxD;SACF;QACD,KAAK;YACH,OAAO,GAAG,EAAE,CAAC;SACd;QACD,oBAAoB;KACrB,CAAC;AACJ,CAAC;SAEe,QAAQ,CAItB,OAEmD,EACnD,IAAY;IAEZ,IAAI,KAAoC,CAAC;IAEzC,OAAO,CAAC,GAAG,IAAuB;QAChC,YAAY,CAAC,KAAK,CAAC,CAAC;QACpB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO;YACzB,KAAK,GAAG,UAAU,CAAC,MAAM,OAAO,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SAC3D,CAAC,CAAC;KACJ,CAAC;AACJ;;;;","names":[],"sources":["src/utils/debounce-utils.tsx"],"sourcesContent":["export interface DebouncedQueueOptions {\n  delay: number;\n}\n\nexport interface DebouncedQueue {\n  enqueue(execute: () => void, uniqueId?: string): void;\n  clear(): void;\n  cancelActionIfQueued(id: string): void;\n}\n\ninterface QueuedAction {\n  id?: string;\n  execute: () => void;\n}\n\nexport function buildDebouncedQueue(\n  options: DebouncedQueueOptions\n): DebouncedQueue {\n  let actions: QueuedAction[] = [];\n  let intervalId: ReturnType<typeof setInterval> | null = null;\n\n  function dequeueAction() {\n    const action = actions.shift();\n    if (action) {\n      action.execute();\n    } else {\n      clearInterval(intervalId!);\n      intervalId = null;\n    }\n  }\n\n  function cancelActionIfQueued(id: string) {\n    actions = actions.filter((action) => action.id !== id);\n  }\n\n  return {\n    enqueue(execute: () => void, uniqueId?: string) {\n      if (uniqueId) {\n        cancelActionIfQueued(uniqueId);\n      }\n      actions.push({id: uniqueId, execute});\n      if (intervalId === null) {\n        dequeueAction();\n        intervalId = setInterval(dequeueAction, options.delay);\n      }\n    },\n    clear() {\n      actions = [];\n    },\n    cancelActionIfQueued,\n  };\n}\n\nexport function debounce<\n  ExecuteParameters extends unknown[],\n  ExecuteReturnType,\n>(\n  execute: (\n    ...args: ExecuteParameters\n  ) => Promise<ExecuteReturnType> | ExecuteReturnType,\n  wait: number\n) {\n  let timer: ReturnType<typeof setTimeout>;\n\n  return (...args: ExecuteParameters): Promise<ExecuteReturnType> => {\n    clearTimeout(timer);\n    return new Promise((resolve) => {\n      timer = setTimeout(() => resolve(execute(...args)), wait);\n    });\n  };\n}\n"],"version":3}