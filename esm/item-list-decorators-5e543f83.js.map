{"file":"item-list-decorators-5e543f83.js","mappings":";;;AAMA,MAAM,8BAA8B,GAAG,gCAAgC,CAAC;AAExE;;;;SAIgB,qBAAqB;IACnC,OAAO,CAAC,SAA6B,EAAE,UAAkB;QACvD,MAAM,EAAC,mBAAmB,EAAC,GAAG,SAAS,CAAC;QACxC,SAAS,CAAC,mBAAmB,GAAG;YAC9B,MAAM,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACjC,MAAM,KAAK,GAAG,gBAAgB,CAC5B,8BAA8B,EAC9B,CAAC,cAAuB;gBACtB,IAAI,CAAC,UAAU,CAAC,GAAG,cAAc,CAAC;aACnC,CACF,CAAC;YAEF,MAAM,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,QAAQ,EAAE;gBACZ,OAAO;aACR;YACD,OAAO,mBAAmB,IAAI,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9D,CAAC;KACH,CAAC;AACJ,CAAC;AAKD,MAAM,mCAAmC,GAAG,gCAAgC,CAAC;AAE7E;;;;SAIgB,0BAA0B;IACxC,OAAO,CAAC,SAA6B,EAAE,eAAuB;QAC5D,MAAM,EAAC,mBAAmB,EAAC,GAAG,SAAS,CAAC;QACxC,SAAS,CAAC,mBAAmB,GAAG;YAC9B,MAAM,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;YACjC,MAAM,KAAK,GAAG,gBAAgB,CAC5B,mCAAmC,EACnC,CAAC,cAGA;gBACC,cAAc,aAAd,cAAc,uBAAd,cAAc,CAAE,SAAS,CAAC;oBACxB,IAAI,CAAC,eAAe,CAAC,GAAG,cAAc,CAAC,KAAK,CAAC;iBAC9C,CAAC,CAAC;aACJ,CACF,CAAC;YAEF,MAAM,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAC9C,IAAI,QAAQ,EAAE;gBACZ,OAAO;aACR;YACD,OAAO,mBAAmB,IAAI,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9D,CAAC;KACH,CAAC;AACJ;;;;","names":[],"sources":["src/components/common/item-list/item-list-decorators.tsx"],"sourcesContent":["import {ComponentInterface, getElement} from '@stencil/core';\r\nimport {buildCustomEvent} from '../../../utils/event-utils';\r\n\r\ntype FoldedItemListContextEventHandler = (foldedItemList: unknown) => void;\r\nexport type FoldedItemListContextEvent =\r\n  CustomEvent<FoldedItemListContextEventHandler>;\r\nconst foldedItemListContextEventName = 'atomic/resolveFoldedResultList';\r\n\r\n/**\r\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\r\n * This allows the Stencil component to modify the folded item list rendered levels.\r\n */\r\nexport function FoldedItemListContext() {\r\n  return (component: ComponentInterface, foldedList: string) => {\r\n    const {componentWillRender} = component;\r\n    component.componentWillRender = function () {\r\n      const element = getElement(this);\r\n      const event = buildCustomEvent(\r\n        foldedItemListContextEventName,\r\n        (foldedItemList: unknown) => {\r\n          this[foldedList] = foldedItemList;\r\n        }\r\n      );\r\n\r\n      const canceled = element.dispatchEvent(event);\r\n      if (canceled) {\r\n        return;\r\n      }\r\n      return componentWillRender && componentWillRender.call(this);\r\n    };\r\n  };\r\n}\r\n\r\ntype FoldedItemListStateContextEventHandler = (foldedItemList: unknown) => void;\r\nexport type FoldedItemListStateContextEvent =\r\n  CustomEvent<FoldedItemListStateContextEventHandler>;\r\nconst foldedItemListStateContextEventName = 'atomic/resolveFoldedResultList';\r\n\r\n/**\r\n * A [StencilJS property decorator](https://stenciljs.com/) to be used for elements nested within a folded item list.\r\n * This allows the Stencil component to modify the folded item list rendered levels.\r\n */\r\nexport function FoldedItemListStateContext() {\r\n  return (component: ComponentInterface, foldedListState: string) => {\r\n    const {componentWillRender} = component;\r\n    component.componentWillRender = function () {\r\n      const element = getElement(this);\r\n      const event = buildCustomEvent(\r\n        foldedItemListStateContextEventName,\r\n        (foldedItemList: {\r\n          subscribe: (callback: () => void) => unknown;\r\n          state: unknown;\r\n        }) => {\r\n          foldedItemList?.subscribe(() => {\r\n            this[foldedListState] = foldedItemList.state;\r\n          });\r\n        }\r\n      );\r\n\r\n      const canceled = element.dispatchEvent(event);\r\n      if (canceled) {\r\n        return;\r\n      }\r\n      return componentWillRender && componentWillRender.call(this);\r\n    };\r\n  };\r\n}\r\n"],"version":3}