{"file":"atomic-focus-detector.entry.js","mappings":";;;;MAkBa,mBAAmB;IAJhC;;;;QAUU,sBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;KA+BhD;IA7BC,IAAY,aAAa;QACvB,MAAM,cAAc,GAAG,iBAAiB,EAAE,CAAC;QAE3C,OAAO,CAAC,CAAC,cAAc,IAAI,YAAY,CAAC,IAAI,CAAC,IAAI,EAAE,cAAc,CAAC,CAAC;KACpE;IAGD,SAAS;QACP,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAGD,UAAU;QACR,IAAI,CAAC,cAAc,EAAE,CAAC;KACvB;IAEO,cAAc;QACpB,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;QACzC,IAAI,aAAa,KAAK,IAAI,CAAC,iBAAiB,EAAE;YAC5C,OAAO;SACR;QAED,IAAI,CAAC,iBAAiB,GAAG,aAAa,CAAC;QACvC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;KAChE;IAED,MAAM;QACJ,OAAO,EAAC,IAAI,qDAAC,KAAK,EAAE,EAAC,OAAO,EAAE,UAAU,EAAC,GAAS,CAAC;KACpD;;;;;;","names":[],"sources":["src/components/common/atomic-focus-detector.tsx"],"sourcesContent":["import {\r\n  h,\r\n  Component,\r\n  Element,\r\n  Event,\r\n  EventEmitter,\r\n  Listen,\r\n  Host,\r\n} from '@stencil/core';\r\nimport {getFocusedElement, isAncestorOf} from '../../utils/utils';\r\n\r\n/**\r\n * @internal\r\n */\r\n@Component({\r\n  tag: 'atomic-focus-detector',\r\n  shadow: false,\r\n})\r\nexport class AtomicFocusDetector {\r\n  @Element() private host!: HTMLElement;\r\n\r\n  @Event() focusEnter!: EventEmitter;\r\n  @Event() focusExit!: EventEmitter;\r\n\r\n  private focusWasContained = this.containsFocus;\r\n\r\n  private get containsFocus() {\r\n    const focusedElement = getFocusedElement();\r\n\r\n    return !!focusedElement && isAncestorOf(this.host, focusedElement);\r\n  }\r\n\r\n  @Listen('focusin', {target: 'document'})\r\n  onFocusIn() {\r\n    this.onFocusChanged();\r\n  }\r\n\r\n  @Listen('focusout', {target: 'document'})\r\n  onFocusOut() {\r\n    this.onFocusChanged();\r\n  }\r\n\r\n  private onFocusChanged() {\r\n    const containsFocus = this.containsFocus;\r\n    if (containsFocus === this.focusWasContained) {\r\n      return;\r\n    }\r\n\r\n    this.focusWasContained = containsFocus;\r\n    containsFocus ? this.focusEnter.emit() : this.focusExit.emit();\r\n  }\r\n\r\n  render() {\r\n    return <Host style={{display: 'contents'}}></Host>;\r\n  }\r\n}\r\n"],"version":3}