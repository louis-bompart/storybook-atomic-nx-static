{"file":"atomic-query-summary.js","mappings":";;;;;;;;AAAA,MAAM,qBAAqB,GAAG,6/tCAA6/tC,CAAC;AAC5huC,iCAAe,qBAAqB;;;;;;;;;;;;MCgCvBA,oBAAkB;;;;;;;;IAYtB,UAAU;QACf,IAAI,CAAC,YAAY,GAAGC,EAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;KAC7D;IAEM,MAAM;QACX,MAAM,EACJ,mBAAmB,EACnB,UAAU,EACV,QAAQ,EACR,KAAK,EACL,WAAW,EACX,UAAU,EACV,KAAK,EACL,iBAAiB,EACjB,SAAS,GACV,GAAG,IAAI,CAAC,iBAAiB,CAAC;QAE3B,MAAM,EAAC,OAAO,EAAE,UAAU,EAAE,eAAe,EAAC,GAC1C,6BAA6B,CAAC;YAC5B,KAAK,EAAE,WAAW;YAClB,IAAI,EAAE,UAAU;YAChB,KAAK;YACL,KAAK;YACL,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;YACxB,SAAS;SACV,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,GAAG,eAAe,CAAC;QAEnC,QACE,EAAC,iBAAiB,qDAChB,mBAAmB,EAAE,mBAAmB,EACxC,UAAU,EAAE,UAAU,EACtB,QAAQ,EAAE,QAAQ,IAElB,EAAC,qBAAqB,uDACpB,EAAC,eAAe,IACd,GAAG,EAAE,OAAO,EACZ,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,MAAM,EAAE,UAAU,EAClB,KAAK,EAAE,KAAK,GACZ,EACF,6DAAM,KAAK,EAAC,QAAQ,EAAC,IAAI,EAAC,UAAU,cAElC,EAAC,eAAe,IACd,GAAG,EAAC,YAAY,EAChB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,MAAM,EAAE;gBACN,KAAK,EAAE,iBAAiB,CAAC,cAAc,EAAE;aAC1C,GACD,CACG,CACe,CACN,EACpB;KACH;;;;;;AAlE4B;IAA5B,kBAAkB,EAAE;sDAA4B;AAKzC;IAFP,qBAAqB,CAAC,cAAc,CAAC;+DAEQ;AAIpC;IADT,cAAc,CAAC,eAAe,CAAC;yDACD;;;;;;;;;;;;;;;;;;;;;;;;;","names":["AtomicQuerySummary","buildQuerySummary"],"sources":["src/components/search/atomic-query-summary/atomic-query-summary.pcss?tag=atomic-query-summary&encapsulation=shadow","src/components/search/atomic-query-summary/atomic-query-summary.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\r\n\r\n:host {\r\n  overflow: hidden;\r\n}\r\n","import {\r\n  QuerySummary,\r\n  QuerySummaryState,\r\n  buildQuerySummary,\r\n} from '@coveo/headless';\r\nimport {Component, h, State} from '@stencil/core';\r\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\r\nimport {\r\n  BindStateToController,\r\n  InitializableComponent,\r\n  InitializeBindings,\r\n} from '../../../utils/initialization-utils';\r\nimport {LocalizedString} from '../../../utils/jsx-utils';\r\nimport {QuerySummaryContainer} from '../../common/query-summary/container';\r\nimport {QuerySummaryGuard} from '../../common/query-summary/guard';\r\nimport {getQuerySummaryI18nParameters} from '../../common/query-summary/utils';\r\nimport {Bindings} from '../atomic-search-interface/atomic-search-interface';\r\n\r\n/**\r\n * The `atomic-query-summary` component displays information about the current range of results and the request duration (e.g., \"Results 1-10 of 123 in 0.47 seconds\").\r\n *\r\n * @part container - The container for the whole summary.\r\n * @part results - The container for the results.\r\n * @part duration - The container for the duration.\r\n * @part highlight - The summary highlights.\r\n * @part query - The summary highlighted query.\r\n * @part placeholder - The query summary placeholder used while the search interface is initializing.\r\n */\r\n@Component({\r\n  tag: 'atomic-query-summary',\r\n  styleUrl: 'atomic-query-summary.pcss',\r\n  shadow: true,\r\n})\r\nexport class AtomicQuerySummary implements InitializableComponent {\r\n  @InitializeBindings() public bindings!: Bindings;\r\n  public querySummary!: QuerySummary;\r\n\r\n  @BindStateToController('querySummary')\r\n  @State()\r\n  private querySummaryState!: QuerySummaryState;\r\n  @State() public error!: Error;\r\n\r\n  @AriaLiveRegion('query-summary')\r\n  protected ariaMessage!: string;\r\n\r\n  public initialize() {\r\n    this.querySummary = buildQuerySummary(this.bindings.engine);\r\n  }\r\n\r\n  public render() {\r\n    const {\r\n      firstSearchExecuted,\r\n      hasResults,\r\n      hasError,\r\n      total,\r\n      firstResult,\r\n      lastResult,\r\n      query,\r\n      durationInSeconds,\r\n      isLoading,\r\n    } = this.querySummaryState;\r\n\r\n    const {i18nKey, highlights, ariaLiveMessage} =\r\n      getQuerySummaryI18nParameters({\r\n        first: firstResult,\r\n        last: lastResult,\r\n        query,\r\n        total,\r\n        i18n: this.bindings.i18n,\r\n        isLoading,\r\n      });\r\n\r\n    this.ariaMessage = ariaLiveMessage;\r\n\r\n    return (\r\n      <QuerySummaryGuard\r\n        firstSearchExecuted={firstSearchExecuted}\r\n        hasResults={hasResults}\r\n        hasError={hasError}\r\n      >\r\n        <QuerySummaryContainer>\r\n          <LocalizedString\r\n            key={i18nKey}\r\n            bindings={this.bindings}\r\n            params={highlights}\r\n            count={total}\r\n          />\r\n          <span class=\"hidden\" part=\"duration\">\r\n            &nbsp;\r\n            <LocalizedString\r\n              key=\"in-seconds\"\r\n              bindings={this.bindings}\r\n              params={{\r\n                count: durationInSeconds.toLocaleString(),\r\n              }}\r\n            />\r\n          </span>\r\n        </QuerySummaryContainer>\r\n      </QuerySummaryGuard>\r\n    );\r\n  }\r\n}\r\n"],"version":3}