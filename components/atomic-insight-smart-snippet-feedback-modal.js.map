{"file":"atomic-insight-smart-snippet-feedback-modal.js","mappings":";;;;;;;AAAA,MAAM,yCAAyC,GAAG,m2uCAAm2uC,CAAC;AACt5uC,qDAAe,yCAAyC;;;;;;;;;;;;MC6B3CA,wCAAsC;;;;;;QAYX,WAAM,GAAG,KAAK,CAAC;QAIpC,WAAM,GAAG,QAAQ,CAChC,2CAA2C,CAC5C,CAAC;;;sBAN6C,KAAK;;;IAWpD,eAAe,CAAC,MAAe;QAC7B,IAAI,MAAM,EAAE;YACV,IAAI,CAAC,YAAY,CAAC,iBAAiB,EAAE,CAAC;YACtC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;SAChC;KACF;IAED,UAAU;QACR,IAAI,CAAC,YAAY,GAAGC,EAAwB,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnE,IAAI,CAAC,+BAA+B,GAAG,IAAI,+BAA+B,CAAC;YACzE,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,OAAO,EAAE,MAAM,IAAI,CAAC,IAAI;YACxB,WAAW,EAAE,MAAM,IAAI,CAAC,QAAQ;YAChC,gBAAgB,EAAE,MAAM,IAAI,CAAC,aAAa;YAC1C,eAAe,EAAE,MAAM,IAAI,CAAC,YAAY;YACxC,kBAAkB,EAAE,MAAM,IAAI,CAAC,eAAe;YAC9C,eAAe,EAAE,MAAM,IAAI,CAAC,YAAY;YACxC,SAAS,EAAE,MAAM,IAAI,CAAC,MAAM;YAC5B,SAAS,EAAE,MAAM,IAAI,CAAC,MAAM;YAC5B,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC;YACpC,gBAAgB,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;YAClD,kBAAkB,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC;SACvD,CAAC,CAAC;KACJ;IAEO,SAAS,CAAC,MAAe;QAC/B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;KACtB;IAEO,gBAAgB,CAAC,MAA6C;QACpE,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC;KAC7B;IAEO,kBAAkB,CAAC,GAAyB;QAClD,IAAI,CAAC,eAAe,GAAG,GAAG,CAAC;KAC5B;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,+BAA+B,CAAC,MAAM,EAAE,CAAC;KACtD;;;;;;;;;;;;;;AA3D4B;IAA5B,kBAAkB,EAAE;0EAAmC;;;;;;;;;;;;;;;;;;;;;;;;;","names":["AtomicInsightSmartSnippetFeedbackModal","buildInsightSmartSnippet"],"sources":["src/components/insight/smart-snippets/atomic-insight-smart-snippet-feedback-modal/atomic-insight-smart-snippet-feedback-modal.pcss?tag=atomic-insight-smart-snippet-feedback-modal&encapsulation=shadow","src/components/insight/smart-snippets/atomic-insight-smart-snippet-feedback-modal/atomic-insight-smart-snippet-feedback-modal.tsx"],"sourcesContent":["@import '../../../common/smart-snippets/atomic-smart-snippet-feedback-modal/atomic-smart-snippet-feedback-modal.pcss';\n","import {\n  Component,\n  State,\n  Prop,\n  Watch,\n  Element,\n  Event,\n  EventEmitter,\n} from '@stencil/core';\nimport {\n  buildInsightSmartSnippet,\n  InsightSmartSnippet,\n  InsightSmartSnippetFeedback,\n} from '../..';\nimport {\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../../utils/initialization-utils';\nimport {randomID} from '../../../../utils/utils';\nimport {SmartSnippetFeedbackModalCommon} from '../../../common/smart-snippets/atomic-smart-snippet-feedback-modal/smart-snippet-feedback-modal-common';\nimport {InsightBindings} from '../../atomic-insight-interface/atomic-insight-interface';\n\n/**\n * @internal\n */\n@Component({\n  tag: 'atomic-insight-smart-snippet-feedback-modal',\n  styleUrl: 'atomic-insight-smart-snippet-feedback-modal.pcss',\n  shadow: true,\n})\nexport class AtomicInsightSmartSnippetFeedbackModal\n  implements InitializableComponent<InsightBindings>\n{\n  @InitializeBindings() public bindings!: InsightBindings;\n  @Element() public host!: HTMLElement;\n  public smartSnippet!: InsightSmartSnippet;\n\n  @State() public error!: Error;\n\n  private smartSnippetFeedbackModalCommon!: SmartSnippetFeedbackModalCommon;\n\n  @Prop({mutable: true}) source?: HTMLElement;\n  @Prop({reflect: true, mutable: true}) isOpen = false;\n\n  @State() currentAnswer?: InsightSmartSnippetFeedback | 'other' | undefined;\n  private detailsInputRef?: HTMLTextAreaElement;\n  private readonly formId = randomID(\n    'atomic-smart-snippet-feedback-modal-form-'\n  );\n\n  @Event() feedbackSent!: EventEmitter;\n\n  @Watch('isOpen')\n  watchToggleOpen(isOpen: boolean) {\n    if (isOpen) {\n      this.smartSnippet.openFeedbackModal();\n      this.currentAnswer = undefined;\n    }\n  }\n\n  initialize() {\n    this.smartSnippet = buildInsightSmartSnippet(this.bindings.engine);\n    this.smartSnippetFeedbackModalCommon = new SmartSnippetFeedbackModalCommon({\n      formId: this.formId,\n      getHost: () => this.host,\n      getBindings: () => this.bindings,\n      getCurrentAnswer: () => this.currentAnswer,\n      getSmartSnippet: () => this.smartSnippet,\n      getDetailsInputRef: () => this.detailsInputRef,\n      getFeedbackSent: () => this.feedbackSent,\n      getSource: () => this.source,\n      getIsOpen: () => this.isOpen,\n      setIsOpen: this.setIsOpen.bind(this),\n      setCurrentAnswer: this.setCurrentAnswer.bind(this),\n      setDetailsInputRef: this.setDetailsInputRef.bind(this),\n    });\n  }\n\n  private setIsOpen(isOpen: boolean) {\n    this.isOpen = isOpen;\n  }\n\n  private setCurrentAnswer(answer: InsightSmartSnippetFeedback | 'other') {\n    this.currentAnswer = answer;\n  }\n\n  private setDetailsInputRef(ref?: HTMLTextAreaElement) {\n    this.detailsInputRef = ref;\n  }\n\n  public render() {\n    return this.smartSnippetFeedbackModalCommon.render();\n  }\n}\n"],"version":3}