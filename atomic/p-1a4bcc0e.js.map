{"version":3,"names":["getDisplayClass","display","getDensityClass","density","getImageClass","image","getItemListDisplayClasses","isLoading","isAppLoading","classes","getItemDisplayClasses","push","join","ItemLayout","constructor","children","imageSize","this","getImageSizeFromSections","_a","getSection","getAttribute","undefined","section","Array","from","find","element","tagName","toLowerCase","getClasses","HTMLContent","containsSections"],"sources":["src/components/common/layout/display-options.ts"],"sourcesContent":["import {containsSections, ItemSectionTagName} from './sections';\n\nexport type ItemDisplayBasicLayout = 'list' | 'grid';\nexport type ItemDisplayLayout = ItemDisplayBasicLayout | 'table';\nexport type ItemDisplayDensity = 'comfortable' | 'normal' | 'compact';\nexport type ItemDisplayImageSize = 'large' | 'small' | 'icon' | 'none';\nexport type ItemTarget = '_self' | '_blank' | '_parent' | '_top';\n\nfunction getDisplayClass(display: ItemDisplayLayout) {\n  switch (display) {\n    case 'grid':\n      return 'display-grid';\n    case 'list':\n    default:\n      return 'display-list';\n    case 'table':\n      return 'display-table';\n  }\n}\n\nfunction getDensityClass(density: ItemDisplayDensity) {\n  switch (density) {\n    case 'comfortable':\n      return 'density-comfortable';\n    case 'normal':\n    default:\n      return 'density-normal';\n    case 'compact':\n      return 'density-compact';\n  }\n}\n\nfunction getImageClass(image: ItemDisplayImageSize) {\n  switch (image) {\n    case 'large':\n      return 'image-large';\n    case 'small':\n      return 'image-small';\n    case 'icon':\n    default:\n      return 'image-icon';\n    case 'none':\n      return 'image-none';\n  }\n}\n\nexport function getItemListDisplayClasses(\n  display: ItemDisplayLayout,\n  density: ItemDisplayDensity,\n  image: ItemDisplayImageSize,\n  isLoading: boolean,\n  isAppLoading: boolean\n) {\n  const classes = getItemDisplayClasses(display, density, image);\n\n  if (isLoading) {\n    classes.push('loading');\n  }\n\n  if (isAppLoading) {\n    classes.push('placeholder');\n  }\n  return classes.join(' ');\n}\n\nexport function getItemDisplayClasses(\n  display: ItemDisplayLayout,\n  density: ItemDisplayDensity,\n  image: ItemDisplayImageSize\n) {\n  const classes = [\n    getDisplayClass(display),\n    getDensityClass(density),\n    getImageClass(image),\n  ];\n  return classes;\n}\n\nexport class ItemLayout {\n  private children: HTMLCollection;\n  private density: ItemDisplayDensity;\n  private imageSize: ItemDisplayImageSize;\n  private display: ItemDisplayLayout;\n\n  constructor(\n    children: HTMLCollection,\n    display: ItemDisplayLayout,\n    density: ItemDisplayDensity,\n    imageSize: ItemDisplayImageSize\n  ) {\n    this.children = children;\n    this.display = display;\n    this.density = density;\n    this.imageSize = imageSize;\n  }\n\n  private getImageSizeFromSections() {\n    const imageSize = this.getSection(\n      'atomic-result-section-visual'\n    )?.getAttribute('image-size');\n    if (!imageSize) {\n      return undefined;\n    }\n    return imageSize as ItemDisplayImageSize;\n  }\n\n  private getSection(section: ItemSectionTagName) {\n    return Array.from(this.children).find(\n      (element) => element.tagName.toLowerCase() === section\n    );\n  }\n\n  public getClasses(HTMLContent?: string) {\n    const classes = getItemDisplayClasses(\n      this.display,\n      this.density,\n      this.getImageSizeFromSections() ?? this.imageSize\n    );\n    if (\n      HTMLContent\n        ? containsSections(HTMLContent)\n        : containsSections(this.children)\n    ) {\n      classes.push('with-sections');\n    }\n    return classes;\n  }\n}\n"],"mappings":"oCAQA,SAASA,EAAgBC,GACvB,OAAQA,GACN,IAAK,OACH,MAAO,eACT,IAAK,OACL,QACE,MAAO,eACT,IAAK,QACH,MAAO,gBAEb,CAEA,SAASC,EAAgBC,GACvB,OAAQA,GACN,IAAK,cACH,MAAO,sBACT,IAAK,SACL,QACE,MAAO,iBACT,IAAK,UACH,MAAO,kBAEb,CAEA,SAASC,EAAcC,GACrB,OAAQA,GACN,IAAK,QACH,MAAO,cACT,IAAK,QACH,MAAO,cACT,IAAK,OACL,QACE,MAAO,aACT,IAAK,OACH,MAAO,aAEb,C,SAEgBC,EACdL,EACAE,EACAE,EACAE,EACAC,GAEA,MAAMC,EAAUC,EAAsBT,EAASE,EAASE,GAExD,GAAIE,EAAW,CACbE,EAAQE,KAAK,U,CAGf,GAAIH,EAAc,CAChBC,EAAQE,KAAK,c,CAEf,OAAOF,EAAQG,KAAK,IACtB,C,SAEgBF,EACdT,EACAE,EACAE,GAEA,MAAMI,EAAU,CACdT,EAAgBC,GAChBC,EAAgBC,GAChBC,EAAcC,IAEhB,OAAOI,CACT,C,MAEaI,EAMX,WAAAC,CACEC,EACAd,EACAE,EACAa,GAEAC,KAAKF,SAAWA,EAChBE,KAAKhB,QAAUA,EACfgB,KAAKd,QAAUA,EACfc,KAAKD,UAAYA,C,CAGX,wBAAAE,G,MACN,MAAMF,GAAYG,EAAAF,KAAKG,WACrB,mCACD,MAAAD,SAAA,SAAAA,EAAEE,aAAa,cAChB,IAAKL,EAAW,CACd,OAAOM,S,CAET,OAAON,C,CAGD,UAAAI,CAAWG,GACjB,OAAOC,MAAMC,KAAKR,KAAKF,UAAUW,MAC9BC,GAAYA,EAAQC,QAAQC,gBAAkBN,G,CAI5C,UAAAO,CAAWC,G,MAChB,MAAMtB,EAAUC,EACdO,KAAKhB,QACLgB,KAAKd,SACLgB,EAAAF,KAAKC,8BAA0B,MAAAC,SAAA,EAAAA,EAAIF,KAAKD,WAE1C,GACEe,EACIC,EAAiBD,GACjBC,EAAiBf,KAAKF,UAC1B,CACAN,EAAQE,KAAK,gB,CAEf,OAAOF,C"}