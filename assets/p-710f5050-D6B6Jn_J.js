import{g as t,k as i}from"./preview-C4e5QyPH.js";import{r as l}from"./p-7e69c7c8-3LwWsIKw.js";import{e as n}from"./p-c58ca89b-DK00LRHh.js";class u{constructor(e){this.props=e}get foldedResult(){return this.collection||this.props.getResult()}get numberOfChildren(){return this.foldedResult.children.length}get hasChildren(){return!!this.numberOfChildren}get collection(){return this.props.getFoldedResultListState().results.find(e=>e.result.uniqueId===this.props.getResult().result.uniqueId)}renderPlaceholder(){return t(l,{numberOfPlaceholders:this.numberOfChildren||2,density:this.props.getDisplayConfig().density,display:"list",imageSize:this.props.getImageSize()||this.props.getDisplayConfig().imageSize})}renderNoResult(){return t("p",{part:"no-result-root",class:"no-result-root my-3"},this.props.getBindings().i18n.t(this.props.getNoResultText()))}renderCollapseButton(){const e=this.collection;if(e.children.length&&!e.moreResultsAvailable)return t(n,{part:"show-hide-button",class:"show-hide-button",style:"text-primary",onClick:()=>{this.props.getShowInitialChildren()?this.props.getFoldedResultList().logShowMoreFoldedResults(this.foldedResult.result):this.props.getFoldedResultList().logShowLessFoldedResults(),this.props.toggleShowInitialChildren()}},this.props.getBindings().i18n.t(this.props.getShowInitialChildren()?"load-all-results":"collapse-results"))}renderChildrenWrapper(e){return t("div",{part:"children-root"},this.hasChildren&&t("slot",{name:"before-children"}),e,this.hasChildren&&t("slot",{name:"after-children"}))}renderChildren(e){return this.renderChildrenWrapper(e.map((r,s)=>this.props.renderChild(r,s===e.length-1)))}renderCollection(){var e;const r=this.collection;if(r.isLoadingMoreResults)return this.renderChildrenWrapper(this.renderPlaceholder());if(!r.moreResultsAvailable&&!this.hasChildren)return!((e=this.props.getNoResultText())===null||e===void 0)&&e.trim().length?this.renderNoResult():null;if(!this.hasChildren)return;const s=this.props.getShowInitialChildren()?this.props.getInitialChildren():r.children;return t(i,null,this.renderCollapseButton(),this.renderChildren(s))}renderFoldedResult(){if(this.hasChildren)return this.renderChildren(this.foldedResult.children)}componentWillRender(){const e=this.collection;this.props.getInitialChildren()||!e||this.props.setInitialChildren(e.children)}render(){if(!(!this.props.getInheritTemplates()&&!this.props.getResultTemplateRegistered()))return!this.props.getInheritTemplates()&&this.props.getTemplateHasError()?t("slot",null):this.collection?this.renderCollection():this.renderFoldedResult()}}export{u as i};
