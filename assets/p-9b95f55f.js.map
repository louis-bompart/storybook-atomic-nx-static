{"version":3,"names":["consoleLogger","type","log","args","this","output","warn","error","console","apply","Logger","constructor","concreteLogger","options","arguments","length","undefined","init","prefix","logger","debug","_len","Array","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","split","forEach","event","Map","numListeners","get","set","off","delete","emit","cloned","from","entries","_ref","observer","numTimesAdded","i","_ref2","defer","res","rej","promise","Promise","resolve","reject","makeString","object","copy","a","s","t","m","lastOfPathSeparatorRegExp","getLastOfPath","path","Empty","cleanKey","key","indexOf","replace","canNotTraverseDeeper","stack","stackIndex","Object","prototype","hasOwnProperty","call","obj","k","setPath","newValue","e","p","slice","last","pushPath","concat","push","getPath","getPathWithDefaults","data","defaultData","value","deepExtend","target","source","overwrite","prop","String","regexEscape","str","_entityMap","escape","RegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","shift","chars","looksLikeObjectPathRegExpCache","looksLikeObjectPath","nsSeparator","keySeparator","possibleChars","filter","c","r","map","join","matched","test","ki","substring","deepFind","tokens","current","next","nextPath","j","getCleanedCode","code","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","addResource","silent","addResources","resources","toString","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","n","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","module","name","handle","translator","processor","process","checkedLoadedFor","Translator","services","changeLanguage","language","exists","interpolation","resolved","extractFromKey","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","noObject","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","missingKeyNoValueFallbackToKey","resForMissing","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nestAft","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","Number","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","createRules","rules","numbers","plurals","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","addRule","getRule","err","needsPlural","rule","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","Interpolator","format","escapeValue","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","regexSafe","val","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","todos","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","parseFormatStr","formatStr","formatName","formatOptions","optStr","currency","range","opts","opt","rest","isNaN","parseInt","createCachedFormatter","fn","cache","invokeFormatter","formatter","Formatter","formats","NumberFormat","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","list","ListFormat","iOpts","add","addCached","mem","formatted","valOptions","formatParams","locale","removePending","q","pending","pendingCount","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","loaded","errors","done","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","bindMemberFunctions","inst","mems","getOwnPropertyNames","getPrototypeOf","I18n","modules","external","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","storeApi","storeApiChained","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","rtlLngs","createInstance","cloneInstance","forkResourceStore","mergedOptions","membersToCopy","instance","_typeof","o","Symbol","iterator","hasXMLHttpRequest","XMLHttpRequest","isPromise","maybePromise","makePromise","__global__","globalThis","self","global","__globalThis__","F","fetch","DOMException","exports","support","searchParams","iterable","blob","Blob","formData","arrayBuffer","isDataView","DataView","isPrototypeOf","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","TypeError","normalizeValue","iteratorFor","items","Headers","headers","header","oldValue","has","thisArg","values","consumed","body","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","buf","view","Uint8Array","fromCharCode","bufferClone","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","isConsumed","byteOffset","text","decode","json","methods","normalizeMethod","method","upcased","Request","input","url","credentials","mode","signal","referrer","reParamSearch","Date","getTime","reQueryString","form","bytes","decodeURIComponent","parseHeaders","rawHeaders","preProcessedHeaders","substr","line","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","location","message","request","aborted","xhr","abortXhr","abort","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","fixUrl","href","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","polyfill","ponyfill","ctx","fetchApi","window","require","require$$0","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","enumerable","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_toPrimitive","toPrimitive","XmlHttpRequestApi","ActiveXObjectApi","ActiveXObject","fetchNode","fetchNode.default","addQueryString","params","queryString","paramName","encodeURIComponent","fetchIt","fetchOptions","altFetch","altResponse","omitFetchOptions","requestWithFetch","payload","queryStringParams","customHeaders","versions","node","version","platform","arch","reqOptions","requestOptions","alternateFetch","requestWithXmlHttpRequest","x","crossDomain","overrideMimeType","h","_classCallCheck","Constructor","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","getDefaults","loadPath","addPath","parsePayload","parseLoadPayload","reloadInterval","Backend","allOptions","setInterval","readMulti","_readAny","loadUrlLanguages","loadUrlNamespaces","resolvedLoadPath","loadUrl","parseErr","_this4","finished","dataArray","resArray","_this5","_this$services","currentLanguage","getWindow","getAtomicEnvironment","headlessVersion","VERSION","setCoveoGlobal","globalVariableName","loadFocusVisiblePolyfill","applyFocusVisiblePolyfill","document","querySelector","import","locales","af","am","ar","az","be","b","bg","bi","bm","bn","bo","br","bs","ca","cs","cv","cy","da","d","de","dv","el","en","eo","es","et","eu","fa","fi","fo","fr","fy","ga","g","gd","gl","gu","he","hi","hr","ht","hu","id","is","it","ja","jv","ka","kk","km","kn","ko","ku","ky","lb","lo","lt","lv","me","mi","mk","ml","mn","mr","ms","mt","my","ne","nl","pl","pt","rn","ro","ru","rw","sd","se","si","sk","sl","sq","sr","ss","sv","sw","ta","te","tet","tg","th","tk","tlh","tr","tzl","tzm","u","uk","ur","uz","vi","yo","y","z","zh","nn","resolveLanguage","languageInput","regionlessLanguage","loadDayjsLocale","dayjs","i18nTranslationNamespace","isI18nLocaleAvailable","availableLocales","i18nBackendOptions","atomicInterface","getAssetPath","languageAssetsPath","_options","_payload","fetchUrl","urlParams","init18n","i18n","logLevel","DOMPurify","sanitize","localizationCompatibilityVersion","mismatchedInterfaceAndEnginePropError","interfaceKind","configurationName","CommonAtomicInterfaceHelper","hangingComponentsInitialization","connectedCallback","originalConnectedCallback","render","originalRender","i18nPromise","element","host","onComponentInitializing","preventDefault","stopPropagation","engine","detail","bindings","onInitialization","initEngine","interfaceTagname","updateIconAssetsPath","registerFieldsToInclude","initComponents","onAnalyticsChange","analytics","engineIsCreated","disableAnalytics","enableAnalytics","onLanguageChange","_","tagName"],"sources":["../../node_modules/i18next/dist/esm/i18next.js","../../node_modules/i18next-http-backend/esm/utils.js","../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../node_modules/i18next-http-backend/esm/getFetch.cjs","../../node_modules/i18next-http-backend/esm/request.js","../../node_modules/i18next-http-backend/esm/index.js","src/global/environment.ts","src/global/focus-visible.ts","src/generated/dayjs-locales-data.ts","src/utils/dayjs-locales.ts","src/components/common/interface/i18n.ts","src/components/common/interface/interface-common.tsx"],"sourcesContent":["const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nfunction defer() {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n}\nconst lastOfPathSeparatorRegExp = /###/g;\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  const stack = typeof path !== 'string' ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper()) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n}\nfunction setPath(object, path, newValue) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n}\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n}\nfunction getCleanedCode(code) {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n}\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (typeof key === 'string' && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = resType === '[object Array]';\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: function (n) {\n    return Number(n > 1);\n  },\n  2: function (n) {\n    return Number(n != 1);\n  },\n  3: function (n) {\n    return 0;\n  },\n  4: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function (n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function (n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function (n) {\n    return Number(n >= 2);\n  },\n  10: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function (n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function (n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function (n) {\n    return Number(n !== 0);\n  },\n  14: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function (n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function (n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function (n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function (n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function (n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function (n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        return new Intl.PluralRules(getCleanedCode(code === 'dev' ? 'en' : code), {\n          type: options.ordinal ? 'ordinal' : 'cardinal'\n        });\n      } catch (err) {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nfunction deepFindWithDefaults(data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    function regexSafe(val) {\n      return val.replace(/\\$/g, '$$$$');\n    }\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    function handleHasOptions(key, inheritedOptions) {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    }\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nfunction parseFormatStr(formatStr) {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (!opt) return;\n        const [key, ...rest] = opt.split(':');\n        const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  const cache = {};\n  return function invokeFormatter(val, lng, options) {\n    const key = lng + JSON.stringify(options);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: false,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      let ret = {};\n      if (typeof args[1] === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n        const options = args[3] || args[2];\n        Object.keys(options).forEach(key => {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: value => value,\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    function createClassOnDemand(ClassOrObject) {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    }\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar arr = [];\nvar each = arr.forEach;\nvar slice = arr.slice;\nexport function defaults(obj) {\n  each.call(slice.call(arguments, 1), function (source) {\n    if (source) {\n      for (var prop in source) {\n        if (obj[prop] === undefined) obj[prop] = source[prop];\n      }\n    }\n  });\n  return obj;\n}\nexport function hasXMLHttpRequest() {\n  return typeof XMLHttpRequest === 'function' || (typeof XMLHttpRequest === \"undefined\" ? \"undefined\" : _typeof(XMLHttpRequest)) === 'object';\n}\nfunction isPromise(maybePromise) {\n  return !!maybePromise && typeof maybePromise.then === 'function';\n}\nexport function makePromise(maybePromise) {\n  if (isPromise(maybePromise)) {\n    return maybePromise;\n  }\n  return Promise.resolve(maybePromise);\n}","// Save global object in a variable\nvar __global__ =\n(typeof globalThis !== 'undefined' && globalThis) ||\n(typeof self !== 'undefined' && self) ||\n(typeof global !== 'undefined' && global);\n// Create an object that extends from __global__ without the fetch function\nvar __globalThis__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = __global__.DOMException\n}\nF.prototype = __global__; // Needed for feature detection on whatwg-fetch's code\nreturn new F();\n})();\n// Wraps whatwg-fetch with a function scope to hijack the global object\n// \"globalThis\" that's going to be patched\n(function(globalThis) {\n\nvar irrelevant = (function (exports) {\n\n  var global =\n    (typeof globalThis !== 'undefined' && globalThis) ||\n    (typeof self !== 'undefined' && self) ||\n    (typeof global !== 'undefined' && global);\n\n  var support = {\n    searchParams: 'URLSearchParams' in global,\n    iterable: 'Symbol' in global && 'iterator' in Symbol,\n    blob:\n      'FileReader' in global &&\n      'Blob' in global &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in global,\n    arrayBuffer: 'ArrayBuffer' in global\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n      throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      /*\n        fetch-mock wraps the Response object in an ES6 Proxy to\n        provide useful test harness features such as flush. However, on\n        ES5 browsers without fetch or Proxy support pollyfills must be used;\n        the proxy-pollyfill is unable to proxy an attribute unless it exists\n        on the object before the Proxy is created. This change ensures\n        Response.bodyUsed exists on the instance, while maintaining the\n        semantic of setting Request.bodyUsed in the constructor before\n        _initBody is called.\n      */\n      this.bodyUsed = this.bodyUsed;\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          var isConsumed = consumed(this);\n          if (isConsumed) {\n            return isConsumed\n          }\n          if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n            return Promise.resolve(\n              this._bodyArrayBuffer.buffer.slice(\n                this._bodyArrayBuffer.byteOffset,\n                this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n              )\n            )\n          } else {\n            return Promise.resolve(this._bodyArrayBuffer)\n          }\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    if (!(this instanceof Request)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n\n    if (this.method === 'GET' || this.method === 'HEAD') {\n      if (options.cache === 'no-store' || options.cache === 'no-cache') {\n        // Search for a '_' parameter in the query string\n        var reParamSearch = /([?&])_=[^&]*/;\n        if (reParamSearch.test(this.url)) {\n          // If it already exists then set the value with the current time\n          this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime());\n        } else {\n          // Otherwise add a new '_' parameter to the end with the current time\n          var reQueryString = /\\?/;\n          this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime();\n        }\n      }\n    }\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n    // https://github.com/github/fetch/issues/748\n    // https://github.com/zloirock/core-js/issues/751\n    preProcessedHeaders\n      .split('\\r')\n      .map(function(header) {\n        return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n      })\n      .forEach(function(line) {\n        var parts = line.split(':');\n        var key = parts.shift().trim();\n        if (key) {\n          var value = parts.join(':').trim();\n          headers.append(key, value);\n        }\n      });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!(this instanceof Response)) {\n      throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n    }\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = options.statusText === undefined ? '' : '' + options.statusText;\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = global.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        setTimeout(function() {\n          resolve(new Response(body, options));\n        }, 0);\n      };\n\n      xhr.onerror = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request failed'));\n        }, 0);\n      };\n\n      xhr.ontimeout = function() {\n        setTimeout(function() {\n          reject(new TypeError('Network request failed'));\n        }, 0);\n      };\n\n      xhr.onabort = function() {\n        setTimeout(function() {\n          reject(new exports.DOMException('Aborted', 'AbortError'));\n        }, 0);\n      };\n\n      function fixUrl(url) {\n        try {\n          return url === '' && global.location.href ? global.location.href : url\n        } catch (e) {\n          return url\n        }\n      }\n\n      xhr.open(request.method, fixUrl(request.url), true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr) {\n        if (support.blob) {\n          xhr.responseType = 'blob';\n        } else if (\n          support.arrayBuffer &&\n          request.headers.get('Content-Type') &&\n          request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n        ) {\n          xhr.responseType = 'arraybuffer';\n        }\n      }\n\n      if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n        Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n          xhr.setRequestHeader(name, normalizeValue(init.headers[name]));\n        });\n      } else {\n        request.headers.forEach(function(value, name) {\n          xhr.setRequestHeader(name, value);\n        });\n      }\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!global.fetch) {\n    global.fetch = fetch;\n    global.Headers = Headers;\n    global.Request = Request;\n    global.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  return exports;\n\n})({});\n})(__globalThis__);\n// This is a ponyfill, so...\n__globalThis__.fetch.ponyfill = true;\ndelete __globalThis__.fetch.polyfill;\n// Choose between native implementation (__global__) or custom implementation (__globalThis__)\nvar ctx = __global__.fetch ? __global__ : __globalThis__;\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","var fetchApi\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch\n  } else {\n    fetchApi = fetch\n  }\n}\n\nif (typeof require !== 'undefined' && typeof window === 'undefined') {\n  var f = fetchApi || require('cross-fetch')\n  if (f.default) f = f.default\n  exports.default = f\n  module.exports = exports.default\n}\n","function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nimport { hasXMLHttpRequest } from './utils.js';\nimport * as fetchNode from './getFetch.cjs';\nvar fetchApi;\nif (typeof fetch === 'function') {\n  if (typeof global !== 'undefined' && global.fetch) {\n    fetchApi = global.fetch;\n  } else if (typeof window !== 'undefined' && window.fetch) {\n    fetchApi = window.fetch;\n  } else {\n    fetchApi = fetch;\n  }\n}\nvar XmlHttpRequestApi;\nif (hasXMLHttpRequest()) {\n  if (typeof global !== 'undefined' && global.XMLHttpRequest) {\n    XmlHttpRequestApi = global.XMLHttpRequest;\n  } else if (typeof window !== 'undefined' && window.XMLHttpRequest) {\n    XmlHttpRequestApi = window.XMLHttpRequest;\n  }\n}\nvar ActiveXObjectApi;\nif (typeof ActiveXObject === 'function') {\n  if (typeof global !== 'undefined' && global.ActiveXObject) {\n    ActiveXObjectApi = global.ActiveXObject;\n  } else if (typeof window !== 'undefined' && window.ActiveXObject) {\n    ActiveXObjectApi = window.ActiveXObject;\n  }\n}\nif (!fetchApi && fetchNode && !XmlHttpRequestApi && !ActiveXObjectApi) fetchApi = fetchNode.default || fetchNode;\nif (typeof fetchApi !== 'function') fetchApi = undefined;\nvar addQueryString = function addQueryString(url, params) {\n  if (params && _typeof(params) === 'object') {\n    var queryString = '';\n    for (var paramName in params) {\n      queryString += '&' + encodeURIComponent(paramName) + '=' + encodeURIComponent(params[paramName]);\n    }\n    if (!queryString) return url;\n    url = url + (url.indexOf('?') !== -1 ? '&' : '?') + queryString.slice(1);\n  }\n  return url;\n};\nvar fetchIt = function fetchIt(url, fetchOptions, callback, altFetch) {\n  var resolver = function resolver(response) {\n    if (!response.ok) return callback(response.statusText || 'Error', {\n      status: response.status\n    });\n    response.text().then(function (data) {\n      callback(null, {\n        status: response.status,\n        data: data\n      });\n    }).catch(callback);\n  };\n  if (altFetch) {\n    var altResponse = altFetch(url, fetchOptions);\n    if (altResponse instanceof Promise) {\n      altResponse.then(resolver).catch(callback);\n      return;\n    }\n  }\n  if (typeof fetch === 'function') {\n    fetch(url, fetchOptions).then(resolver).catch(callback);\n  } else {\n    fetchApi(url, fetchOptions).then(resolver).catch(callback);\n  }\n};\nvar omitFetchOptions = false;\nvar requestWithFetch = function requestWithFetch(options, url, payload, callback) {\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  var headers = _objectSpread({}, typeof options.customHeaders === 'function' ? options.customHeaders() : options.customHeaders);\n  if (typeof window === 'undefined' && typeof global !== 'undefined' && typeof global.process !== 'undefined' && global.process.versions && global.process.versions.node) {\n    headers['User-Agent'] = \"i18next-http-backend (node/\".concat(global.process.version, \"; \").concat(global.process.platform, \" \").concat(global.process.arch, \")\");\n  }\n  if (payload) headers['Content-Type'] = 'application/json';\n  var reqOptions = typeof options.requestOptions === 'function' ? options.requestOptions(payload) : options.requestOptions;\n  var fetchOptions = _objectSpread({\n    method: payload ? 'POST' : 'GET',\n    body: payload ? options.stringify(payload) : undefined,\n    headers: headers\n  }, omitFetchOptions ? {} : reqOptions);\n  var altFetch = typeof options.alternateFetch === 'function' && options.alternateFetch.length >= 1 ? options.alternateFetch : undefined;\n  try {\n    fetchIt(url, fetchOptions, callback, altFetch);\n  } catch (e) {\n    if (!reqOptions || Object.keys(reqOptions).length === 0 || !e.message || e.message.indexOf('not implemented') < 0) {\n      return callback(e);\n    }\n    try {\n      Object.keys(reqOptions).forEach(function (opt) {\n        delete fetchOptions[opt];\n      });\n      fetchIt(url, fetchOptions, callback, altFetch);\n      omitFetchOptions = true;\n    } catch (err) {\n      callback(err);\n    }\n  }\n};\nvar requestWithXmlHttpRequest = function requestWithXmlHttpRequest(options, url, payload, callback) {\n  if (payload && _typeof(payload) === 'object') {\n    payload = addQueryString('', payload).slice(1);\n  }\n  if (options.queryStringParams) {\n    url = addQueryString(url, options.queryStringParams);\n  }\n  try {\n    var x;\n    if (XmlHttpRequestApi) {\n      x = new XmlHttpRequestApi();\n    } else {\n      x = new ActiveXObjectApi('MSXML2.XMLHTTP.3.0');\n    }\n    x.open(payload ? 'POST' : 'GET', url, 1);\n    if (!options.crossDomain) {\n      x.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n    }\n    x.withCredentials = !!options.withCredentials;\n    if (payload) {\n      x.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    if (x.overrideMimeType) {\n      x.overrideMimeType('application/json');\n    }\n    var h = options.customHeaders;\n    h = typeof h === 'function' ? h() : h;\n    if (h) {\n      for (var i in h) {\n        x.setRequestHeader(i, h[i]);\n      }\n    }\n    x.onreadystatechange = function () {\n      x.readyState > 3 && callback(x.status >= 400 ? x.statusText : null, {\n        status: x.status,\n        data: x.responseText\n      });\n    };\n    x.send(payload);\n  } catch (e) {\n    console && console.log(e);\n  }\n};\nvar request = function request(options, url, payload, callback) {\n  if (typeof payload === 'function') {\n    callback = payload;\n    payload = undefined;\n  }\n  callback = callback || function () {};\n  if (fetchApi && url.indexOf('file:') !== 0) {\n    return requestWithFetch(options, url, payload, callback);\n  }\n  if (hasXMLHttpRequest() || typeof ActiveXObject === 'function') {\n    return requestWithXmlHttpRequest(options, url, payload, callback);\n  }\n  callback(new Error('No fetch and no xhr implementation found!'));\n};\nexport default request;","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : String(i); }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { makePromise } from './utils.js';\nimport request from './request.js';\nvar getDefaults = function getDefaults() {\n  return {\n    loadPath: '/locales/{{lng}}/{{ns}}.json',\n    addPath: '/locales/add/{{lng}}/{{ns}}',\n    parse: function parse(data) {\n      return JSON.parse(data);\n    },\n    stringify: JSON.stringify,\n    parsePayload: function parsePayload(namespace, key, fallbackValue) {\n      return _defineProperty({}, key, fallbackValue || '');\n    },\n    parseLoadPayload: function parseLoadPayload(languages, namespaces) {\n      return undefined;\n    },\n    request: request,\n    reloadInterval: typeof window !== 'undefined' ? false : 60 * 60 * 1000,\n    customHeaders: {},\n    queryStringParams: {},\n    crossDomain: false,\n    withCredentials: false,\n    overrideMimeType: false,\n    requestOptions: {\n      mode: 'cors',\n      credentials: 'same-origin',\n      cache: 'default'\n    }\n  };\n};\nvar Backend = function () {\n  function Backend(services) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, Backend);\n    this.services = services;\n    this.options = options;\n    this.allOptions = allOptions;\n    this.type = 'backend';\n    this.init(services, options, allOptions);\n  }\n  _createClass(Backend, [{\n    key: \"init\",\n    value: function init(services) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var allOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.services = services;\n      this.options = _objectSpread(_objectSpread(_objectSpread({}, getDefaults()), this.options || {}), options);\n      this.allOptions = allOptions;\n      if (this.services && this.options.reloadInterval) {\n        setInterval(function () {\n          return _this.reload();\n        }, this.options.reloadInterval);\n      }\n    }\n  }, {\n    key: \"readMulti\",\n    value: function readMulti(languages, namespaces, callback) {\n      this._readAny(languages, languages, namespaces, namespaces, callback);\n    }\n  }, {\n    key: \"read\",\n    value: function read(language, namespace, callback) {\n      this._readAny([language], language, [namespace], namespace, callback);\n    }\n  }, {\n    key: \"_readAny\",\n    value: function _readAny(languages, loadUrlLanguages, namespaces, loadUrlNamespaces, callback) {\n      var _this2 = this;\n      var loadPath = this.options.loadPath;\n      if (typeof this.options.loadPath === 'function') {\n        loadPath = this.options.loadPath(languages, namespaces);\n      }\n      loadPath = makePromise(loadPath);\n      loadPath.then(function (resolvedLoadPath) {\n        if (!resolvedLoadPath) return callback(null, {});\n        var url = _this2.services.interpolator.interpolate(resolvedLoadPath, {\n          lng: languages.join('+'),\n          ns: namespaces.join('+')\n        });\n        _this2.loadUrl(url, callback, loadUrlLanguages, loadUrlNamespaces);\n      });\n    }\n  }, {\n    key: \"loadUrl\",\n    value: function loadUrl(url, callback, languages, namespaces) {\n      var _this3 = this;\n      var lng = typeof languages === 'string' ? [languages] : languages;\n      var ns = typeof namespaces === 'string' ? [namespaces] : namespaces;\n      var payload = this.options.parseLoadPayload(lng, ns);\n      this.options.request(this.options, url, payload, function (err, res) {\n        if (res && (res.status >= 500 && res.status < 600 || !res.status)) return callback('failed loading ' + url + '; status code: ' + res.status, true);\n        if (res && res.status >= 400 && res.status < 500) return callback('failed loading ' + url + '; status code: ' + res.status, false);\n        if (!res && err && err.message && err.message.indexOf('Failed to fetch') > -1) return callback('failed loading ' + url + ': ' + err.message, true);\n        if (err) return callback(err, false);\n        var ret, parseErr;\n        try {\n          if (typeof res.data === 'string') {\n            ret = _this3.options.parse(res.data, languages, namespaces);\n          } else {\n            ret = res.data;\n          }\n        } catch (e) {\n          parseErr = 'failed parsing ' + url + ' to json';\n        }\n        if (parseErr) return callback(parseErr, false);\n        callback(null, ret);\n      });\n    }\n  }, {\n    key: \"create\",\n    value: function create(languages, namespace, key, fallbackValue, callback) {\n      var _this4 = this;\n      if (!this.options.addPath) return;\n      if (typeof languages === 'string') languages = [languages];\n      var payload = this.options.parsePayload(namespace, key, fallbackValue);\n      var finished = 0;\n      var dataArray = [];\n      var resArray = [];\n      languages.forEach(function (lng) {\n        var addPath = _this4.options.addPath;\n        if (typeof _this4.options.addPath === 'function') {\n          addPath = _this4.options.addPath(lng, namespace);\n        }\n        var url = _this4.services.interpolator.interpolate(addPath, {\n          lng: lng,\n          ns: namespace\n        });\n        _this4.options.request(_this4.options, url, payload, function (data, res) {\n          finished += 1;\n          dataArray.push(data);\n          resArray.push(res);\n          if (finished === languages.length) {\n            if (typeof callback === 'function') callback(dataArray, resArray);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      var _this5 = this;\n      var _this$services = this.services,\n        backendConnector = _this$services.backendConnector,\n        languageUtils = _this$services.languageUtils,\n        logger = _this$services.logger;\n      var currentLanguage = backendConnector.language;\n      if (currentLanguage && currentLanguage.toLowerCase() === 'cimode') return;\n      var toLoad = [];\n      var append = function append(lng) {\n        var lngs = languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(function (l) {\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      append(currentLanguage);\n      if (this.allOptions.preload) this.allOptions.preload.forEach(function (l) {\n        return append(l);\n      });\n      toLoad.forEach(function (lng) {\n        _this5.allOptions.ns.forEach(function (ns) {\n          backendConnector.read(lng, ns, 'read', null, null, function (err, data) {\n            if (err) logger.warn(\"loading namespace \".concat(ns, \" for language \").concat(lng, \" failed\"), err);\n            if (!err && data) logger.log(\"loaded namespace \".concat(ns, \" for language \").concat(lng), data);\n            backendConnector.loaded(\"\".concat(lng, \"|\").concat(ns), err, data);\n          });\n        });\n      });\n    }\n  }]);\n  return Backend;\n}();\nBackend.type = 'backend';\nexport default Backend;","import {VERSION} from '@coveo/headless';\r\n\r\nexport interface AtomicEnvironment {\r\n  version: string;\r\n  headlessVersion: string;\r\n}\r\n\r\ndeclare global {\r\n  interface Window {\r\n    [anyGlobalVariable: string]: AtomicEnvironment;\r\n  }\r\n}\r\n\r\nfunction getWindow() {\r\n  return window;\r\n}\r\n\r\nexport function getAtomicEnvironment(): AtomicEnvironment {\r\n  return {\r\n    version: process.env.VERSION!,\r\n    headlessVersion: VERSION,\r\n  };\r\n}\r\n\r\nexport function setCoveoGlobal(globalVariableName: string) {\r\n  if (getWindow()[globalVariableName]) {\r\n    return;\r\n  }\r\n  getWindow()[globalVariableName] = getAtomicEnvironment();\r\n}\r\n","// Necessary for Safari under version 15.4.\r\nexport function loadFocusVisiblePolyfill() {\r\n  if (window.applyFocusVisiblePolyfill) {\r\n    return;\r\n  }\r\n\r\n  try {\r\n    document.body.querySelector(':focus-visible');\r\n  } catch (error) {\r\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    // @ts-ignore\r\n    import('focus-visible/dist/focus-visible.min.js');\r\n  }\r\n}\r\n","export const locales: Record<string, () => Promise<unknown>> = {\n  af: () => import('dayjs/locale/af'),\n  am: () => import('dayjs/locale/am'),\n  'ar-DZ': () => import('dayjs/locale/ar-dz'),\n  'ar-IQ': () => import('dayjs/locale/ar-iq'),\n  'ar-KW': () => import('dayjs/locale/ar-kw'),\n  'ar-LY': () => import('dayjs/locale/ar-ly'),\n  'ar-MA': () => import('dayjs/locale/ar-ma'),\n  'ar-SA': () => import('dayjs/locale/ar-sa'),\n  'ar-TN': () => import('dayjs/locale/ar-tn'),\n  ar: () => import('dayjs/locale/ar'),\n  az: () => import('dayjs/locale/az'),\n  be: () => import('dayjs/locale/be'),\n  bg: () => import('dayjs/locale/bg'),\n  bi: () => import('dayjs/locale/bi'),\n  bm: () => import('dayjs/locale/bm'),\n  'bn-BD': () => import('dayjs/locale/bn-bd'),\n  bn: () => import('dayjs/locale/bn'),\n  bo: () => import('dayjs/locale/bo'),\n  br: () => import('dayjs/locale/br'),\n  bs: () => import('dayjs/locale/bs'),\n  ca: () => import('dayjs/locale/ca'),\n  cs: () => import('dayjs/locale/cs'),\n  cv: () => import('dayjs/locale/cv'),\n  cy: () => import('dayjs/locale/cy'),\n  da: () => import('dayjs/locale/da'),\n  'de-AT': () => import('dayjs/locale/de-at'),\n  'de-CH': () => import('dayjs/locale/de-ch'),\n  de: () => import('dayjs/locale/de'),\n  dv: () => import('dayjs/locale/dv'),\n  el: () => import('dayjs/locale/el'),\n  'en-AU': () => import('dayjs/locale/en-au'),\n  'en-CA': () => import('dayjs/locale/en-ca'),\n  'en-GB': () => import('dayjs/locale/en-gb'),\n  'en-IE': () => import('dayjs/locale/en-ie'),\n  'en-IL': () => import('dayjs/locale/en-il'),\n  'en-IN': () => import('dayjs/locale/en-in'),\n  'en-NZ': () => import('dayjs/locale/en-nz'),\n  'en-SG': () => import('dayjs/locale/en-sg'),\n  'en-TT': () => import('dayjs/locale/en-tt'),\n  en: () => import('dayjs/locale/en'),\n  eo: () => import('dayjs/locale/eo'),\n  'es-DO': () => import('dayjs/locale/es-do'),\n  'es-MX': () => import('dayjs/locale/es-mx'),\n  'es-PR': () => import('dayjs/locale/es-pr'),\n  'es-US': () => import('dayjs/locale/es-us'),\n  es: () => import('dayjs/locale/es'),\n  et: () => import('dayjs/locale/et'),\n  eu: () => import('dayjs/locale/eu'),\n  fa: () => import('dayjs/locale/fa'),\n  fi: () => import('dayjs/locale/fi'),\n  fo: () => import('dayjs/locale/fo'),\n  'fr-CA': () => import('dayjs/locale/fr-ca'),\n  'fr-CH': () => import('dayjs/locale/fr-ch'),\n  fr: () => import('dayjs/locale/fr'),\n  fy: () => import('dayjs/locale/fy'),\n  ga: () => import('dayjs/locale/ga'),\n  gd: () => import('dayjs/locale/gd'),\n  gl: () => import('dayjs/locale/gl'),\n  'gom-LATN': () => import('dayjs/locale/gom-latn'),\n  gu: () => import('dayjs/locale/gu'),\n  he: () => import('dayjs/locale/he'),\n  hi: () => import('dayjs/locale/hi'),\n  hr: () => import('dayjs/locale/hr'),\n  ht: () => import('dayjs/locale/ht'),\n  hu: () => import('dayjs/locale/hu'),\n  'hy-AM': () => import('dayjs/locale/hy-am'),\n  id: () => import('dayjs/locale/id'),\n  is: () => import('dayjs/locale/is'),\n  'it-CH': () => import('dayjs/locale/it-ch'),\n  it: () => import('dayjs/locale/it'),\n  ja: () => import('dayjs/locale/ja'),\n  jv: () => import('dayjs/locale/jv'),\n  ka: () => import('dayjs/locale/ka'),\n  kk: () => import('dayjs/locale/kk'),\n  km: () => import('dayjs/locale/km'),\n  kn: () => import('dayjs/locale/kn'),\n  ko: () => import('dayjs/locale/ko'),\n  ku: () => import('dayjs/locale/ku'),\n  ky: () => import('dayjs/locale/ky'),\n  lb: () => import('dayjs/locale/lb'),\n  lo: () => import('dayjs/locale/lo'),\n  lt: () => import('dayjs/locale/lt'),\n  lv: () => import('dayjs/locale/lv'),\n  me: () => import('dayjs/locale/me'),\n  mi: () => import('dayjs/locale/mi'),\n  mk: () => import('dayjs/locale/mk'),\n  ml: () => import('dayjs/locale/ml'),\n  mn: () => import('dayjs/locale/mn'),\n  mr: () => import('dayjs/locale/mr'),\n  'ms-MY': () => import('dayjs/locale/ms-my'),\n  ms: () => import('dayjs/locale/ms'),\n  mt: () => import('dayjs/locale/mt'),\n  my: () => import('dayjs/locale/my'),\n  nb: () => import('dayjs/locale/nb'),\n  ne: () => import('dayjs/locale/ne'),\n  'nl-BE': () => import('dayjs/locale/nl-be'),\n  nl: () => import('dayjs/locale/nl'),\n  pl: () => import('dayjs/locale/pl'),\n  'pt-BR': () => import('dayjs/locale/pt-br'),\n  pt: () => import('dayjs/locale/pt'),\n  rn: () => import('dayjs/locale/rn'),\n  ro: () => import('dayjs/locale/ro'),\n  ru: () => import('dayjs/locale/ru'),\n  rw: () => import('dayjs/locale/rw'),\n  sd: () => import('dayjs/locale/sd'),\n  se: () => import('dayjs/locale/se'),\n  si: () => import('dayjs/locale/si'),\n  sk: () => import('dayjs/locale/sk'),\n  sl: () => import('dayjs/locale/sl'),\n  sq: () => import('dayjs/locale/sq'),\n  'sr-CYRL': () => import('dayjs/locale/sr-cyrl'),\n  sr: () => import('dayjs/locale/sr'),\n  ss: () => import('dayjs/locale/ss'),\n  'sv-FI': () => import('dayjs/locale/sv-fi'),\n  sv: () => import('dayjs/locale/sv'),\n  sw: () => import('dayjs/locale/sw'),\n  ta: () => import('dayjs/locale/ta'),\n  te: () => import('dayjs/locale/te'),\n  tet: () => import('dayjs/locale/tet'),\n  tg: () => import('dayjs/locale/tg'),\n  th: () => import('dayjs/locale/th'),\n  tk: () => import('dayjs/locale/tk'),\n  'tl-PH': () => import('dayjs/locale/tl-ph'),\n  tlh: () => import('dayjs/locale/tlh'),\n  tr: () => import('dayjs/locale/tr'),\n  tzl: () => import('dayjs/locale/tzl'),\n  'tzm-LATN': () => import('dayjs/locale/tzm-latn'),\n  tzm: () => import('dayjs/locale/tzm'),\n  'ug-CN': () => import('dayjs/locale/ug-cn'),\n  uk: () => import('dayjs/locale/uk'),\n  ur: () => import('dayjs/locale/ur'),\n  'uz-LATN': () => import('dayjs/locale/uz-latn'),\n  uz: () => import('dayjs/locale/uz'),\n  vi: () => import('dayjs/locale/vi'),\n  'x-PSEUDO': () => import('dayjs/locale/x-pseudo'),\n  yo: () => import('dayjs/locale/yo'),\n  'zh-CN': () => import('dayjs/locale/zh-cn'),\n  'zh-HK': () => import('dayjs/locale/zh-hk'),\n  'zh-TW': () => import('dayjs/locale/zh-tw'),\n  zh: () => import('dayjs/locale/zh'),\n  'pa-IN': () => import('dayjs/locale/pa-in'),\n  'oc-LNC': () => import('dayjs/locale/oc-lnc'),\n  nn: () => import('dayjs/locale/nn'),\n};\n","import dayjs from 'dayjs';\r\nimport {locales} from '../generated/dayjs-locales-data';\r\n\r\nconst warn = (language: string) =>\r\n  console.warn(`Cannot load dayjs locale file file for \"${language}\"`);\r\n\r\nconst resolveLanguage = (languageInput: string) => {\r\n  if (locales[languageInput]) {\r\n    return languageInput;\r\n  }\r\n\r\n  if (languageInput.includes('-')) {\r\n    const regionlessLanguage = languageInput.split('-')[0];\r\n    if (locales[regionlessLanguage]) {\r\n      return regionlessLanguage;\r\n    }\r\n  }\r\n\r\n  return languageInput;\r\n};\r\n\r\nexport function loadDayjsLocale(languageInput: string) {\r\n  const language = resolveLanguage(languageInput);\r\n  if (!locales[language]) {\r\n    warn(language);\r\n    return;\r\n  }\r\n\r\n  try {\r\n    locales[language]().then(() => dayjs.locale(language));\r\n  } catch (error) {\r\n    warn(language);\r\n  }\r\n}\r\n","import {getAssetPath} from '@stencil/core';\r\nimport DOMPurify from 'dompurify';\r\nimport Backend, {HttpBackendOptions} from 'i18next-http-backend';\r\nimport availableLocales from '../../../generated/availableLocales.json';\r\nimport {AnyEngineType} from './bindings';\r\nimport {BaseAtomicInterface} from './interface-common';\r\n\r\nexport const i18nTranslationNamespace = 'translation';\r\nexport type i18nCompatibilityVersion = 'v3' | 'v4';\r\n\r\nfunction isI18nLocaleAvailable(locale: string) {\r\n  return availableLocales.includes(locale.toLowerCase());\r\n}\r\n\r\nexport function i18nBackendOptions(\r\n  atomicInterface: BaseAtomicInterface<AnyEngineType>\r\n): HttpBackendOptions {\r\n  return {\r\n    loadPath: `${getAssetPath(\r\n      atomicInterface.languageAssetsPath\r\n    )}/{{lng}}.json?lng={{lng}}&ns={{ns}}`,\r\n    request: async (_options, url, _payload, callback) => {\r\n      try {\r\n        const [fetchUrl, searchParams] = url.split('?');\r\n        const urlParams = new URLSearchParams(searchParams);\r\n        const lng = urlParams.get('lng')!;\r\n        const ns = urlParams.get('ns')!;\r\n\r\n        if (!isI18nLocaleAvailable(lng)) {\r\n          throw new Error(`Unsupported locale \"${lng}\"`);\r\n        }\r\n\r\n        if (ns !== i18nTranslationNamespace) {\r\n          throw new Error(`Unsupported namespace \"${ns}\"`);\r\n        }\r\n\r\n        const response = await fetch(fetchUrl);\r\n        if (response.status !== 200 && response.status !== 304) {\r\n          throw new Error(\r\n            `Unsuccessful request returned status \"${response.status}\"`\r\n          );\r\n        }\r\n\r\n        callback(null, {\r\n          status: response.status,\r\n          data: await response.json(),\r\n        });\r\n      } catch (error) {\r\n        callback(error, {status: 404, data: ''});\r\n      }\r\n    },\r\n  };\r\n}\r\n\r\nexport function init18n(atomicInterface: BaseAtomicInterface<AnyEngineType>) {\r\n  return atomicInterface.i18n.use(Backend).init({\r\n    debug: atomicInterface.logLevel === 'debug',\r\n    lng: atomicInterface.language,\r\n    nsSeparator: '___',\r\n    fallbackLng: 'en',\r\n    backend: i18nBackendOptions(atomicInterface),\r\n    interpolation: {\r\n      escape: (str) => DOMPurify.sanitize(str),\r\n    },\r\n    compatibilityJSON: atomicInterface.localizationCompatibilityVersion,\r\n  });\r\n}\r\n\r\ndeclare module 'i18next' {\r\n  interface CustomTypeOptions {\r\n    resources: Record<string, Record<string, string>>;\r\n  }\r\n}\r\n","import {LogLevel} from '@coveo/headless';\r\nimport {ComponentInterface, h} from '@stencil/core';\r\nimport {HTMLStencilElement} from '@stencil/core/internal';\r\nimport {i18n, TFunction} from 'i18next';\r\nimport Backend from 'i18next-http-backend';\r\nimport {setCoveoGlobal} from '../../../global/environment';\r\nimport {loadFocusVisiblePolyfill} from '../../../global/focus-visible';\r\nimport {loadDayjsLocale} from '../../../utils/dayjs-locales';\r\nimport {InitializeEvent} from '../../../utils/initialization-utils';\r\nimport {\r\n  i18nBackendOptions,\r\n  i18nCompatibilityVersion,\r\n  i18nTranslationNamespace,\r\n} from '../../common/interface/i18n';\r\nimport {AnyBindings, AnyEngineType} from './bindings';\r\nimport {init18n} from './i18n';\r\n\r\nexport interface BaseAtomicInterface<EngineType extends AnyEngineType>\r\n  extends ComponentInterface {\r\n  analytics: boolean;\r\n  i18n: i18n;\r\n  engine?: EngineType;\r\n  languageAssetsPath: string;\r\n  iconAssetsPath: string;\r\n  logLevel?: LogLevel;\r\n  language: string;\r\n  host: HTMLStencilElement;\r\n  bindings: AnyBindings;\r\n  error?: Error;\r\n  localizationCompatibilityVersion?: i18nCompatibilityVersion;\r\n\r\n  updateIconAssetsPath(): void;\r\n  registerFieldsToInclude?: () => void; // Fix: Removed the question mark and added a semicolon.\r\n}\r\n\r\nexport const mismatchedInterfaceAndEnginePropError = (\r\n  interfaceKind: 'search' | 'recommendation',\r\n  configurationName: 'query pipeline' | 'search hub'\r\n) =>\r\n  `A ${configurationName} is configured on the ${interfaceKind} interface element, but the ${interfaceKind} interface was initialized with an engine. You should only configure the ${configurationName} in the target engine.`;\r\n\r\nexport class CommonAtomicInterfaceHelper<Engine extends AnyEngineType> {\r\n  private i18nPromise!: Promise<TFunction>;\r\n  private hangingComponentsInitialization: InitializeEvent[] = [];\r\n\r\n  constructor(\r\n    private atomicInterface: BaseAtomicInterface<Engine>,\r\n    globalVariableName: string\r\n  ) {\r\n    setCoveoGlobal(globalVariableName);\r\n    loadFocusVisiblePolyfill();\r\n\r\n    const {\r\n      connectedCallback: originalConnectedCallback,\r\n      render: originalRender,\r\n    } = atomicInterface;\r\n\r\n    atomicInterface.connectedCallback = () => {\r\n      this.i18nPromise = init18n(atomicInterface);\r\n\r\n      return (\r\n        originalConnectedCallback &&\r\n        originalConnectedCallback.call(atomicInterface)\r\n      );\r\n    };\r\n\r\n    atomicInterface.render = () => {\r\n      if (atomicInterface.error) {\r\n        return (\r\n          <atomic-component-error\r\n            element={atomicInterface.host}\r\n            error={atomicInterface.error}\r\n          ></atomic-component-error>\r\n        );\r\n      }\r\n\r\n      return originalRender && originalRender.call(atomicInterface);\r\n    };\r\n  }\r\n\r\n  public onComponentInitializing(event: InitializeEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    if (this.atomicInterface.engine) {\r\n      event.detail(this.atomicInterface.bindings);\r\n      return;\r\n    }\r\n\r\n    this.hangingComponentsInitialization.push(event);\r\n  }\r\n\r\n  public async onInitialization(initEngine: () => void) {\r\n    if (this.atomicInterface.engine) {\r\n      this.atomicInterface.engine.logger.warn(\r\n        `The ${this.interfaceTagname} component \"initialize\" has already been called.`,\r\n        this.atomicInterface.host\r\n      );\r\n      return;\r\n    }\r\n\r\n    this.atomicInterface.updateIconAssetsPath();\r\n    initEngine();\r\n    if (this.atomicInterface.registerFieldsToInclude) {\r\n      this.atomicInterface.registerFieldsToInclude();\r\n    }\r\n    loadDayjsLocale(this.atomicInterface.language);\r\n    await this.i18nPromise;\r\n    this.initComponents();\r\n  }\r\n\r\n  public onAnalyticsChange() {\r\n    const {engine, analytics} = this.atomicInterface;\r\n    if (!this.engineIsCreated(engine)) {\r\n      return;\r\n    }\r\n\r\n    if (!analytics) {\r\n      engine.disableAnalytics();\r\n      return;\r\n    }\r\n\r\n    engine.enableAnalytics();\r\n  }\r\n\r\n  public onLanguageChange() {\r\n    const {i18n, language} = this.atomicInterface;\r\n\r\n    loadDayjsLocale(language);\r\n    new Backend(i18n.services, i18nBackendOptions(this.atomicInterface)).read(\r\n      language,\r\n      i18nTranslationNamespace,\r\n      (_: unknown, data: unknown) => {\r\n        i18n.addResourceBundle(\r\n          language,\r\n          i18nTranslationNamespace,\r\n          data,\r\n          true,\r\n          false\r\n        );\r\n        i18n.changeLanguage(language);\r\n      }\r\n    );\r\n  }\r\n\r\n  public engineIsCreated(engine?: Engine): engine is Engine {\r\n    if (!engine) {\r\n      console.error(\r\n        `You have to call \"initialize\" on the ${this.interfaceTagname} component before modifying the props or calling other public methods.`,\r\n        this.atomicInterface.host\r\n      );\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  private get interfaceTagname() {\r\n    return this.atomicInterface.host.tagName.toLowerCase();\r\n  }\r\n\r\n  private initComponents() {\r\n    this.hangingComponentsInitialization.forEach((event) =>\r\n      event.detail(this.atomicInterface.bindings)\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"}