{"version":3,"names":["getPartialRecentQueryElement","value","i18n","part","query","key","encodeForDomAttribute","ariaLabel","t","interpolation","escapeValue","getPartialRecentQueryClearElement","hideIfLast","RecentQueriesContainer","_","children","h","class","RecentQueryIcon","icon","RecentQueryText","innerHTML","HighlightUtils","highlightString","content","openingDelimiter","closingDelimiter","highlights","offset","length","RecentQueryClear"],"sources":["src/components/common/suggestions/recent-queries.tsx"],"sourcesContent":["import {HighlightUtils} from '@coveo/headless';\nimport {FunctionalComponent, h} from '@stencil/core';\nimport {i18n} from 'i18next';\nimport {encodeForDomAttribute} from '../../../utils/string-utils';\nimport {SearchBoxSuggestionElement} from './suggestions-common';\n\nexport const getPartialRecentQueryElement = (\n  value: string,\n  i18n: i18n\n): Pick<SearchBoxSuggestionElement, 'ariaLabel' | 'key' | 'query' | 'part'> => {\n  return {\n    part: 'recent-query-item',\n    query: value,\n    key: `recent-${encodeForDomAttribute(value)}`,\n    ariaLabel: i18n.t('recent-query-suggestion-label', {\n      query: value,\n      interpolation: {escapeValue: false},\n    }),\n  };\n};\n\nexport const getPartialRecentQueryClearElement = (\n  i18n: i18n\n): Pick<\n  SearchBoxSuggestionElement,\n  'ariaLabel' | 'key' | 'part' | 'hideIfLast'\n> => {\n  return {\n    key: 'recent-query-clear',\n    ariaLabel: i18n.t('clear-recent-searches', {\n      interpolation: {escapeValue: false},\n    }),\n    part: 'recent-query-title-item suggestion-divider',\n    hideIfLast: true,\n  };\n};\n\nexport const RecentQueriesContainer: FunctionalComponent = (_, children) => {\n  return (\n    <div\n      part=\"recent-query-content\"\n      class=\"flex items-center break-all text-left\"\n    >\n      {children}\n    </div>\n  );\n};\n\ninterface RecentQueryIconProps {\n  icon: string;\n}\n\nexport const RecentQueryIcon: FunctionalComponent<RecentQueryIconProps> = ({\n  icon,\n}) => {\n  return (\n    <atomic-icon\n      part=\"recent-query-icon\"\n      icon={icon}\n      class=\"w-4 h-4 mr-2 shrink-0\"\n    ></atomic-icon>\n  );\n};\n\ninterface RecentQueryTextProps {\n  query: string;\n  value: string;\n}\n\nexport const RecentQueryText: FunctionalComponent<RecentQueryTextProps> = ({\n  query,\n  value,\n}) => {\n  if (query === '') {\n    return (\n      <span part=\"recent-query-text\" class=\"break-all line-clamp-2\">\n        {value}\n      </span>\n    );\n  }\n  return (\n    <span\n      part=\"recent-query-text\"\n      class=\"break-all line-clamp-2\"\n      innerHTML={HighlightUtils.highlightString({\n        content: value,\n        openingDelimiter:\n          '<span part=\"recent-query-text-highlight\" class=\"font-bold\">',\n        closingDelimiter: '</span>',\n        highlights: [\n          {\n            offset: query.length,\n            length: value.length - query.length,\n          },\n        ],\n      })}\n    ></span>\n  );\n};\n\ninterface RecentQueryClearProps {\n  i18n: i18n;\n}\n\nexport const RecentQueryClear: FunctionalComponent<RecentQueryClearProps> = ({\n  i18n,\n}) => {\n  return (\n    <div part=\"recent-query-title-content\" class=\"flex justify-between w-full\">\n      <span class=\"font-bold\" part=\"recent-query-title\">\n        {i18n.t('recent-searches')}\n      </span>\n      <span part=\"recent-query-clear\">{i18n.t('clear')}</span>\n    </div>\n  );\n};\n"],"mappings":"kHAMaA,EAA+B,CAC1CC,EACAC,KAEO,CACLC,KAAM,oBACNC,MAAOH,EACPI,IAAK,UAAUC,EAAsBL,KACrCM,UAAWL,EAAKM,EAAE,gCAAiC,CACjDJ,MAAOH,EACPQ,cAAe,CAACC,YAAa,W,MAKtBC,EACXT,IAKO,CACLG,IAAK,qBACLE,UAAWL,EAAKM,EAAE,wBAAyB,CACzCC,cAAe,CAACC,YAAa,SAE/BP,KAAM,6CACNS,WAAY,O,MAIHC,EAA8C,CAACC,EAAGC,IAE3DC,EAAA,OACEb,KAAK,uBACLc,MAAM,yCAELF,G,MASMG,EAA6D,EACxEC,UAGEH,EAAA,eACEb,KAAK,oBACLgB,KAAMA,EACNF,MAAM,0B,MAUCG,EAA6D,EACxEhB,QACAH,YAEA,GAAIG,IAAU,GAAI,CAChB,OACEY,EAAA,QAAMb,KAAK,oBAAoBc,MAAM,0BAClChB,E,CAIP,OACEe,EAAA,QACEb,KAAK,oBACLc,MAAM,yBACNI,UAAWC,EAAeC,gBAAgB,CACxCC,QAASvB,EACTwB,iBACE,8DACFC,iBAAkB,UAClBC,WAAY,CACV,CACEC,OAAQxB,EAAMyB,OACdA,OAAQ5B,EAAM4B,OAASzB,EAAMyB,YAI7B,E,MAQCC,EAA+D,EAC1E5B,UAGEc,EAAA,OAAKb,KAAK,6BAA6Bc,MAAM,+BAC3CD,EAAA,QAAMC,MAAM,YAAYd,KAAK,sBAC1BD,EAAKM,EAAE,oBAEVQ,EAAA,QAAMb,KAAK,sBAAsBD,EAAKM,EAAE,kB"}