{"version":3,"names":["atomicQuerySummaryCss","AtomicQuerySummaryStyle0","AtomicQuerySummary","initialize","this","querySummary","buildQuerySummary","bindings","engine","render","firstSearchExecuted","hasResults","hasError","total","firstResult","lastResult","query","durationInSeconds","isLoading","querySummaryState","i18nKey","highlights","ariaLiveMessage","getQuerySummaryI18nParameters","first","last","i18n","ariaMessage","h","QuerySummaryGuard","key","QuerySummaryContainer","LocalizedString","params","count","class","part","toLocaleString","__decorate","InitializeBindings","BindStateToController","AriaLiveRegion"],"sources":["src/components/search/atomic-query-summary/atomic-query-summary.pcss?tag=atomic-query-summary&encapsulation=shadow","src/components/search/atomic-query-summary/atomic-query-summary.tsx"],"sourcesContent":["@import '../../../global/global.pcss';\n\n:host {\n  overflow: hidden;\n}\n","import {\n  QuerySummary,\n  QuerySummaryState,\n  buildQuerySummary,\n} from '@coveo/headless';\nimport {Component, h, State} from '@stencil/core';\nimport {AriaLiveRegion} from '../../../utils/accessibility-utils';\nimport {\n  BindStateToController,\n  InitializableComponent,\n  InitializeBindings,\n} from '../../../utils/initialization-utils';\nimport {LocalizedString} from '../../../utils/jsx-utils';\nimport {QuerySummaryContainer} from '../../common/query-summary/container';\nimport {QuerySummaryGuard} from '../../common/query-summary/guard';\nimport {getQuerySummaryI18nParameters} from '../../common/query-summary/utils';\nimport {Bindings} from '../atomic-search-interface/atomic-search-interface';\n\n/**\n * The `atomic-query-summary` component displays information about the current range of results and the request duration (e.g., \"Results 1-10 of 123 in 0.47 seconds\").\n *\n * @part container - The container for the whole summary.\n * @part results - The container for the results.\n * @part duration - The container for the duration.\n * @part highlight - The summary highlights.\n * @part query - The summary highlighted query.\n * @part placeholder - The query summary placeholder used while the search interface is initializing.\n */\n@Component({\n  tag: 'atomic-query-summary',\n  styleUrl: 'atomic-query-summary.pcss',\n  shadow: true,\n})\nexport class AtomicQuerySummary implements InitializableComponent {\n  @InitializeBindings() public bindings!: Bindings;\n  public querySummary!: QuerySummary;\n\n  @BindStateToController('querySummary')\n  @State()\n  private querySummaryState!: QuerySummaryState;\n  @State() public error!: Error;\n\n  @AriaLiveRegion('query-summary')\n  protected ariaMessage!: string;\n\n  public initialize() {\n    this.querySummary = buildQuerySummary(this.bindings.engine);\n  }\n\n  public render() {\n    const {\n      firstSearchExecuted,\n      hasResults,\n      hasError,\n      total,\n      firstResult,\n      lastResult,\n      query,\n      durationInSeconds,\n      isLoading,\n    } = this.querySummaryState;\n\n    const {i18nKey, highlights, ariaLiveMessage} =\n      getQuerySummaryI18nParameters({\n        first: firstResult,\n        last: lastResult,\n        query,\n        total,\n        i18n: this.bindings.i18n,\n        isLoading,\n      });\n\n    this.ariaMessage = ariaLiveMessage;\n\n    return (\n      <QuerySummaryGuard\n        firstSearchExecuted={firstSearchExecuted}\n        hasResults={hasResults}\n        hasError={hasError}\n      >\n        <QuerySummaryContainer>\n          <LocalizedString\n            key={i18nKey}\n            bindings={this.bindings}\n            params={highlights}\n            count={total}\n          />\n          <span class=\"hidden\" part=\"duration\">\n            &nbsp;\n            <LocalizedString\n              key=\"in-seconds\"\n              bindings={this.bindings}\n              params={{\n                count: durationInSeconds.toLocaleString(),\n              }}\n            />\n          </span>\n        </QuerySummaryContainer>\n      </QuerySummaryGuard>\n    );\n  }\n}\n"],"mappings":"uTAAA,MAAMA,EAAwB,8/tCAC9B,MAAAC,EAAeD,E,iXCgCFE,EAAkB,M,+EAYtB,UAAAC,GACLC,KAAKC,aAAeC,EAAkBF,KAAKG,SAASC,O,CAG/C,MAAAC,GACL,MAAMC,oBACJA,EAAmBC,WACnBA,EAAUC,SACVA,EAAQC,MACRA,EAAKC,YACLA,EAAWC,WACXA,EAAUC,MACVA,EAAKC,kBACLA,EAAiBC,UACjBA,GACEd,KAAKe,kBAET,MAAMC,QAACA,EAAOC,WAAEA,EAAUC,gBAAEA,GAC1BC,EAA8B,CAC5BC,MAAOV,EACPW,KAAMV,EACNC,QACAH,QACAa,KAAMtB,KAAKG,SAASmB,KACpBR,cAGJd,KAAKuB,YAAcL,EAEnB,OACEM,EAACC,EAAiB,CAAAC,IAAA,2CAChBpB,oBAAqBA,EACrBC,WAAYA,EACZC,SAAUA,GAEVgB,EAACG,EAAqB,CAAAD,IAAA,4CACpBF,EAACI,EAAe,CACdF,IAAKV,EACLb,SAAUH,KAAKG,SACf0B,OAAQZ,EACRa,MAAOrB,IAETe,EAAA,QAAAE,IAAA,2CAAMK,MAAM,SAASC,KAAK,YAAU,IAElCR,EAACI,EAAe,CACdF,IAAI,aACJvB,SAAUH,KAAKG,SACf0B,OAAQ,CACNC,MAAOjB,EAAkBoB,sB,GA3DVC,EAAA,CAA5BC,K,+BAKOD,EAAA,CAFPE,EAAsB,iB,wCAMbF,EAAA,CADTG,EAAe,kB"}